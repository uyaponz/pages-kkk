(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function uv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jh={exports:{}},ql={};var zy;function kT(){if(zy)return ql;zy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var g in o)g!=="key"&&(f[g]=o[g])}else f=o;return o=f.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:f}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var By;function qT(){return By||(By=1,jh.exports=kT()),jh.exports}var it=qT(),kh={exports:{}},vt={};var Py;function HT(){if(Py)return vt;Py=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,J={};function rt(O,X,nt){this.props=O,this.context=X,this.refs=J,this.updater=nt||H}rt.prototype.isReactComponent={},rt.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},rt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ut(){}ut.prototype=rt.prototype;function ft(O,X,nt){this.props=O,this.context=X,this.refs=J,this.updater=nt||H}var wt=ft.prototype=new ut;wt.constructor=ft,$(wt,rt.prototype),wt.isPureReactComponent=!0;var jt=Array.isArray;function Rt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(O,X,nt){var lt=nt.ref;return{$$typeof:r,type:O,key:X,ref:lt!==void 0?lt:null,props:nt}}function M(O,X){return R(O.type,X,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return X[nt]})}var w=/\/+/g;function ie(O,X){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):X.toString(36)}function De(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Rt,Rt):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,X,nt,lt,yt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var xt=!1;if(O===null)xt=!0;else switch(St){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(O.$$typeof){case r:case e:xt=!0;break;case T:return xt=O._init,F(xt(O._payload),X,nt,lt,yt)}}if(xt)return yt=yt(O),xt=lt===""?"."+ie(O,0):lt,jt(yt)?(nt="",xt!=null&&(nt=xt.replace(w,"$&/")+"/"),F(yt,X,nt,"",function(qa){return qa})):yt!=null&&(I(yt)&&(yt=M(yt,nt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+xt)),X.push(yt)),1;xt=0;var Ie=lt===""?".":lt+":";if(jt(O))for(var ae=0;ae<O.length;ae++)lt=O[ae],St=Ie+ie(lt,ae),xt+=F(lt,X,nt,St,yt);else if(ae=j(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(lt=O.next()).done;)lt=lt.value,St=Ie+ie(lt,ae++),xt+=F(lt,X,nt,St,yt);else if(St==="object"){if(typeof O.then=="function")return F(De(O),X,nt,lt,yt);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return xt}function et(O,X,nt){if(O==null)return O;var lt=[],yt=0;return F(O,lt,"","",function(St){return X.call(nt,St,yt++)}),lt}function mt(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var zt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:et,forEach:function(O,X,nt){et(O,function(){X.apply(this,arguments)},nt)},count:function(O){var X=0;return et(O,function(){X++}),X},toArray:function(O){return et(O,function(X){return X})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=S,vt.Children=Gt,vt.Component=rt,vt.Fragment=i,vt.Profiler=o,vt.PureComponent=ft,vt.StrictMode=s,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,X,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var lt=$({},O.props),yt=O.key;if(X!=null)for(St in X.key!==void 0&&(yt=""+X.key),X)!b.call(X,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&X.ref===void 0||(lt[St]=X[St]);var St=arguments.length-2;if(St===1)lt.children=nt;else if(1<St){for(var xt=Array(St),Ie=0;Ie<St;Ie++)xt[Ie]=arguments[Ie+2];lt.children=xt}return R(O.type,yt,lt)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:f,_context:O},O},vt.createElement=function(O,X,nt){var lt,yt={},St=null;if(X!=null)for(lt in X.key!==void 0&&(St=""+X.key),X)b.call(X,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(yt[lt]=X[lt]);var xt=arguments.length-2;if(xt===1)yt.children=nt;else if(1<xt){for(var Ie=Array(xt),ae=0;ae<xt;ae++)Ie[ae]=arguments[ae+2];yt.children=Ie}if(O&&O.defaultProps)for(lt in xt=O.defaultProps,xt)yt[lt]===void 0&&(yt[lt]=xt[lt]);return R(O,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:g,render:O}},vt.isValidElement=I,vt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:mt}},vt.memo=function(O,X){return{$$typeof:y,type:O,compare:X===void 0?null:X}},vt.startTransition=function(O){var X=D.T,nt={};D.T=nt;try{var lt=O(),yt=D.S;yt!==null&&yt(nt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Rt,zt)}catch(St){zt(St)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),D.T=X}},vt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vt.use=function(O){return D.H.use(O)},vt.useActionState=function(O,X,nt){return D.H.useActionState(O,X,nt)},vt.useCallback=function(O,X){return D.H.useCallback(O,X)},vt.useContext=function(O){return D.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,X){return D.H.useDeferredValue(O,X)},vt.useEffect=function(O,X){return D.H.useEffect(O,X)},vt.useEffectEvent=function(O){return D.H.useEffectEvent(O)},vt.useId=function(){return D.H.useId()},vt.useImperativeHandle=function(O,X,nt){return D.H.useImperativeHandle(O,X,nt)},vt.useInsertionEffect=function(O,X){return D.H.useInsertionEffect(O,X)},vt.useLayoutEffect=function(O,X){return D.H.useLayoutEffect(O,X)},vt.useMemo=function(O,X){return D.H.useMemo(O,X)},vt.useOptimistic=function(O,X){return D.H.useOptimistic(O,X)},vt.useReducer=function(O,X,nt){return D.H.useReducer(O,X,nt)},vt.useRef=function(O){return D.H.useRef(O)},vt.useState=function(O){return D.H.useState(O)},vt.useSyncExternalStore=function(O,X,nt){return D.H.useSyncExternalStore(O,X,nt)},vt.useTransition=function(){return D.H.useTransition()},vt.version="19.2.0",vt}var jy;function Dd(){return jy||(jy=1,kh.exports=HT()),kh.exports}var tt=Dd();const Qe=uv(tt);var qh={exports:{}},Hl={},Hh={exports:{}},Gh={};var ky;function GT(){return ky||(ky=1,(function(r){function e(F,et){var mt=F.length;F.push(et);t:for(;0<mt;){var zt=mt-1>>>1,Gt=F[zt];if(0<o(Gt,et))F[zt]=et,F[mt]=Gt,mt=zt;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var et=F[0],mt=F.pop();if(mt!==et){F[0]=mt;t:for(var zt=0,Gt=F.length,O=Gt>>>1;zt<O;){var X=2*(zt+1)-1,nt=F[X],lt=X+1,yt=F[lt];if(0>o(nt,mt))lt<Gt&&0>o(yt,nt)?(F[zt]=yt,F[lt]=mt,zt=lt):(F[zt]=nt,F[X]=mt,zt=X);else if(lt<Gt&&0>o(yt,mt))F[zt]=yt,F[lt]=mt,zt=lt;else break t}}return et}function o(F,et){var mt=F.sortIndex-et.sortIndex;return mt!==0?mt:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],T=1,S=null,V=3,j=!1,H=!1,$=!1,J=!1,rt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function wt(F){for(var et=i(y);et!==null;){if(et.callback===null)s(y);else if(et.startTime<=F)s(y),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(y)}}function jt(F){if($=!1,wt(F),!H)if(i(_)!==null)H=!0,Rt||(Rt=!0,L());else{var et=i(y);et!==null&&De(jt,et.startTime-F)}}var Rt=!1,D=-1,b=5,R=-1;function M(){return J?!0:!(r.unstable_now()-R<b)}function I(){if(J=!1,Rt){var F=r.unstable_now();R=F;var et=!0;try{t:{H=!1,$&&($=!1,ut(D),D=-1),j=!0;var mt=V;try{e:{for(wt(F),S=i(_);S!==null&&!(S.expirationTime>F&&M());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,V=S.priorityLevel;var Gt=zt(S.expirationTime<=F);if(F=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,wt(F),et=!0;break e}S===i(_)&&s(_),wt(F)}else s(_);S=i(_)}if(S!==null)et=!0;else{var O=i(y);O!==null&&De(jt,O.startTime-F),et=!1}}break t}finally{S=null,V=mt,j=!1}et=void 0}}finally{et?L():Rt=!1}}}var L;if(typeof ft=="function")L=function(){ft(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=I,L=function(){ie.postMessage(null)}}else L=function(){rt(I,0)};function De(F,et){D=rt(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(F){switch(V){case 1:case 2:case 3:var et=3;break;default:et=V}var mt=V;V=et;try{return F()}finally{V=mt}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var mt=V;V=F;try{return et()}finally{V=mt}},r.unstable_scheduleCallback=function(F,et,mt){var zt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?zt+mt:zt):mt=zt,F){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=mt+Gt,F={id:T++,callback:et,priorityLevel:F,startTime:mt,expirationTime:Gt,sortIndex:-1},mt>zt?(F.sortIndex=mt,e(y,F),i(_)===null&&F===i(y)&&($?(ut(D),D=-1):$=!0,De(jt,mt-zt))):(F.sortIndex=Gt,e(_,F),H||j||(H=!0,Rt||(Rt=!0,L()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var et=V;return function(){var mt=V;V=et;try{return F.apply(this,arguments)}finally{V=mt}}}})(Gh)),Gh}var qy;function FT(){return qy||(qy=1,Hh.exports=GT()),Hh.exports}var Fh={exports:{}},Ke={};var Hy;function QT(){if(Hy)return Ke;Hy=1;var r=Dd();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(_,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return f(_,y,null,T)},Ke.flushSync=function(_){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=T,s.d.f()}},Ke.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},Ke.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Ke.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:j}):T==="script"&&s.d.X(_,{crossOrigin:S,integrity:V,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},Ke.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin);s.d.L(_,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},Ke.requestFormReset=function(_){s.d.r(_)},Ke.unstable_batchedUpdates=function(_,y){return _(y)},Ke.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var Gy;function cv(){if(Gy)return Fh.exports;Gy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fh.exports=QT(),Fh.exports}var Fy;function YT(){if(Fy)return Hl;Fy=1;var r=FT(),e=Dd(),i=cv();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(f(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return _(c),t;if(h===l)return _(c),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=h;else{for(var p=!1,E=c.child;E;){if(E===a){p=!0,a=c,l=h;break}if(E===l){p=!0,l=c,a=h;break}E=E.sibling}if(!p){for(E=h.child;E;){if(E===a){p=!0,a=h,l=c;break}if(E===l){p=!0,l=h,a=c;break}E=E.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),wt=Symbol.for("react.forward_ref"),jt=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case rt:return"Profiler";case J:return"StrictMode";case jt:return"Suspense";case Rt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ft:return t.displayName||"Context";case ut:return(t._context.displayName||"Context")+".Consumer";case wt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var De=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function O(t){return{current:t}}function X(t){0>Gt||(t.current=zt[Gt],zt[Gt]=null,Gt--)}function nt(t,n){Gt++,zt[Gt]=t.current,t.current=n}var lt=O(null),yt=O(null),St=O(null),xt=O(null);function Ie(t,n){switch(nt(St,n),nt(yt,t),nt(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?sy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=sy(n),t=ly(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(lt),nt(lt,t)}function ae(){X(lt),X(yt),X(St)}function qa(t){t.memoizedState!==null&&nt(xt,t);var n=lt.current,a=ly(n,t.type);n!==a&&(nt(yt,t),nt(lt,a))}function Cr(t){yt.current===t&&(X(lt),X(yt)),xt.current===t&&(X(xt),Bl._currentValue=mt)}var Dr,Ir;function Zn(t){if(Dr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Dr=n&&n[1]||"",Ir=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dr+t+Ir}var Bs=!1;function Ha(t,n){if(!t||Bs)return"";Bs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var P=q}Reflect.construct(t,[],K)}else{try{K.call()}catch(q){P=q}t.call(K.prototype)}}else{try{throw Error()}catch(q){P=q}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),p=h[0],E=h[1];if(p&&E){var C=p.split(`
`),B=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===B.length)for(l=C.length-1,c=B.length-1;1<=l&&0<=c&&C[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==B[c]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Bs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Zn(a):""}function Ps(t,n){switch(t.tag){case 26:case 27:case 5:return Zn(t.type);case 16:return Zn("Lazy");case 13:return t.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Ha(t.type,!1);case 11:return Ha(t.type.render,!1);case 1:return Ha(t.type,!0);case 31:return Zn("Activity");default:return""}}function js(t){try{var n="",a=null;do n+=Ps(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,Ki=r.unstable_cancelCallback,kc=r.unstable_shouldYield,yo=r.unstable_requestPaint,$e=r.unstable_now,Ga=r.unstable_getCurrentPriorityLevel,ks=r.unstable_ImmediatePriority,qs=r.unstable_UserBlockingPriority,Xi=r.unstable_NormalPriority,qc=r.unstable_LowPriority,_o=r.unstable_IdlePriority,vo=r.log,Eo=r.unstable_setDisableYieldValue,Ln=null,ze=null;function Tn(t){if(typeof vo=="function"&&Eo(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ln,t)}catch{}}var fe=Math.clz32?Math.clz32:Ao,To=Math.log,Vr=Math.LN2;function Ao(t){return t>>>=0,t===0?32:31-(To(t)/Vr|0)|0}var Jn=256,Fa=262144,ye=4194304;function $n(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=$n(l):(p&=E,p!==0?c=$n(p):a||(a=E&~t,a!==0&&(c=$n(a))))):(E=l&~h,E!==0?c=$n(E):p!==0?c=$n(p):a||(a=l&~t,a!==0&&(c=$n(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function Un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Hc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function ti(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Qa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gc(t,n,a,l,c,h){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=p&~a;0<a;){var G=31-fe(a),K=1<<G;E[G]=0,C[G]=-1;var P=B[G];if(P!==null)for(B[G]=null,G=0;G<P.length;G++){var q=P[G];q!==null&&(q.lane&=-536870913)}a&=~K}l!==0&&Ya(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(p&~n))}function Ya(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Hs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-fe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Gs(t,n){var a=n&-n;return a=(a&42)!==0?1:Ka(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ka(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ri(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bo(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Vy(t.type))}function zn(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Bn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Bn,Oe="__reactProps$"+Bn,ei="__reactContainer$"+Bn,Nr="__reactEvents$"+Bn,Fc="__reactListeners$"+Bn,Ro="__reactHandles$"+Bn,wo="__reactResources$"+Bn,ni="__reactMarker$"+Bn;function Mr(t){delete t[_e],delete t[Oe],delete t[Nr],delete t[Fc],delete t[Ro]}function ii(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ei]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=my(t);t!==null;){if(a=t[_e])return a;t=my(t)}return n}t=a,a=t.parentNode}return null}function An(t){if(t=t[_e]||t[ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ai(t){var n=t[wo];return n||(n=t[wo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[ni]=!0}var Fs=new Set,Qs={};function ri(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(Qs[t]=n,t=0;t<n.length;t++)Fs.add(n[t])}var Ys=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ks={},Xs={};function Co(t){return pe.call(Xs,t)?!0:pe.call(Ks,t)?!1:Ys.test(t)?Xs[t]=!0:(Ks[t]=!0,!1)}function Or(t,n,a){if(Co(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function hn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ee(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Zs(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,h.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ft(t){if(!t._valueTracker){var n=Zi(t)?"checked":"value";t._valueTracker=Zs(t,n,""+t[n])}}function Xa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Zi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function li(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Za=/[\n"\\]/g;function en(t){return t.replace(Za,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xr(t,n,a,l,c,h,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+xe(n)):t.value!==""+xe(n)&&(t.value=""+xe(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Js(t,p,xe(n)):a!=null?Js(t,p,xe(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+xe(E):t.removeAttribute("name")}function Do(t,n,a,l,c,h,p,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Ft(t);return}a=a!=null?""+xe(a):"",n=n!=null?""+xe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Ft(t)}function Js(t,n,a){n==="number"&&li(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ji(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+xe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Io(t,n,a){if(n!=null&&(n=""+xe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+xe(a):""}function $i(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(De(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=xe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ft(t)}function nn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Vo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $s(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Vo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ws(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&$s(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&$s(t,h,n[h])}function Lr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ur(t){return Wi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Pn(){}var tl=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ta=null,oi=null;function Ja(t){var n=An(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(xr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(s(90));xr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Xa(l)}break t;case"textarea":Io(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ji(t,!!a.multiple,n,!1)}}}var zr=!1;function ea(t,n,a){if(zr)return t(n,a);zr=!0;try{var l=t(n);return l}finally{if(zr=!1,(ta!==null||oi!==null)&&(bu(),ta&&(n=ta,t=oi,oi=ta=null,Ja(n),t)))for(n=0;n<t.length;n++)Ja(t[n])}}function jn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$a=!1;if(bn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){$a=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{$a=!1}var ui=null,el=null,Wa=null;function nl(){if(Wa)return Wa;var t,n=el,a=n.length,l,c="value"in ui?ui.value:ui.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var p=a-t;for(l=1;l<=p&&n[a-l]===c[h-l];l++);return Wa=c.slice(t,1<l?1-l:void 0)}function tr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function kn(){return!1}function Be(t){function n(a,l,c,h,p){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?wi:kn,this.isPropagationStopped=kn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),n}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=Be(Ci),na=S({},Ci,{view:0,detail:0}),il=Be(na),ia,Br,fi,Pr=S({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?(ia=t.screenX-fi.screenX,Br=t.screenY-fi.screenY):Br=ia=0,fi=t),ia)},movementY:function(t){return"movementY"in t?t.movementY:Br}}),al=Be(Pr),er=S({},Pr,{dataTransfer:0}),Mo=Be(er),Oo=S({},na,{relatedTarget:0}),nr=Be(Oo),rl=S({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),xo=Be(rl),jr=S({},Ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lo=Be(jr),Uo=S({},Ci,{data:0}),hi=Be(Uo),zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Po[t])?!!n[t]:!1}function aa(){return jo}var We=S({},na,{key:function(t){if(t.key){var n=zo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(t){return t.type==="keypress"?tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ko=Be(We),qo=S({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=Be(qo),u=S({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),m=Be(u),v=S({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),U=S({},Pr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),k=Be(U),W=S({},Ci,{newState:0,oldState:0}),Tt=Be(W),he=[9,13,27,32],kt=bn&&"CompositionEvent"in window,re=null;bn&&"documentMode"in document&&(re=document.documentMode);var Rn=bn&&"TextEvent"in window&&!re,di=bn&&(!kt||re&&8<re&&11>=re),qn=" ",Hn=!1;function ir(t,n){switch(t){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qr=!1;function fE(t,n){switch(t){case"compositionend":return kr(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return t=n.data,t===qn&&Hn?null:t;default:return null}}function hE(t,n){if(qr)return t==="compositionend"||!kt&&ir(t,n)?(t=nl(),Wa=el=ui=null,qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return di&&n.locale!=="ko"?null:n.data;default:return null}}var dE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!dE[t.type]:n==="textarea"}function _m(t,n,a,l){ta?oi?oi.push(l):oi=[l]:ta=l,n=Nu(n,"onChange"),0<n.length&&(a=new ci("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var sl=null,ll=null;function mE(t){ty(t,0)}function Ho(t){var n=fn(t);if(Xa(n))return t}function vm(t,n){if(t==="change")return n}var Em=!1;if(bn){var Qc;if(bn){var Yc="oninput"in document;if(!Yc){var Tm=document.createElement("div");Tm.setAttribute("oninput","return;"),Yc=typeof Tm.oninput=="function"}Qc=Yc}else Qc=!1;Em=Qc&&(!document.documentMode||9<document.documentMode)}function Am(){sl&&(sl.detachEvent("onpropertychange",Sm),ll=sl=null)}function Sm(t){if(t.propertyName==="value"&&Ho(ll)){var n=[];_m(n,ll,t,Sn(t)),ea(mE,n)}}function gE(t,n,a){t==="focusin"?(Am(),sl=n,ll=a,sl.attachEvent("onpropertychange",Sm)):t==="focusout"&&Am()}function pE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ho(ll)}function yE(t,n){if(t==="click")return Ho(n)}function _E(t,n){if(t==="input"||t==="change")return Ho(n)}function vE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var dn=typeof Object.is=="function"?Object.is:vE;function ol(t,n){if(dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!pe.call(n,c)||!dn(t[c],n[c]))return!1}return!0}function bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rm(t,n){var a=bm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=bm(a)}}function wm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Cm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=li(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=li(t.document)}return n}function Kc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var EE=bn&&"documentMode"in document&&11>=document.documentMode,Hr=null,Xc=null,ul=null,Zc=!1;function Dm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zc||Hr==null||Hr!==li(l)||(l=Hr,"selectionStart"in l&&Kc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ol(ul,l)||(ul=l,l=Nu(Xc,"onSelect"),0<l.length&&(n=new ci("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Hr)))}function ar(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Gr={animationend:ar("Animation","AnimationEnd"),animationiteration:ar("Animation","AnimationIteration"),animationstart:ar("Animation","AnimationStart"),transitionrun:ar("Transition","TransitionRun"),transitionstart:ar("Transition","TransitionStart"),transitioncancel:ar("Transition","TransitionCancel"),transitionend:ar("Transition","TransitionEnd")},Jc={},Im={};bn&&(Im=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function rr(t){if(Jc[t])return Jc[t];if(!Gr[t])return t;var n=Gr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Im)return Jc[t]=n[a];return t}var Vm=rr("animationend"),Nm=rr("animationiteration"),Mm=rr("animationstart"),TE=rr("transitionrun"),AE=rr("transitionstart"),SE=rr("transitioncancel"),Om=rr("transitionend"),xm=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function Gn(t,n){xm.set(t,n),ri(n,[t])}var Go=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wn=[],Fr=0,Wc=0;function Fo(){for(var t=Fr,n=Wc=Fr=0;n<t;){var a=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var c=wn[n];wn[n++]=null;var h=wn[n];if(wn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}h!==0&&Lm(a,c,h)}}function Qo(t,n,a,l){wn[Fr++]=t,wn[Fr++]=n,wn[Fr++]=a,wn[Fr++]=l,Wc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function tf(t,n,a,l){return Qo(t,n,a,l),Yo(t)}function sr(t,n){return Qo(t,null,null,n),Yo(t)}function Lm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-fe(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function Yo(t){if(50<Nl)throw Nl=0,ch=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Qr={};function bE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,n,a,l){return new bE(t,n,a,l)}function ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ii(t,n){var a=t.alternate;return a===null?(a=mn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Um(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ko(t,n,a,l,c,h){var p=0;if(l=t,typeof t=="function")ef(t)&&(p=1);else if(typeof t=="string")p=IT(t,a,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=mn(31,a,n,c),t.elementType=R,t.lanes=h,t;case $:return lr(a.children,c,h,n);case J:p=8,c|=24;break;case rt:return t=mn(12,a,n,c|2),t.elementType=rt,t.lanes=h,t;case jt:return t=mn(13,a,n,c),t.elementType=jt,t.lanes=h,t;case Rt:return t=mn(19,a,n,c),t.elementType=Rt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ft:p=10;break t;case ut:p=9;break t;case wt:p=11;break t;case D:p=14;break t;case b:p=16,l=null;break t}p=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=mn(p,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function lr(t,n,a,l){return t=mn(7,t,l,n),t.lanes=a,t}function nf(t,n,a){return t=mn(6,t,null,n),t.lanes=a,t}function zm(t){var n=mn(18,null,null,0);return n.stateNode=t,n}function af(t,n,a){return n=mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Bm=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var a=Bm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:js(n)},Bm.set(t,n),n)}return{value:t,source:n,stack:js(n)}}var Yr=[],Kr=0,Xo=null,cl=0,Dn=[],In=0,ra=null,mi=1,gi="";function Vi(t,n){Yr[Kr++]=cl,Yr[Kr++]=Xo,Xo=t,cl=n}function Pm(t,n,a){Dn[In++]=mi,Dn[In++]=gi,Dn[In++]=ra,ra=t;var l=mi;t=gi;var c=32-fe(l)-1;l&=~(1<<c),a+=1;var h=32-fe(n)+c;if(30<h){var p=c-c%5;h=(l&(1<<p)-1).toString(32),l>>=p,c-=p,mi=1<<32-fe(n)+c|a<<c|l,gi=h+t}else mi=1<<h|a<<c|l,gi=t}function rf(t){t.return!==null&&(Vi(t,1),Pm(t,1,0))}function sf(t){for(;t===Xo;)Xo=Yr[--Kr],Yr[Kr]=null,cl=Yr[--Kr],Yr[Kr]=null;for(;t===ra;)ra=Dn[--In],Dn[In]=null,gi=Dn[--In],Dn[In]=null,mi=Dn[--In],Dn[In]=null}function jm(t,n){Dn[In++]=mi,Dn[In++]=gi,Dn[In++]=ra,mi=n.id,gi=n.overflow,ra=t}var Pe=null,te=null,Ot=!1,sa=null,Vn=!1,lf=Error(s(519));function la(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(Cn(n,t)),lf}function km(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[Oe]=l,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Dt(Ol[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Do(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),$i(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||ay(n.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=Pn),n=!0):n=!1,n||la(t,!0)}function qm(t){for(Pe=t.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Pe=Pe.return}}function Xr(t){if(t!==Pe)return!1;if(!Ot)return qm(t),Ot=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Rh(t.type,t.memoizedProps)),a=!a),a&&te&&la(t),qm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));te=dy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));te=dy(t)}else n===27?(n=te,Ta(t.type)?(t=Vh,Vh=null,te=t):te=n):te=Pe?Mn(t.stateNode.nextSibling):null;return!0}function or(){te=Pe=null,Ot=!1}function of(){var t=sa;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),sa=null),t}function fl(t){sa===null?sa=[t]:sa.push(t)}var uf=O(null),ur=null,Ni=null;function oa(t,n,a){nt(uf,n._currentValue),n._currentValue=a}function Mi(t){t._currentValue=uf.current,X(uf)}function cf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function ff(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var p=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),cf(h.return,a,t),l||(p=null);break t}h=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(s(341));p.lanes|=a,h=p.alternate,h!==null&&(h.lanes|=a),cf(p,a,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Zr(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=c.type;dn(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===xt.current){if(p=c.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}c=c.return}t!==null&&ff(n,t,a,l),n.flags|=262144}function Zo(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function cr(t){ur=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return Hm(ur,t)}function Jo(t,n){return ur===null&&cr(t),Hm(t,n)}function Hm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ni===null){if(t===null)throw Error(s(308));Ni=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ni=Ni.next=n;return a}var RE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},wE=r.unstable_scheduleCallback,CE=r.unstable_NormalPriority,Te={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new RE,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&wE(CE,function(){t.controller.abort()})}var dl=null,df=0,Jr=0,$r=null;function DE(t,n){if(dl===null){var a=dl=[];df=0,Jr=ph(),$r={status:"pending",value:void 0,then:function(l){a.push(l)}}}return df++,n.then(Gm,Gm),n}function Gm(){if(--df===0&&dl!==null){$r!==null&&($r.status="fulfilled");var t=dl;dl=null,Jr=0,$r=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function IE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Fm=F.S;F.S=function(t,n){Dp=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&DE(t,n),Fm!==null&&Fm(t,n)};var fr=O(null);function mf(){var t=fr.current;return t!==null?t:$t.pooledCache}function $o(t,n){n===null?nt(fr,fr.current):nt(fr,n.pool)}function Qm(){var t=mf();return t===null?null:{parent:Te._currentValue,pool:t}}var Wr=Error(s(460)),gf=Error(s(474)),Wo=Error(s(542)),tu={then:function(){}};function Ym(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Km(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Pn,Pn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zm(t),t;default:if(typeof n.status=="string")n.then(Pn,Pn);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zm(t),t}throw dr=n,Wr}}function hr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(dr=a,Wr):a}}var dr=null;function Xm(){if(dr===null)throw Error(s(459));var t=dr;return dr=null,t}function Zm(t){if(t===Wr||t===Wo)throw Error(s(483))}var ts=null,ml=0;function eu(t){var n=ml;return ml+=1,ts===null&&(ts=[]),Km(ts,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function nu(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Jm(t){function n(x,N){if(t){var z=x.deletions;z===null?(x.deletions=[N],x.flags|=16):z.push(N)}}function a(x,N){if(!t)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function c(x,N){return x=Ii(x,N),x.index=0,x.sibling=null,x}function h(x,N,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<N?(x.flags|=67108866,N):z):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function p(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,z,Q){return N===null||N.tag!==6?(N=nf(z,x.mode,Q),N.return=x,N):(N=c(N,z),N.return=x,N)}function C(x,N,z,Q){var ht=z.type;return ht===$?G(x,N,z.props.children,Q,z.key):N!==null&&(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&hr(ht)===N.type)?(N=c(N,z.props),gl(N,z),N.return=x,N):(N=Ko(z.type,z.key,z.props,null,x.mode,Q),gl(N,z),N.return=x,N)}function B(x,N,z,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=af(z,x.mode,Q),N.return=x,N):(N=c(N,z.children||[]),N.return=x,N)}function G(x,N,z,Q,ht){return N===null||N.tag!==7?(N=lr(z,x.mode,Q,ht),N.return=x,N):(N=c(N,z),N.return=x,N)}function K(x,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=nf(""+N,x.mode,z),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case j:return z=Ko(N.type,N.key,N.props,null,x.mode,z),gl(z,N),z.return=x,z;case H:return N=af(N,x.mode,z),N.return=x,N;case b:return N=hr(N),K(x,N,z)}if(De(N)||L(N))return N=lr(N,x.mode,z,null),N.return=x,N;if(typeof N.then=="function")return K(x,eu(N),z);if(N.$$typeof===ft)return K(x,Jo(x,N),z);nu(x,N)}return null}function P(x,N,z,Q){var ht=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ht!==null?null:E(x,N,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return z.key===ht?C(x,N,z,Q):null;case H:return z.key===ht?B(x,N,z,Q):null;case b:return z=hr(z),P(x,N,z,Q)}if(De(z)||L(z))return ht!==null?null:G(x,N,z,Q,null);if(typeof z.then=="function")return P(x,N,eu(z),Q);if(z.$$typeof===ft)return P(x,N,Jo(x,z),Q);nu(x,z)}return null}function q(x,N,z,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(z)||null,E(N,x,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return x=x.get(Q.key===null?z:Q.key)||null,C(N,x,Q,ht);case H:return x=x.get(Q.key===null?z:Q.key)||null,B(N,x,Q,ht);case b:return Q=hr(Q),q(x,N,z,Q,ht)}if(De(Q)||L(Q))return x=x.get(z)||null,G(N,x,Q,ht,null);if(typeof Q.then=="function")return q(x,N,z,eu(Q),ht);if(Q.$$typeof===ft)return q(x,N,z,Jo(N,Q),ht);nu(N,Q)}return null}function ot(x,N,z,Q){for(var ht=null,Bt=null,ct=N,bt=N=0,Vt=null;ct!==null&&bt<z.length;bt++){ct.index>bt?(Vt=ct,ct=null):Vt=ct.sibling;var Pt=P(x,ct,z[bt],Q);if(Pt===null){ct===null&&(ct=Vt);break}t&&ct&&Pt.alternate===null&&n(x,ct),N=h(Pt,N,bt),Bt===null?ht=Pt:Bt.sibling=Pt,Bt=Pt,ct=Vt}if(bt===z.length)return a(x,ct),Ot&&Vi(x,bt),ht;if(ct===null){for(;bt<z.length;bt++)ct=K(x,z[bt],Q),ct!==null&&(N=h(ct,N,bt),Bt===null?ht=ct:Bt.sibling=ct,Bt=ct);return Ot&&Vi(x,bt),ht}for(ct=l(ct);bt<z.length;bt++)Vt=q(ct,x,bt,z[bt],Q),Vt!==null&&(t&&Vt.alternate!==null&&ct.delete(Vt.key===null?bt:Vt.key),N=h(Vt,N,bt),Bt===null?ht=Vt:Bt.sibling=Vt,Bt=Vt);return t&&ct.forEach(function(wa){return n(x,wa)}),Ot&&Vi(x,bt),ht}function gt(x,N,z,Q){if(z==null)throw Error(s(151));for(var ht=null,Bt=null,ct=N,bt=N=0,Vt=null,Pt=z.next();ct!==null&&!Pt.done;bt++,Pt=z.next()){ct.index>bt?(Vt=ct,ct=null):Vt=ct.sibling;var wa=P(x,ct,Pt.value,Q);if(wa===null){ct===null&&(ct=Vt);break}t&&ct&&wa.alternate===null&&n(x,ct),N=h(wa,N,bt),Bt===null?ht=wa:Bt.sibling=wa,Bt=wa,ct=Vt}if(Pt.done)return a(x,ct),Ot&&Vi(x,bt),ht;if(ct===null){for(;!Pt.done;bt++,Pt=z.next())Pt=K(x,Pt.value,Q),Pt!==null&&(N=h(Pt,N,bt),Bt===null?ht=Pt:Bt.sibling=Pt,Bt=Pt);return Ot&&Vi(x,bt),ht}for(ct=l(ct);!Pt.done;bt++,Pt=z.next())Pt=q(ct,x,bt,Pt.value,Q),Pt!==null&&(t&&Pt.alternate!==null&&ct.delete(Pt.key===null?bt:Pt.key),N=h(Pt,N,bt),Bt===null?ht=Pt:Bt.sibling=Pt,Bt=Pt);return t&&ct.forEach(function(jT){return n(x,jT)}),Ot&&Vi(x,bt),ht}function Jt(x,N,z,Q){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case j:t:{for(var ht=z.key;N!==null;){if(N.key===ht){if(ht=z.type,ht===$){if(N.tag===7){a(x,N.sibling),Q=c(N,z.props.children),Q.return=x,x=Q;break t}}else if(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&hr(ht)===N.type){a(x,N.sibling),Q=c(N,z.props),gl(Q,z),Q.return=x,x=Q;break t}a(x,N);break}else n(x,N);N=N.sibling}z.type===$?(Q=lr(z.props.children,x.mode,Q,z.key),Q.return=x,x=Q):(Q=Ko(z.type,z.key,z.props,null,x.mode,Q),gl(Q,z),Q.return=x,x=Q)}return p(x);case H:t:{for(ht=z.key;N!==null;){if(N.key===ht)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(x,N.sibling),Q=c(N,z.children||[]),Q.return=x,x=Q;break t}else{a(x,N);break}else n(x,N);N=N.sibling}Q=af(z,x.mode,Q),Q.return=x,x=Q}return p(x);case b:return z=hr(z),Jt(x,N,z,Q)}if(De(z))return ot(x,N,z,Q);if(L(z)){if(ht=L(z),typeof ht!="function")throw Error(s(150));return z=ht.call(z),gt(x,N,z,Q)}if(typeof z.then=="function")return Jt(x,N,eu(z),Q);if(z.$$typeof===ft)return Jt(x,N,Jo(x,z),Q);nu(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(x,N.sibling),Q=c(N,z),Q.return=x,x=Q):(a(x,N),Q=nf(z,x.mode,Q),Q.return=x,x=Q),p(x)):a(x,N)}return function(x,N,z,Q){try{ml=0;var ht=Jt(x,N,z,Q);return ts=null,ht}catch(ct){if(ct===Wr||ct===Wo)throw ct;var Bt=mn(29,ct,null,x.mode);return Bt.lanes=Q,Bt.return=x,Bt}finally{}}}var mr=Jm(!0),$m=Jm(!1),ua=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ca(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Yo(t),Lm(t,null,a),n}return Qo(t,l,n,a),Yo(t)}function pl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Hs(t,a)}}function _f(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=p:h=h.next=p,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var vf=!1;function yl(){if(vf){var t=$r;if(t!==null)throw t}}function _l(t,n,a,l){vf=!1;var c=t.updateQueue;ua=!1;var h=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,B=C.next;C.next=null,p===null?h=B:p.next=B,p=C;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=C))}if(h!==null){var K=c.baseState;p=0,G=B=C=null,E=h;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(It&P)===P:(l&P)===P){P!==0&&P===Jr&&(vf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=t,gt=E;P=n;var Jt=a;switch(gt.tag){case 1:if(ot=gt.payload,typeof ot=="function"){K=ot.call(Jt,K,P);break t}K=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=gt.payload,P=typeof ot=="function"?ot.call(Jt,K,P):ot,P==null)break t;K=S({},K,P);break t;case 2:ua=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=q,C=K):G=G.next=q,p|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(C=K),c.baseState=C,c.firstBaseUpdate=B,c.lastBaseUpdate=G,h===null&&(c.shared.lanes=0),pa|=p,t.lanes=p,t.memoizedState=K}}function Wm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function tg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wm(a[t],n)}var es=O(null),iu=O(0);function eg(t,n){t=ki,nt(iu,t),nt(es,n),ki=t|n.baseLanes}function Ef(){nt(iu,ki),nt(es,es.current)}function Tf(){ki=iu.current,X(es),X(iu)}var gn=O(null),Nn=null;function ha(t){var n=t.alternate;nt(de,de.current&1),nt(gn,t),Nn===null&&(n===null||es.current!==null||n.memoizedState!==null)&&(Nn=t)}function Af(t){nt(de,de.current),nt(gn,t),Nn===null&&(Nn=t)}function ng(t){t.tag===22?(nt(de,de.current),nt(gn,t),Nn===null&&(Nn=t)):da()}function da(){nt(de,de.current),nt(gn,gn.current)}function pn(t){X(gn),Nn===t&&(Nn=null),X(de)}var de=O(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dh(a)||Ih(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Oi=0,At=null,Xt=null,Ae=null,ru=!1,ns=!1,gr=!1,su=0,vl=0,is=null,VE=0;function oe(){throw Error(s(321))}function Sf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!dn(t[a],n[a]))return!1;return!0}function bf(t,n,a,l,c,h){return Oi=h,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Pg:Pf,gr=!1,h=a(l,c),gr=!1,ns&&(h=ag(n,a,l,c)),ig(t),h}function ig(t){F.H=Al;var n=Xt!==null&&Xt.next!==null;if(Oi=0,Ae=Xt=At=null,ru=!1,vl=0,is=null,n)throw Error(s(300));t===null||Se||(t=t.dependencies,t!==null&&Zo(t)&&(Se=!0))}function ag(t,n,a,l){At=t;var c=0;do{if(ns&&(is=null),vl=0,ns=!1,25<=c)throw Error(s(301));if(c+=1,Ae=Xt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}F.H=jg,h=n(a,l)}while(ns);return h}function NE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?El(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(At.flags|=1024),n}function Rf(){var t=su!==0;return su=0,t}function wf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Cf(t){if(ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ru=!1}Oi=0,Ae=Xt=At=null,ns=!1,vl=su=0,is=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function me(){if(Xt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Xt=t;else{if(t===null)throw At.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?At.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var n=vl;return vl+=1,is===null&&(is=[]),t=Km(is,t,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Pg:Pf),t}function ou(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===ft)return je(t)}throw Error(s(438,String(t)))}function Df(t){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=lu(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function xi(t,n){return typeof n=="function"?n(t):n}function uu(t){var n=me();return If(n,Xt,t)}function If(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var p=c.next;c.next=h.next,h.next=p}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=p=null,C=null,B=n,G=!1;do{var K=B.lane&-536870913;if(K!==B.lane?(It&K)===K:(Oi&K)===K){var P=B.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),K===Jr&&(G=!0);else if((Oi&P)===P){B=B.next,P===Jr&&(G=!0);continue}else K={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=K,p=h):C=C.next=K,At.lanes|=P,pa|=P;K=B.action,gr&&a(h,K),h=B.hasEagerState?B.eagerState:a(h,K)}else P={lane:K,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=P,p=h):C=C.next=P,At.lanes|=K,pa|=K;B=B.next}while(B!==null&&B!==n);if(C===null?p=h:C.next=E,!dn(h,t.memoizedState)&&(Se=!0,G&&(a=$r,a!==null)))throw a;t.memoizedState=h,t.baseState=p,t.baseQueue=C,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Vf(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do h=t(h,p.action),p=p.next;while(p!==c);dn(h,n.memoizedState)||(Se=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function rg(t,n,a){var l=At,c=me(),h=Ot;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var p=!dn((Xt||c).memoizedState,a);if(p&&(c.memoizedState=a,Se=!0),c=c.queue,Of(og.bind(null,l,c,t),[t]),c.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,as(9,{destroy:void 0},lg.bind(null,l,c,a,n),null),$t===null)throw Error(s(349));h||(Oi&127)!==0||sg(l,n,a)}return a}function sg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=lu(),At.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function lg(t,n,a,l){n.value=a,n.getSnapshot=l,ug(n)&&cg(t)}function og(t,n,a){return a(function(){ug(n)&&cg(t)})}function ug(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!dn(t,a)}catch{return!0}}function cg(t){var n=sr(t,2);n!==null&&on(n,t,2)}function Nf(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),gr){Tn(!0);try{a()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},n}function fg(t,n,a,l){return t.baseState=a,If(t,Xt,typeof l=="function"?l:xi)}function ME(t,n,a,l,c){if(hu(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};F.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,hg(n,h)):(h.next=a.next,n.pending=a.next=h)}}function hg(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=F.T,p={};F.T=p;try{var E=a(c,l),C=F.S;C!==null&&C(p,E),dg(t,n,E)}catch(B){Mf(t,n,B)}finally{h!==null&&p.types!==null&&(h.types=p.types),F.T=h}}else try{h=a(c,l),dg(t,n,h)}catch(B){Mf(t,n,B)}}function dg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){mg(t,n,l)},function(l){return Mf(t,n,l)}):mg(t,n,a)}function mg(t,n,a){n.status="fulfilled",n.value=a,gg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,hg(t,a)))}function Mf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,gg(n),n=n.next;while(n!==l)}t.action=null}function gg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function pg(t,n){return n}function yg(t,n){if(Ot){var a=$t.formState;if(a!==null){t:{var l=At;if(Ot){if(te){e:{for(var c=te,h=Vn;c.nodeType!==8;){if(!h){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){te=Mn(c.nextSibling),l=c.data==="F!";break t}}la(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:n},a.queue=l,a=Ug.bind(null,At,l),l.dispatch=a,l=Nf(!1),h=Bf.bind(null,At,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=ME.bind(null,At,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function _g(t){var n=me();return vg(n,Xt,t)}function vg(t,n,a){if(n=If(t,n,pg)[0],t=uu(xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=El(n)}catch(p){throw p===Wr?Wo:p}else l=n;n=me();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(At.flags|=2048,as(9,{destroy:void 0},OE.bind(null,c,a),null)),[l,h,t]}function OE(t,n){t.action=n}function Eg(t){var n=me(),a=Xt;if(a!==null)return vg(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function as(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=lu(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Tg(){return me().memoizedState}function cu(t,n,a,l){var c=tn();At.flags|=t,c.memoizedState=as(1|n,{destroy:void 0},a,l===void 0?null:l)}function fu(t,n,a,l){var c=me();l=l===void 0?null:l;var h=c.memoizedState.inst;Xt!==null&&l!==null&&Sf(l,Xt.memoizedState.deps)?c.memoizedState=as(n,h,a,l):(At.flags|=t,c.memoizedState=as(1|n,h,a,l))}function Ag(t,n){cu(8390656,8,t,n)}function Of(t,n){fu(2048,8,t,n)}function xE(t){At.flags|=4;var n=At.updateQueue;if(n===null)n=lu(),At.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Sg(t){var n=me().memoizedState;return xE({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function bg(t,n){return fu(4,2,t,n)}function Rg(t,n){return fu(4,4,t,n)}function wg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Cg(t,n,a){a=a!=null?a.concat([t]):null,fu(4,4,wg.bind(null,n,t),a)}function xf(){}function Dg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Sf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Ig(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Sf(n,l[1]))return l[0];if(l=t(),gr){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l}function Lf(t,n,a){return a===void 0||(Oi&1073741824)!==0&&(It&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Vp(),At.lanes|=t,pa|=t,a)}function Vg(t,n,a,l){return dn(a,n)?a:es.current!==null?(t=Lf(t,a,l),dn(t,n)||(Se=!0),t):(Oi&42)===0||(Oi&1073741824)!==0&&(It&261930)===0?(Se=!0,t.memoizedState=a):(t=Vp(),At.lanes|=t,pa|=t,n)}function Ng(t,n,a,l,c){var h=et.p;et.p=h!==0&&8>h?h:8;var p=F.T,E={};F.T=E,Bf(t,!1,n,a);try{var C=c(),B=F.S;if(B!==null&&B(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=IE(C,l);Tl(t,n,G,vn(t))}else Tl(t,n,l,vn(t))}catch(K){Tl(t,n,{then:function(){},status:"rejected",reason:K},vn())}finally{et.p=h,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function LE(){}function Uf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Mg(t).queue;Ng(t,c,n,mt,a===null?LE:function(){return Og(t),a(l)})}function Mg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Og(t){var n=Mg(t);n.next===null&&(n=t.alternate.memoizedState),Tl(t,n.next.queue,{},vn())}function zf(){return je(Bl)}function xg(){return me().memoizedState}function Lg(){return me().memoizedState}function UE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=vn();t=ca(a);var l=fa(n,t,a);l!==null&&(on(l,n,a),pl(l,n,a)),n={cache:hf()},t.payload=n;return}n=n.return}}function zE(t,n,a){var l=vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hu(t)?zg(n,a):(a=tf(t,n,a,l),a!==null&&(on(a,t,l),Bg(a,n,l)))}function Ug(t,n,a){var l=vn();Tl(t,n,a,l)}function Tl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hu(t))zg(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var p=n.lastRenderedState,E=h(p,a);if(c.hasEagerState=!0,c.eagerState=E,dn(E,p))return Qo(t,n,c,0),$t===null&&Fo(),!1}catch{}finally{}if(a=tf(t,n,c,l),a!==null)return on(a,t,l),Bg(a,n,l),!0}return!1}function Bf(t,n,a,l){if(l={lane:2,revertLane:ph(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(n)throw Error(s(479))}else n=tf(t,a,l,2),n!==null&&on(n,t,2)}function hu(t){var n=t.alternate;return t===At||n!==null&&n===At}function zg(t,n){ns=ru=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Bg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Hs(t,a)}}var Al={readContext:je,use:ou,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};Al.useEffectEvent=oe;var Pg={readContext:je,use:ou,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:Ag,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,cu(4194308,4,wg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return cu(4194308,4,t,n)},useInsertionEffect:function(t,n){cu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(gr){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var c=a(n);if(gr){Tn(!0);try{a(n)}finally{Tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=zE.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Nf(t);var n=t.queue,a=Ug.bind(null,At,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(t,n){var a=tn();return Lf(a,t,n)},useTransition:function(){var t=Nf(!1);return t=Ng.bind(null,At,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=At,c=tn();if(Ot){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$t===null)throw Error(s(349));(It&127)!==0||sg(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,Ag(og.bind(null,l,h,t),[t]),l.flags|=2048,as(9,{destroy:void 0},lg.bind(null,l,h,a,n),null),a},useId:function(){var t=tn(),n=$t.identifierPrefix;if(Ot){var a=gi,l=mi;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=su++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=VE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:zf,useFormState:yg,useActionState:yg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Bf.bind(null,At,!0,a),a.dispatch=n,[t,n]},useMemoCache:Df,useCacheRefresh:function(){return tn().memoizedState=UE.bind(null,At)},useEffectEvent:function(t){var n=tn(),a={impl:t};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Pf={readContext:je,use:ou,useCallback:Dg,useContext:je,useEffect:Of,useImperativeHandle:Cg,useInsertionEffect:bg,useLayoutEffect:Rg,useMemo:Ig,useReducer:uu,useRef:Tg,useState:function(){return uu(xi)},useDebugValue:xf,useDeferredValue:function(t,n){var a=me();return Vg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=uu(xi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:rg,useId:xg,useHostTransitionStatus:zf,useFormState:_g,useActionState:_g,useOptimistic:function(t,n){var a=me();return fg(a,Xt,t,n)},useMemoCache:Df,useCacheRefresh:Lg};Pf.useEffectEvent=Sg;var jg={readContext:je,use:ou,useCallback:Dg,useContext:je,useEffect:Of,useImperativeHandle:Cg,useInsertionEffect:bg,useLayoutEffect:Rg,useMemo:Ig,useReducer:Vf,useRef:Tg,useState:function(){return Vf(xi)},useDebugValue:xf,useDeferredValue:function(t,n){var a=me();return Xt===null?Lf(a,t,n):Vg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Vf(xi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:rg,useId:xg,useHostTransitionStatus:zf,useFormState:Eg,useActionState:Eg,useOptimistic:function(t,n){var a=me();return Xt!==null?fg(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Df,useCacheRefresh:Lg};jg.useEffectEvent=Sg;function jf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var kf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=vn(),c=ca(l);c.payload=n,a!=null&&(c.callback=a),n=fa(t,c,l),n!==null&&(on(n,t,l),pl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=vn(),c=ca(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=fa(t,c,l),n!==null&&(on(n,t,l),pl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=vn(),l=ca(a);l.tag=2,n!=null&&(l.callback=n),n=fa(t,l,a),n!==null&&(on(n,t,a),pl(n,t,a))}};function kg(t,n,a,l,c,h,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,p):n.prototype&&n.prototype.isPureReactComponent?!ol(a,l)||!ol(c,h):!0}function qg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&kf.enqueueReplaceState(n,n.state,null)}function pr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Hg(t){Go(t)}function Gg(t){console.error(t)}function Fg(t){Go(t)}function du(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Qg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function qf(t,n,a){return a=ca(a),a.tag=3,a.payload={element:null},a.callback=function(){du(t,n)},a}function Yg(t){return t=ca(t),t.tag=3,t}function Kg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Qg(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Qg(n,a,l),typeof c!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function BE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Zr(n,a,c,!0),a=gn.current,a!==null){switch(a.tag){case 31:case 13:return Nn===null?Ru():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===tu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),dh(t,l,c)),!1;case 22:return a.flags|=65536,l===tu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),dh(t,l,c)),!1}throw Error(s(435,a.tag))}return dh(t,l,c),Ru(),!1}if(Ot)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==lf&&(t=Error(s(422),{cause:l}),fl(Cn(t,a)))):(l!==lf&&(n=Error(s(423),{cause:l}),fl(Cn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Cn(l,a),c=qf(t.stateNode,l,c),_f(t,c),ue!==4&&(ue=2)),!1;var h=Error(s(520),{cause:l});if(h=Cn(h,a),Vl===null?Vl=[h]:Vl.push(h),ue!==4&&(ue=2),n===null)return!0;l=Cn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=qf(a.stateNode,l,t),_f(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ya===null||!ya.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Yg(c),Kg(c,t,a,l),_f(a,c),!1}a=a.return}while(a!==null);return!1}var Hf=Error(s(461)),Se=!1;function ke(t,n,a,l){n.child=t===null?$m(n,null,a,l):mr(n,t.child,a,l)}function Xg(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return cr(n),l=bf(t,n,a,p,h,c),E=Rf(),t!==null&&!Se?(wf(t,n,c),Li(t,n,c)):(Ot&&E&&rf(n),n.flags|=1,ke(t,n,l,c),n.child)}function Zg(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!ef(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Jg(t,n,h,l,c)):(t=Ko(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Jf(t,c)){var p=h.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(p,l)&&t.ref===n.ref)return Li(t,n,c)}return n.flags|=1,t=Ii(h,l),t.ref=n.ref,t.return=n,n.child=t}function Jg(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(ol(h,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=h,Jf(t,c))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,Li(t,n,c)}return Gf(t,n,a,l,c)}function $g(t,n,a,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return Wg(t,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&$o(n,h!==null?h.cachePool:null),h!==null?eg(n,h):Ef(),ng(n);else return l=n.lanes=536870912,Wg(t,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?($o(n,h.cachePool),eg(n,h),da(),n.memoizedState=null):(t!==null&&$o(n,null),Ef(),da());return ke(t,n,c,a),n.child}function Sl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wg(t,n,a,l,c){var h=mf();return h=h===null?null:{parent:Te._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&$o(n,null),Ef(),ng(n),t!==null&&Zr(t,n,l,!0),n.childLanes=c,null}function mu(t,n){return n=pu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function tp(t,n,a){return mr(n,t.child,null,a),t=mu(n,n.pendingProps),t.flags|=2,pn(n),n.memoizedState=null,t}function PE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=mu(n,l),n.lanes=536870912,Sl(null,t);if(Af(n),(t=te)?(t=hy(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ra!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},a=zm(t),a.return=n,n.child=a,Pe=n,te=null)):t=null,t===null)throw la(n);return n.lanes=536870912,null}return mu(n,l)}var h=t.memoizedState;if(h!==null){var p=h.dehydrated;if(Af(n),c)if(n.flags&256)n.flags&=-257,n=tp(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||Zr(t,n,a,!1),c=(a&t.childLanes)!==0,Se||c){if(l=$t,l!==null&&(p=Gs(l,a),p!==0&&p!==h.retryLane))throw h.retryLane=p,sr(t,p),on(l,t,p),Hf;Ru(),n=tp(t,n,a)}else t=h.treeContext,te=Mn(p.nextSibling),Pe=n,Ot=!0,sa=null,Vn=!1,t!==null&&jm(n,t),n=mu(n,l),n.flags|=4096;return n}return t=Ii(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function gu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Gf(t,n,a,l,c){return cr(n),a=bf(t,n,a,l,void 0,c),l=Rf(),t!==null&&!Se?(wf(t,n,c),Li(t,n,c)):(Ot&&l&&rf(n),n.flags|=1,ke(t,n,a,c),n.child)}function ep(t,n,a,l,c,h){return cr(n),n.updateQueue=null,a=ag(n,l,a,c),ig(t),l=Rf(),t!==null&&!Se?(wf(t,n,h),Li(t,n,h)):(Ot&&l&&rf(n),n.flags|=1,ke(t,n,a,h),n.child)}function np(t,n,a,l,c){if(cr(n),n.stateNode===null){var h=Qr,p=a.contextType;typeof p=="object"&&p!==null&&(h=je(p)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=kf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},pf(n),p=a.contextType,h.context=typeof p=="object"&&p!==null?je(p):Qr,h.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(jf(n,a,p,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&kf.enqueueReplaceState(h,h.state,null),_l(n,l,h,c),yl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,C=pr(a,E);h.props=C;var B=h.context,G=a.contextType;p=Qr,typeof G=="object"&&G!==null&&(p=je(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||B!==p)&&qg(n,h,l,p),ua=!1;var P=n.memoizedState;h.state=P,_l(n,l,h,c),yl(),B=n.memoizedState,E||P!==B||ua?(typeof K=="function"&&(jf(n,a,K,l),B=n.memoizedState),(C=ua||kg(n,a,C,l,P,B,p))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=p,l=C):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,yf(t,n),p=n.memoizedProps,G=pr(a,p),h.props=G,K=n.pendingProps,P=h.context,B=a.contextType,C=Qr,typeof B=="object"&&B!==null&&(C=je(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==K||P!==C)&&qg(n,h,l,C),ua=!1,P=n.memoizedState,h.state=P,_l(n,l,h,c),yl();var q=n.memoizedState;p!==K||P!==q||ua||t!==null&&t.dependencies!==null&&Zo(t.dependencies)?(typeof E=="function"&&(jf(n,a,E,l),q=n.memoizedState),(G=ua||kg(n,a,G,l,P,q,C)||t!==null&&t.dependencies!==null&&Zo(t.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,C)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),h.props=l,h.state=q,h.context=C,l=G):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,gu(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=mr(n,t.child,null,c),n.child=mr(n,null,a,c)):ke(t,n,a,c),n.memoizedState=h.state,t=n.child):t=Li(t,n,c),t}function ip(t,n,a,l){return or(),n.flags|=256,ke(t,n,a,l),n.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:Qm()}}function Yf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=_n),t}function ap(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,p;if((p=h)||(p=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(c?ha(n):da(),(t=te)?(t=hy(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ra!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},a=zm(t),a.return=n,n.child=a,Pe=n,te=null)):t=null,t===null)throw la(n);return Ih(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(da(),c=n.mode,E=pu({mode:"hidden",children:E},c),l=lr(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Qf(a),l.childLanes=Yf(t,p,a),n.memoizedState=Ff,Sl(null,l)):(ha(n),Kf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(h)n.flags&256?(ha(n),n.flags&=-257,n=Xf(t,n,a)):n.memoizedState!==null?(da(),n.child=t.child,n.flags|=128,n=null):(da(),E=l.fallback,c=n.mode,l=pu({mode:"visible",children:l.children},c),E=lr(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,mr(n,t.child,null,a),l=n.child,l.memoizedState=Qf(a),l.childLanes=Yf(t,p,a),n.memoizedState=Ff,n=Sl(null,l));else if(ha(n),Ih(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var B=p.dgst;p=B,l=Error(s(419)),l.stack="",l.digest=p,fl({value:l,source:null,stack:null}),n=Xf(t,n,a)}else if(Se||Zr(t,n,a,!1),p=(a&t.childLanes)!==0,Se||p){if(p=$t,p!==null&&(l=Gs(p,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,sr(t,l),on(p,t,l),Hf;Dh(E)||Ru(),n=Xf(t,n,a)}else Dh(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,te=Mn(E.nextSibling),Pe=n,Ot=!0,sa=null,Vn=!1,t!==null&&jm(n,t),n=Kf(n,l.children),n.flags|=4096);return n}return c?(da(),E=l.fallback,c=n.mode,C=t.child,B=C.sibling,l=Ii(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?E=Ii(B,E):(E=lr(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Sl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Qf(a):(c=E.cachePool,c!==null?(C=Te._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=Qm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Yf(t,p,a),n.memoizedState=Ff,Sl(t.child,l)):(ha(n),a=t.child,t=a.sibling,a=Ii(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Kf(t,n){return n=pu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function pu(t,n){return t=mn(22,t,null,n),t.lanes=0,t}function Xf(t,n,a){return mr(n,t.child,null,a),t=Kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function rp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),cf(t.return,n,a)}function Zf(t,n,a,l,c,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:h}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=c,p.treeForkCount=h)}function sp(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var p=de.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,nt(de,p),ke(t,n,l,a),l=Ot?cl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rp(t,a,n);else if(t.tag===19)rp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&au(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Zf(n,!1,c,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&au(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Zf(n,!0,a,null,h,l);break;case"together":Zf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Li(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),pa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Zr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ii(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ii(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Jf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Zo(t)))}function jE(t,n,a){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),oa(n,Te,t.memoizedState.cache),or();break;case 27:case 5:qa(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:oa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Af(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ha(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ap(t,n,a):(ha(n),t=Li(t,n,a),t!==null?t.sibling:null);ha(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Zr(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return sp(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(de,de.current),l)break;return null;case 22:return n.lanes=0,$g(t,n,a,n.pendingProps);case 24:oa(n,Te,t.memoizedState.cache)}return Li(t,n,a)}function lp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!Jf(t,a)&&(n.flags&128)===0)return Se=!1,jE(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,Ot&&(n.flags&1048576)!==0&&Pm(n,cl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=hr(n.elementType),n.type=t,typeof t=="function")ef(t)?(l=pr(t,l),n.tag=1,n=np(null,n,t,l,a)):(n.tag=0,n=Gf(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===wt){n.tag=11,n=Xg(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=Zg(null,n,t,l,a);break t}}throw n=ie(t)||t,Error(s(306,n,""))}}return n;case 0:return Gf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=pr(l,n.pendingProps),np(t,n,l,c,a);case 3:t:{if(Ie(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,yf(t,n),_l(n,l,null,a);var p=n.memoizedState;if(l=p.cache,oa(n,Te,l),l!==h.cache&&ff(n,[Te],a,!0),yl(),l=p.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=ip(t,n,l,a);break t}else if(l!==c){c=Cn(Error(s(424)),n),fl(c),n=ip(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(te=Mn(t.firstChild),Pe=n,Ot=!0,sa=null,Vn=!0,a=$m(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(or(),l===c){n=Li(t,n,a);break t}ke(t,n,l,a)}n=n.child}return n;case 26:return gu(t,n),t===null?(a=_y(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ot||(a=n.type,t=n.pendingProps,l=Mu(St.current).createElement(a),l[_e]=n,l[Oe]=t,qe(l,a,t),ve(l),n.stateNode=l):n.memoizedState=_y(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qa(n),t===null&&Ot&&(l=n.stateNode=gy(n.type,n.pendingProps,St.current),Pe=n,Vn=!0,c=te,Ta(n.type)?(Vh=c,te=Mn(l.firstChild)):te=c),ke(t,n,n.pendingProps.children,a),gu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((c=l=te)&&(l=pT(l,n.type,n.pendingProps,Vn),l!==null?(n.stateNode=l,Pe=n,te=Mn(l.firstChild),Vn=!1,c=!0):c=!1),c||la(n)),qa(n),c=n.type,h=n.pendingProps,p=t!==null?t.memoizedProps:null,l=h.children,Rh(c,h)?l=null:p!==null&&Rh(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=bf(t,n,NE,null,null,a),Bl._currentValue=c),gu(t,n),ke(t,n,l,a),n.child;case 6:return t===null&&Ot&&((t=a=te)&&(a=yT(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,Pe=n,te=null,t=!0):t=!1),t||la(n)),null;case 13:return ap(t,n,a);case 4:return Ie(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=mr(n,null,l,a):ke(t,n,l,a),n.child;case 11:return Xg(t,n,n.type,n.pendingProps,a);case 7:return ke(t,n,n.pendingProps,a),n.child;case 8:return ke(t,n,n.pendingProps.children,a),n.child;case 12:return ke(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,oa(n,n.type,l.value),ke(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,cr(n),c=je(c),l=l(c),n.flags|=1,ke(t,n,l,a),n.child;case 14:return Zg(t,n,n.type,n.pendingProps,a);case 15:return Jg(t,n,n.type,n.pendingProps,a);case 19:return sp(t,n,a);case 31:return PE(t,n,a);case 22:return $g(t,n,a,n.pendingProps);case 24:return cr(n),l=je(Te),t===null?(c=mf(),c===null&&(c=$t,h=hf(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},pf(n),oa(n,Te,c)):((t.lanes&a)!==0&&(yf(t,n),_l(n,null,null,a),yl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),oa(n,Te,l)):(l=h.cache,oa(n,Te,l),l!==c.cache&&ff(n,[Te],a,!0))),ke(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ui(t){t.flags|=4}function $f(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(xp())t.flags|=8192;else throw dr=tu,gf}else t.flags&=-16777217}function op(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Sy(n))if(xp())t.flags|=8192;else throw dr=tu,gf}function yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?So():536870912,t.lanes|=n,os|=n)}function bl(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function kE(t,n,a){var l=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Mi(Te),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xr(n)?Ui(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,of())),ee(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(Ui(n),h!==null?(ee(n),op(n,h)):(ee(n),$f(n,c,null,l,a))):h?h!==t.memoizedState?(Ui(n),ee(n),op(n,h)):(ee(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ui(n),ee(n),$f(n,c,t,l,a)),null;case 27:if(Cr(n),a=St.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=lt.current,Xr(n)?km(n):(t=gy(c,l,a),n.stateNode=t,Ui(n))}return ee(n),null;case 5:if(Cr(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(h=lt.current,Xr(n))km(n);else{var p=Mu(St.current);switch(h){case 1:h=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=p.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}h[_e]=n,h[Oe]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)h.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=h;t:switch(qe(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ui(n)}}return ee(n),$f(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=St.current,Xr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Pe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ay(t.nodeValue,a)),t||la(n,!0)}else t=Mu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Xr(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[_e]=n}else or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),t=!1}else a=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Xr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[_e]=n}else or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),yu(n,n.updateQueue),ee(n),null);case 4:return ae(),t===null&&Eh(n.stateNode.containerInfo),ee(n),null;case 10:return Mi(n.type),ee(n),null;case 19:if(X(de),l=n.memoizedState,l===null)return ee(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)bl(l,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=au(t),h!==null){for(n.flags|=128,bl(l,!1),t=h.updateQueue,n.updateQueue=t,yu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Um(a,t),a=a.sibling;return nt(de,de.current&1|2),Ot&&Vi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&$e()>Au&&(n.flags|=128,c=!0,bl(l,!1),n.lanes=4194304)}else{if(!c)if(t=au(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,yu(n,t),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ot)return ee(n),null}else 2*$e()-l.renderingStartTime>Au&&a!==536870912&&(n.flags|=128,c=!0,bl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=$e(),t.sibling=null,a=de.current,nt(de,c?a&1|2:a&1),Ot&&Vi(n,l.treeForkCount),t):(ee(n),null);case 22:case 23:return pn(n),Tf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&yu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&X(fr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Mi(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function qE(t,n){switch(sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Mi(Te),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Cr(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(s(340));or()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));or()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(de),null;case 4:return ae(),null;case 10:return Mi(n.type),null;case 22:case 23:return pn(n),Tf(),t!==null&&X(fr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Mi(Te),null;case 25:return null;default:return null}}function up(t,n){switch(sf(n),n.tag){case 3:Mi(Te),ae();break;case 26:case 27:case 5:Cr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:X(de);break;case 10:Mi(n.type);break;case 22:case 23:pn(n),Tf(),t!==null&&X(fr);break;case 24:Mi(Te)}}function Rl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,p=a.inst;l=h(),p.destroy=l}a=a.next}while(a!==c)}}catch(E){Yt(n,n.return,E)}}function ma(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var C=a,B=E;try{B()}catch(G){Yt(c,C,G)}}}l=l.next}while(l!==h)}}catch(G){Yt(n,n.return,G)}}function cp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{tg(n,a)}catch(l){Yt(t,t.return,l)}}}function fp(t,n,a){a.props=pr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function wl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Yt(t,n,c)}}function pi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Yt(t,n,c)}else a.current=null}function hp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Yt(t,t.return,c)}}function Wf(t,n,a){try{var l=t.stateNode;cT(l,t.type,a,n),l[Oe]=n}catch(c){Yt(t,t.return,c)}}function dp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ta(t.type)||t.tag===4}function th(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||dp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Pn));else if(l!==4&&(l===27&&Ta(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(eh(t,n,a),t=t.sibling;t!==null;)eh(t,n,a),t=t.sibling}function _u(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ta(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_u(t,n,a),t=t.sibling;t!==null;)_u(t,n,a),t=t.sibling}function mp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,l,a),n[_e]=t,n[Oe]=a}catch(h){Yt(t,t.return,h)}}var zi=!1,be=!1,nh=!1,gp=typeof WeakSet=="function"?WeakSet:Set,Le=null;function HE(t,n){if(t=t.containerInfo,Sh=Pu,t=Cm(t),Kc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var p=0,E=-1,C=-1,B=0,G=0,K=t,P=null;e:for(;;){for(var q;K!==a||c!==0&&K.nodeType!==3||(E=p+c),K!==h||l!==0&&K.nodeType!==3||(C=p+l),K.nodeType===3&&(p+=K.nodeValue.length),(q=K.firstChild)!==null;)P=K,K=q;for(;;){if(K===t)break e;if(P===a&&++B===c&&(E=p),P===h&&++G===l&&(C=p),(q=K.nextSibling)!==null)break;K=P,P=K.parentNode}K=q}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(bh={focusedElem:t,selectionRange:a},Pu=!1,Le=n;Le!==null;)if(n=Le,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Le=t;else for(;Le!==null;){switch(n=Le,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var ot=pr(a.type,c);t=l.getSnapshotBeforeUpdate(ot,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Yt(a,a.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ch(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ch(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Le=t;break}Le=n.return}}function pp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Pi(t,a),l&4&&Rl(5,a);break;case 1:if(Pi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){Yt(a,a.return,p)}else{var c=pr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(a,a.return,p)}}l&64&&cp(a),l&512&&wl(a,a.return);break;case 3:if(Pi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{tg(t,n)}catch(p){Yt(a,a.return,p)}}break;case 27:n===null&&l&4&&mp(a);case 26:case 5:Pi(t,a),n===null&&l&4&&hp(a),l&512&&wl(a,a.return);break;case 12:Pi(t,a);break;case 31:Pi(t,a),l&4&&vp(t,a);break;case 13:Pi(t,a),l&4&&Ep(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=$E.bind(null,a),_T(t,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||be,c=zi;var h=be;zi=l,(be=n)&&!h?ji(t,a,(a.subtreeFlags&8772)!==0):Pi(t,a),zi=c,be=h}break;case 30:break;default:Pi(t,a)}}function yp(t){var n=t.alternate;n!==null&&(t.alternate=null,yp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Mr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,an=!1;function Bi(t,n,a){for(a=a.child;a!==null;)_p(t,n,a),a=a.sibling}function _p(t,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ln,a)}catch{}switch(a.tag){case 26:be||pi(a,n),Bi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||pi(a,n);var l=se,c=an;Ta(a.type)&&(se=a.stateNode,an=!1),Bi(t,n,a),Ll(a.stateNode),se=l,an=c;break;case 5:be||pi(a,n);case 6:if(l=se,c=an,se=null,Bi(t,n,a),se=l,an=c,se!==null)if(an)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(h){Yt(a,n,h)}else try{se.removeChild(a.stateNode)}catch(h){Yt(a,n,h)}break;case 18:se!==null&&(an?(t=se,cy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ps(t)):cy(se,a.stateNode));break;case 4:l=se,c=an,se=a.stateNode.containerInfo,an=!0,Bi(t,n,a),se=l,an=c;break;case 0:case 11:case 14:case 15:ma(2,a,n),be||ma(4,a,n),Bi(t,n,a);break;case 1:be||(pi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&fp(a,n,l)),Bi(t,n,a);break;case 21:Bi(t,n,a);break;case 22:be=(l=be)||a.memoizedState!==null,Bi(t,n,a),be=l;break;default:Bi(t,n,a)}}function vp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ps(t)}catch(a){Yt(n,n.return,a)}}}function Ep(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ps(t)}catch(a){Yt(n,n.return,a)}}function GE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gp),n;default:throw Error(s(435,t.tag))}}function vu(t,n){var a=GE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=WE.bind(null,t,l);l.then(c,c)}})}function rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ta(E.type)){se=E.stateNode,an=!1;break t}break;case 5:se=E.stateNode,an=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(se===null)throw Error(s(160));_p(h,p,c),se=null,an=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Tp(n,t),n=n.sibling}var Fn=null;function Tp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),sn(t),l&4&&(ma(3,t,t.return),Rl(3,t),ma(5,t,t.return));break;case 1:rn(n,t),sn(t),l&512&&(be||a===null||pi(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Fn;if(rn(n,t),sn(t),l&512&&(be||a===null||pi(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[ni]||h[_e]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),qe(h,l,a),h[_e]=t,ve(h),l=h;break t;case"link":var p=Ty("link","href",c).get(l+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(h=p[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}h=c.createElement(l),qe(h,l,a),c.head.appendChild(h);break;case"meta":if(p=Ty("meta","content",c).get(l+(a.content||""))){for(E=0;E<p.length;E++)if(h=p[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}h=c.createElement(l),qe(h,l,a),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[_e]=t,ve(h),l=h}t.stateNode=l}else Ay(c,t.type,t.stateNode);else t.stateNode=Ey(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?Ay(c,t.type,t.stateNode):Ey(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wf(t,t.memoizedProps,a.memoizedProps)}break;case 27:rn(n,t),sn(t),l&512&&(be||a===null||pi(a,a.return)),a!==null&&l&4&&Wf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(rn(n,t),sn(t),l&512&&(be||a===null||pi(a,a.return)),t.flags&32){c=t.stateNode;try{nn(c,"")}catch(ot){Yt(t,t.return,ot)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Wf(t,c,a!==null?a.memoizedProps:c)),l&1024&&(nh=!0);break;case 6:if(rn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ot){Yt(t,t.return,ot)}}break;case 3:if(Lu=null,c=Fn,Fn=Ou(n.containerInfo),rn(n,t),Fn=c,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ps(n.containerInfo)}catch(ot){Yt(t,t.return,ot)}nh&&(nh=!1,Ap(t));break;case 4:l=Fn,Fn=Ou(t.stateNode.containerInfo),rn(n,t),sn(t),Fn=l;break;case 12:rn(n,t),sn(t);break;case 31:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 13:rn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tu=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 22:c=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=zi,G=be;if(zi=B||c,be=G||C,rn(n,t),be=G,zi=B,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||C||zi||be||yr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(h=C.stateNode,c)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,P=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ot){Yt(C,C.return,ot)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(ot){Yt(C,C.return,ot)}}}else if(n.tag===18){if(a===null){C=n;try{var q=C.stateNode;c?fy(q,!0):fy(C.stateNode,!1)}catch(ot){Yt(C,C.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vu(t,a))));break;case 19:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 30:break;case 21:break;default:rn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(dp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,h=th(t);_u(t,h,c);break;case 5:var p=a.stateNode;a.flags&32&&(nn(p,""),a.flags&=-33);var E=th(t);_u(t,E,p);break;case 3:case 4:var C=a.stateNode.containerInfo,B=th(t);eh(t,B,C);break;default:throw Error(s(161))}}catch(G){Yt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ap(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ap(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Pi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)pp(t,n.alternate,n),n=n.sibling}function yr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ma(4,n,n.return),yr(n);break;case 1:pi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&fp(n,n.return,a),yr(n);break;case 27:Ll(n.stateNode);case 26:case 5:pi(n,n.return),yr(n);break;case 22:n.memoizedState===null&&yr(n);break;case 30:yr(n);break;default:yr(n)}t=t.sibling}}function ji(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,p=h.flags;switch(h.tag){case 0:case 11:case 15:ji(c,h,a),Rl(4,h);break;case 1:if(ji(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Yt(l,l.return,B)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Wm(C[c],E)}catch(B){Yt(l,l.return,B)}}a&&p&64&&cp(h),wl(h,h.return);break;case 27:mp(h);case 26:case 5:ji(c,h,a),a&&l===null&&p&4&&hp(h),wl(h,h.return);break;case 12:ji(c,h,a);break;case 31:ji(c,h,a),a&&p&4&&vp(c,h);break;case 13:ji(c,h,a),a&&p&4&&Ep(c,h);break;case 22:h.memoizedState===null&&ji(c,h,a),wl(h,h.return);break;case 30:break;default:ji(c,h,a)}n=n.sibling}}function ih(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&hl(a))}function ah(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t))}function Qn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sp(t,n,a,l),n=n.sibling}function Sp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(t,n,a,l),c&2048&&Rl(9,n);break;case 1:Qn(t,n,a,l);break;case 3:Qn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t)));break;case 12:if(c&2048){Qn(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,p=h.id,E=h.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Yt(n,n.return,C)}}else Qn(t,n,a,l);break;case 31:Qn(t,n,a,l);break;case 13:Qn(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,p=n.alternate,n.memoizedState!==null?h._visibility&2?Qn(t,n,a,l):Cl(t,n):h._visibility&2?Qn(t,n,a,l):(h._visibility|=2,rs(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&ih(p,n);break;case 24:Qn(t,n,a,l),c&2048&&ah(n.alternate,n);break;default:Qn(t,n,a,l)}}function rs(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,p=n,E=a,C=l,B=p.flags;switch(p.tag){case 0:case 11:case 15:rs(h,p,E,C,c),Rl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?rs(h,p,E,C,c):Cl(h,p):(G._visibility|=2,rs(h,p,E,C,c)),c&&B&2048&&ih(p.alternate,p);break;case 24:rs(h,p,E,C,c),c&&B&2048&&ah(p.alternate,p);break;default:rs(h,p,E,C,c)}n=n.sibling}}function Cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Cl(a,l),c&2048&&ih(l.alternate,l);break;case 24:Cl(a,l),c&2048&&ah(l.alternate,l);break;default:Cl(a,l)}n=n.sibling}}var Dl=8192;function ss(t,n,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)bp(t,n,a),t=t.sibling}function bp(t,n,a){switch(t.tag){case 26:ss(t,n,a),t.flags&Dl&&t.memoizedState!==null&&VT(a,Fn,t.memoizedState,t.memoizedProps);break;case 5:ss(t,n,a);break;case 3:case 4:var l=Fn;Fn=Ou(t.stateNode.containerInfo),ss(t,n,a),Fn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,ss(t,n,a),Dl=l):ss(t,n,a));break;default:ss(t,n,a)}}function Rp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Le=l,Cp(l,t)}Rp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wp(t),t=t.sibling}function wp(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&ma(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Eu(t)):Il(t);break;default:Il(t)}}function Eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Le=l,Cp(l,t)}Rp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ma(8,n,n.return),Eu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Eu(n));break;default:Eu(n)}t=t.sibling}}function Cp(t,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:ma(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Le=l;else t:for(a=t;Le!==null;){l=Le;var c=l.sibling,h=l.return;if(yp(l),l===a){Le=null;break t}if(c!==null){c.return=h,Le=c;break t}Le=h}}}var FE={getCacheForType:function(t){var n=je(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return je(Te).controller.signal}},QE=typeof WeakMap=="function"?WeakMap:Map,qt=0,$t=null,Ct=null,It=0,Qt=0,yn=null,ga=!1,ls=!1,rh=!1,ki=0,ue=0,pa=0,_r=0,sh=0,_n=0,os=0,Vl=null,ln=null,lh=!1,Tu=0,Dp=0,Au=1/0,Su=null,ya=null,Ne=0,_a=null,us=null,qi=0,oh=0,uh=null,Ip=null,Nl=0,ch=null;function vn(){return(qt&2)!==0&&It!==0?It&-It:F.T!==null?ph():bo()}function Vp(){if(_n===0)if((It&536870912)===0||Ot){var t=Fa;Fa<<=1,(Fa&3932160)===0&&(Fa=262144),_n=t}else _n=536870912;return t=gn.current,t!==null&&(t.flags|=32),_n}function on(t,n,a){(t===$t&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(cs(t,0),va(t,It,_n,!1)),Qa(t,a),((qt&2)===0||t!==$t)&&(t===$t&&((qt&2)===0&&(_r|=a),ue===4&&va(t,It,_n,!1)),yi(t))}function Np(t,n,a){if((qt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Un(t,n),c=l?XE(t,n):hh(t,n,!0),h=l;do{if(c===0){ls&&!l&&va(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!YE(a)){c=hh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=Vl;var C=E.current.memoizedState.isDehydrated;if(C&&(cs(E,p).flags|=256),p=hh(E,p,!1),p!==2){if(rh&&!C){E.errorRecoveryDisabledLanes|=h,_r|=h,c=4;break t}h=ln,ln=c,h!==null&&(ln===null?ln=h:ln.push.apply(ln,h))}c=p}if(h=!1,c!==2)continue}}if(c===1){cs(t,0),va(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:va(l,n,_n,!ga);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Tu+300-$e(),10<c)){if(va(l,n,_n,!ga),Wn(l,0,!0)!==0)break t;qi=n,l.timeoutHandle=oy(Mp.bind(null,l,a,ln,Su,lh,n,_n,_r,os,ga,h,"Throttled",-0,0),c);break t}Mp(l,a,ln,Su,lh,n,_n,_r,os,ga,h,null,-0,0)}}break}while(!0);yi(t)}function Mp(t,n,a,l,c,h,p,E,C,B,G,K,P,q){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},bp(n,h,K);var ot=(h&62914560)===h?Tu-$e():(h&4194048)===h?Dp-$e():0;if(ot=NT(K,ot),ot!==null){qi=h,t.cancelPendingCommit=ot(jp.bind(null,t,n,h,a,l,c,p,E,C,G,K,null,P,q)),va(t,h,p,!B);return}}jp(t,n,h,a,l,c,p,E,C)}function YE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!dn(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function va(t,n,a,l){n&=~sh,n&=~_r,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-fe(c),p=1<<h;l[h]=-1,c&=~p}a!==0&&Ya(t,a,n)}function bu(){return(qt&6)===0?(Ml(0),!1):!0}function fh(){if(Ct!==null){if(Qt===0)var t=Ct.return;else t=Ct,Ni=ur=null,Cf(t),ts=null,ml=0,t=Ct;for(;t!==null;)up(t.alternate,t),t=t.return;Ct=null}}function cs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,dT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qi=0,fh(),$t=t,Ct=a=Ii(t.current,null),It=n,Qt=0,yn=null,ga=!1,ls=Un(t,n),rh=!1,os=_n=sh=_r=pa=ue=0,ln=Vl=null,lh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-fe(l),h=1<<c;n|=t[c],l&=~h}return ki=n,Fo(),a}function Op(t,n){At=null,F.H=Al,n===Wr||n===Wo?(n=Xm(),Qt=3):n===gf?(n=Xm(),Qt=4):Qt=n===Hf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Ct===null&&(ue=1,du(t,Cn(n,t.current)))}function xp(){var t=gn.current;return t===null?!0:(It&4194048)===It?Nn===null:(It&62914560)===It||(It&536870912)!==0?t===Nn:!1}function Lp(){var t=F.H;return F.H=Al,t===null?Al:t}function Up(){var t=F.A;return F.A=FE,t}function Ru(){ue=4,ga||(It&4194048)!==It&&gn.current!==null||(ls=!0),(pa&134217727)===0&&(_r&134217727)===0||$t===null||va($t,It,_n,!1)}function hh(t,n,a){var l=qt;qt|=2;var c=Lp(),h=Up();($t!==t||It!==n)&&(Su=null,cs(t,n)),n=!1;var p=ue;t:do try{if(Qt!==0&&Ct!==null){var E=Ct,C=yn;switch(Qt){case 8:fh(),p=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var B=Qt;if(Qt=0,yn=null,fs(t,E,C,B),a&&ls){p=0;break t}break;default:B=Qt,Qt=0,yn=null,fs(t,E,C,B)}}KE(),p=ue;break}catch(G){Op(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ni=ur=null,qt=l,F.H=c,F.A=h,Ct===null&&($t=null,It=0,Fo()),p}function KE(){for(;Ct!==null;)zp(Ct)}function XE(t,n){var a=qt;qt|=2;var l=Lp(),c=Up();$t!==t||It!==n?(Su=null,Au=$e()+500,cs(t,n)):ls=Un(t,n);t:do try{if(Qt!==0&&Ct!==null){n=Ct;var h=yn;e:switch(Qt){case 1:Qt=0,yn=null,fs(t,n,h,1);break;case 2:case 9:if(Ym(h)){Qt=0,yn=null,Bp(n);break}n=function(){Qt!==2&&Qt!==9||$t!==t||(Qt=7),yi(t)},h.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Ym(h)?(Qt=0,yn=null,Bp(n)):(Qt=0,yn=null,fs(t,n,h,7));break;case 5:var p=null;switch(Ct.tag){case 26:p=Ct.memoizedState;case 5:case 27:var E=Ct;if(p?Sy(p):E.stateNode.complete){Qt=0,yn=null;var C=E.sibling;if(C!==null)Ct=C;else{var B=E.return;B!==null?(Ct=B,wu(B)):Ct=null}break e}}Qt=0,yn=null,fs(t,n,h,5);break;case 6:Qt=0,yn=null,fs(t,n,h,6);break;case 8:fh(),ue=6;break t;default:throw Error(s(462))}}ZE();break}catch(G){Op(t,G)}while(!0);return Ni=ur=null,F.H=l,F.A=c,qt=a,Ct!==null?0:($t=null,It=0,Fo(),ue)}function ZE(){for(;Ct!==null&&!kc();)zp(Ct)}function zp(t){var n=lp(t.alternate,t,ki);t.memoizedProps=t.pendingProps,n===null?wu(t):Ct=n}function Bp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ep(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=ep(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Cf(n);default:up(a,n),n=Ct=Um(n,ki),n=lp(a,n,ki)}t.memoizedProps=t.pendingProps,n===null?wu(t):Ct=n}function fs(t,n,a,l){Ni=ur=null,Cf(n),ts=null,ml=0;var c=n.return;try{if(BE(t,c,n,a,It)){ue=1,du(t,Cn(a,t.current)),Ct=null;return}}catch(h){if(c!==null)throw Ct=c,h;ue=1,du(t,Cn(a,t.current)),Ct=null;return}n.flags&32768?(Ot||l===1?t=!0:ls||(It&536870912)!==0?t=!1:(ga=t=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pp(n,t)):wu(n)}function wu(t){var n=t;do{if((n.flags&32768)!==0){Pp(n,ga);return}t=n.return;var a=kE(n.alternate,n,ki);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);ue===0&&(ue=5)}function Pp(t,n){do{var a=qE(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);ue=6,Ct=null}function jp(t,n,a,l,c,h,p,E,C){t.cancelPendingCommit=null;do Cu();while(Ne!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Wc,Gc(t,a,h,p,E,C),t===$t&&(Ct=$t=null,It=0),us=n,_a=t,qi=a,oh=h,uh=c,Ip=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tT(Xi,function(){return Fp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,c=et.p,et.p=2,p=qt,qt|=4;try{HE(t,n,a)}finally{qt=p,et.p=c,F.T=l}}Ne=1,kp(),qp(),Hp()}}function kp(){if(Ne===1){Ne=0;var t=_a,n=us,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=et.p;et.p=2;var c=qt;qt|=4;try{Tp(n,t);var h=bh,p=Cm(t.containerInfo),E=h.focusedElem,C=h.selectionRange;if(p!==E&&E&&E.ownerDocument&&wm(E.ownerDocument.documentElement,E)){if(C!==null&&Kc(E)){var B=C.start,G=C.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,P=K&&K.defaultView||window;if(P.getSelection){var q=P.getSelection(),ot=E.textContent.length,gt=Math.min(C.start,ot),Jt=C.end===void 0?gt:Math.min(C.end,ot);!q.extend&&gt>Jt&&(p=Jt,Jt=gt,gt=p);var x=Rm(E,gt),N=Rm(E,Jt);if(x&&N&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var z=K.createRange();z.setStart(x.node,x.offset),q.removeAllRanges(),gt>Jt?(q.addRange(z),q.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),q.addRange(z))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Pu=!!Sh,bh=Sh=null}finally{qt=c,et.p=l,F.T=a}}t.current=n,Ne=2}}function qp(){if(Ne===2){Ne=0;var t=_a,n=us,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=et.p;et.p=2;var c=qt;qt|=4;try{pp(t,n.alternate,n)}finally{qt=c,et.p=l,F.T=a}}Ne=3}}function Hp(){if(Ne===4||Ne===3){Ne=0,yo();var t=_a,n=us,a=qi,l=Ip;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,us=_a=null,Gp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ya=null),Ri(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,c=et.p,et.p=2,F.T=null;try{for(var h=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];h(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=c}}(qi&3)!==0&&Cu(),yi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===ch?Nl++:(Nl=0,ch=t):Nl=0,Ml(0)}}function Gp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,hl(n)))}function Cu(){return kp(),qp(),Hp(),Fp()}function Fp(){if(Ne!==5)return!1;var t=_a,n=oh;oh=0;var a=Ri(qi),l=F.T,c=et.p;try{et.p=32>a?32:a,F.T=null,a=uh,uh=null;var h=_a,p=qi;if(Ne=0,us=_a=null,qi=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,wp(h.current),Sp(h,h.current,p,a),qt=E,Ml(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ln,h)}catch{}return!0}finally{et.p=c,F.T=l,Gp(t,n)}}function Qp(t,n,a){n=Cn(a,n),n=qf(t.stateNode,n,2),t=fa(t,n,2),t!==null&&(Qa(t,2),yi(t))}function Yt(t,n,a){if(t.tag===3)Qp(t,t,a);else for(;n!==null;){if(n.tag===3){Qp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ya===null||!ya.has(l))){t=Cn(a,t),a=Yg(2),l=fa(n,a,2),l!==null&&(Kg(a,l,n,t),Qa(l,2),yi(l));break}}n=n.return}}function dh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new QE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(rh=!0,c.add(a),t=JE.bind(null,t,n,a),n.then(t,t))}function JE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(It&a)===a&&(ue===4||ue===3&&(It&62914560)===It&&300>$e()-Tu?(qt&2)===0&&cs(t,0):sh|=a,os===It&&(os=0)),yi(t)}function Yp(t,n){n===0&&(n=So()),t=sr(t,n),t!==null&&(Qa(t,n),yi(t))}function $E(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Yp(t,a)}function WE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Yp(t,a)}function tT(t,n){return Ve(t,n)}var Du=null,hs=null,mh=!1,Iu=!1,gh=!1,Ea=0;function yi(t){t!==hs&&t.next===null&&(hs===null?Du=hs=t:hs=hs.next=t),Iu=!0,mh||(mh=!0,nT())}function Ml(t,n){if(!gh&&Iu){gh=!0;do for(var a=!1,l=Du;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var p=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-fe(42|t)+1)-1,h&=c&~(p&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Jp(l,h))}else h=It,h=Wn(l,l===$t?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Un(l,h)||(a=!0,Jp(l,h));l=l.next}while(a);gh=!1}}function eT(){Kp()}function Kp(){Iu=mh=!1;var t=0;Ea!==0&&hT()&&(t=Ea);for(var n=$e(),a=null,l=Du;l!==null;){var c=l.next,h=Xp(l,n);h===0?(l.next=null,a===null?Du=c:a.next=c,c===null&&(hs=a)):(a=l,(t!==0||(h&3)!==0)&&(Iu=!0)),l=c}Ne!==0&&Ne!==5||Ml(t),Ea!==0&&(Ea=0)}function Xp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var p=31-fe(h),E=1<<p,C=c[p];C===-1?((E&a)===0||(E&l)!==0)&&(c[p]=Hc(E,n)):C<=n&&(t.expiredLanes|=E),h&=~E}if(n=$t,a=It,a=Wn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ki(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Un(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ki(l),Ri(a)){case 2:case 8:a=qs;break;case 32:a=Xi;break;case 268435456:a=_o;break;default:a=Xi}return l=Zp.bind(null,t),a=Ve(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ki(l),t.callbackPriority=2,t.callbackNode=null,2}function Zp(t,n){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cu()&&t.callbackNode!==a)return null;var l=It;return l=Wn(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Np(t,l,n),Xp(t,$e()),t.callbackNode!=null&&t.callbackNode===a?Zp.bind(null,t):null)}function Jp(t,n){if(Cu())return null;Np(t,n,!0)}function nT(){mT(function(){(qt&6)!==0?Ve(ks,eT):Kp()})}function ph(){if(Ea===0){var t=Jr;t===0&&(t=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Ea=t}return Ea}function $p(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ur(""+t)}function Wp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function iT(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=$p((c[Oe]||null).action),p=l.submitter;p&&(n=(n=p[Oe]||null)?$p(n.formAction):p.getAttribute("formAction"),n!==null&&(h=n,p=null));var E=new ci("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ea!==0){var C=p?Wp(c,p):new FormData(c);Uf(a,{pending:!0,data:C,method:c.method,action:h},null,C)}}else typeof h=="function"&&(E.preventDefault(),C=p?Wp(c,p):new FormData(c),Uf(a,{pending:!0,data:C,method:c.method,action:h},h,C))},currentTarget:c}]})}}for(var yh=0;yh<$c.length;yh++){var _h=$c[yh],aT=_h.toLowerCase(),rT=_h[0].toUpperCase()+_h.slice(1);Gn(aT,"on"+rT)}Gn(Vm,"onAnimationEnd"),Gn(Nm,"onAnimationIteration"),Gn(Mm,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(TE,"onTransitionRun"),Gn(AE,"onTransitionStart"),Gn(SE,"onTransitionCancel"),Gn(Om,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function ty(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],C=E.instance,B=E.currentTarget;if(E=E.listener,C!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(G){Go(G)}c.currentTarget=null,h=C}else for(p=0;p<l.length;p++){if(E=l[p],C=E.instance,B=E.currentTarget,E=E.listener,C!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(G){Go(G)}c.currentTarget=null,h=C}}}}function Dt(t,n){var a=n[Nr];a===void 0&&(a=n[Nr]=new Set);var l=t+"__bubble";a.has(l)||(ey(n,t,2,!1),a.add(l))}function vh(t,n,a){var l=0;n&&(l|=4),ey(a,t,l,n)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Eh(t){if(!t[Vu]){t[Vu]=!0,Fs.forEach(function(a){a!=="selectionchange"&&(sT.has(a)||vh(a,!1,t),vh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Vu]||(n[Vu]=!0,vh("selectionchange",!1,n))}}function ey(t,n,a,l){switch(Vy(n)){case 2:var c=xT;break;case 8:c=LT;break;default:c=Lh}a=c.bind(null,n,a,t),c=void 0,!$a||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Th(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=l.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=ii(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){l=h=p;continue t}E=E.parentNode}}l=l.return}ea(function(){var B=h,G=Sn(a),K=[];t:{var P=xm.get(t);if(P!==void 0){var q=ci,ot=t;switch(t){case"keypress":if(tr(a)===0)break t;case"keydown":case"keyup":q=ko;break;case"focusin":ot="focus",q=nr;break;case"focusout":ot="blur",q=nr;break;case"beforeblur":case"afterblur":q=nr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Vm:case Nm:case Mm:q=xo;break;case Om:q=A;break;case"scroll":case"scrollend":q=il;break;case"wheel":q=k;break;case"copy":case"cut":case"paste":q=Lo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Di;break;case"toggle":case"beforetoggle":q=Tt}var gt=(n&4)!==0,Jt=!gt&&(t==="scroll"||t==="scrollend"),x=gt?P!==null?P+"Capture":null:P;gt=[];for(var N=B,z;N!==null;){var Q=N;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||x===null||(Q=jn(N,x),Q!=null&&gt.push(xl(N,Q,z))),Jt)break;N=N.return}0<gt.length&&(P=new q(P,ot,null,a,G),K.push({event:P,listeners:gt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&a!==tl&&(ot=a.relatedTarget||a.fromElement)&&(ii(ot)||ot[ei]))break t;if((q||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,q?(ot=a.relatedTarget||a.toElement,q=B,ot=ot?ii(ot):null,ot!==null&&(Jt=f(ot),gt=ot.tag,ot!==Jt||gt!==5&&gt!==27&&gt!==6)&&(ot=null)):(q=null,ot=B),q!==ot)){if(gt=al,Q="onMouseLeave",x="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Di,Q="onPointerLeave",x="onPointerEnter",N="pointer"),Jt=q==null?P:fn(q),z=ot==null?P:fn(ot),P=new gt(Q,N+"leave",q,a,G),P.target=Jt,P.relatedTarget=z,Q=null,ii(G)===B&&(gt=new gt(x,N+"enter",ot,a,G),gt.target=z,gt.relatedTarget=Jt,Q=gt),Jt=Q,q&&ot)e:{for(gt=lT,x=q,N=ot,z=0,Q=x;Q;Q=gt(Q))z++;Q=0;for(var ht=N;ht;ht=gt(ht))Q++;for(;0<z-Q;)x=gt(x),z--;for(;0<Q-z;)N=gt(N),Q--;for(;z--;){if(x===N||N!==null&&x===N.alternate){gt=x;break e}x=gt(x),N=gt(N)}gt=null}else gt=null;q!==null&&ny(K,P,q,gt,!1),ot!==null&&Jt!==null&&ny(K,Jt,ot,gt,!0)}}t:{if(P=B?fn(B):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var Bt=vm;else if(ym(P))if(Em)Bt=_E;else{Bt=pE;var ct=gE}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&Lr(B.elementType)&&(Bt=vm):Bt=yE;if(Bt&&(Bt=Bt(t,B))){_m(K,Bt,a,G);break t}ct&&ct(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&Js(P,"number",P.value)}switch(ct=B?fn(B):window,t){case"focusin":(ym(ct)||ct.contentEditable==="true")&&(Hr=ct,Xc=B,ul=null);break;case"focusout":ul=Xc=Hr=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,Dm(K,a,G);break;case"selectionchange":if(EE)break;case"keydown":case"keyup":Dm(K,a,G)}var bt;if(kt)t:{switch(t){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else qr?ir(t,a)&&(Vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(di&&a.locale!=="ko"&&(qr||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&qr&&(bt=nl()):(ui=G,el="value"in ui?ui.value:ui.textContent,qr=!0)),ct=Nu(B,Vt),0<ct.length&&(Vt=new hi(Vt,t,null,a,G),K.push({event:Vt,listeners:ct}),bt?Vt.data=bt:(bt=kr(a),bt!==null&&(Vt.data=bt)))),(bt=Rn?fE(t,a):hE(t,a))&&(Vt=Nu(B,"onBeforeInput"),0<Vt.length&&(ct=new hi("onBeforeInput","beforeinput",null,a,G),K.push({event:ct,listeners:Vt}),ct.data=bt)),iT(K,t,B,a,G)}ty(K,n)})}function xl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Nu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=jn(t,a),c!=null&&l.unshift(xl(t,c,h)),c=jn(t,n),c!=null&&l.push(xl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function lT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ny(t,n,a,l,c){for(var h=n._reactName,p=[];a!==null&&a!==l;){var E=a,C=E.alternate,B=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||B===null||(C=B,c?(B=jn(a,h),B!=null&&p.unshift(xl(a,B,C))):c||(B=jn(a,h),B!=null&&p.push(xl(a,B,C)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var oT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function iy(t){return(typeof t=="string"?t:""+t).replace(oT,`
`).replace(uT,"")}function ay(t,n){return n=iy(n),iy(t)===n}function Zt(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||nn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&nn(t,""+l);break;case"className":hn(t,"class",l);break;case"tabIndex":hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,a,l);break;case"style":Ws(t,l,h);break;case"data":if(n!=="object"){hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ur(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Zt(t,n,"name",c.name,c,null),Zt(t,n,"formEncType",c.formEncType,c,null),Zt(t,n,"formMethod",c.formMethod,c,null),Zt(t,n,"formTarget",c.formTarget,c,null)):(Zt(t,n,"encType",c.encType,c,null),Zt(t,n,"method",c.method,c,null),Zt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ur(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Pn);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ur(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Or(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Or(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=No.get(a)||a,Or(t,a,l))}}function Ah(t,n,a,l,c,h){switch(a){case"style":Ws(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?nn(t,l):(typeof l=="number"||typeof l=="bigint")&&nn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[Oe]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Or(t,a,l)}}}function qe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var p=a[h];if(p!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(t,n,h,p,a,null)}}c&&Zt(t,n,"srcSet",a.srcSet,a,null),l&&Zt(t,n,"src",a.src,a,null);return;case"input":Dt("invalid",t);var E=h=p=c=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":p=G;break;case"checked":C=G;break;case"defaultChecked":B=G;break;case"value":h=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Zt(t,n,l,G,a,null)}}Do(t,h,E,C,B,p,c,!1);return;case"select":Dt("invalid",t),l=p=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Zt(t,n,c,E,a,null)}n=h,a=p,t.multiple=!!l,n!=null?Ji(t,!!l,n,!1):a!=null&&Ji(t,!!l,a,!0);return;case"textarea":Dt("invalid",t),h=c=l=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(t,n,p,E,a,null)}$i(t,l,c,h);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(t,n,C,l,a,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Dt(Ol[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(t,n,B,l,a,null)}return;default:if(Lr(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Ah(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Zt(t,n,E,l,a,null))}function cT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,p=null,E=null,C=null,B=null,G=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=K;default:l.hasOwnProperty(q)||Zt(t,n,q,null,l,K)}}for(var P in l){var q=l[P];if(K=a[P],l.hasOwnProperty(P)&&(q!=null||K!=null))switch(P){case"type":h=q;break;case"name":c=q;break;case"checked":B=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==K&&Zt(t,n,P,q,l,K)}}xr(t,p,E,C,B,G,h,c);return;case"select":q=p=E=P=null;for(h in a)if(C=a[h],a.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(h)||Zt(t,n,h,null,l,C)}for(c in l)if(h=l[c],C=a[c],l.hasOwnProperty(c)&&(h!=null||C!=null))switch(c){case"value":P=h;break;case"defaultValue":E=h;break;case"multiple":p=h;default:h!==C&&Zt(t,n,c,h,l,C)}n=E,a=p,l=q,P!=null?Ji(t,!!a,P,!1):!!l!=!!a&&(n!=null?Ji(t,!!a,n,!0):Ji(t,!!a,a?[]:"",!1));return;case"textarea":q=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(t,n,E,null,l,c)}for(p in l)if(c=l[p],h=a[p],l.hasOwnProperty(p)&&(c!=null||h!=null))switch(p){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Zt(t,n,p,c,l,h)}Io(t,P,q);return;case"option":for(var ot in a)if(P=a[ot],a.hasOwnProperty(ot)&&P!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:Zt(t,n,ot,null,l,P)}for(C in l)if(P=l[C],q=a[C],l.hasOwnProperty(C)&&P!==q&&(P!=null||q!=null))switch(C){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Zt(t,n,C,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)P=a[gt],a.hasOwnProperty(gt)&&P!=null&&!l.hasOwnProperty(gt)&&Zt(t,n,gt,null,l,P);for(B in l)if(P=l[B],q=a[B],l.hasOwnProperty(B)&&P!==q&&(P!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Zt(t,n,B,P,l,q)}return;default:if(Lr(n)){for(var Jt in a)P=a[Jt],a.hasOwnProperty(Jt)&&P!==void 0&&!l.hasOwnProperty(Jt)&&Ah(t,n,Jt,void 0,l,P);for(G in l)P=l[G],q=a[G],!l.hasOwnProperty(G)||P===q||P===void 0&&q===void 0||Ah(t,n,G,P,l,q);return}}for(var x in a)P=a[x],a.hasOwnProperty(x)&&P!=null&&!l.hasOwnProperty(x)&&Zt(t,n,x,null,l,P);for(K in l)P=l[K],q=a[K],!l.hasOwnProperty(K)||P===q||P==null&&q==null||Zt(t,n,K,P,l,q)}function ry(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],h=c.transferSize,p=c.initiatorType,E=c.duration;if(h&&E&&ry(p)){for(p=0,E=c.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>E)break;var G=C.transferSize,K=C.initiatorType;G&&ry(K)&&(C=C.responseEnd,p+=G*(C<E?1:(E-B)/(C-B)))}if(--l,n+=8*(h+p)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Sh=null,bh=null;function Mu(t){return t.nodeType===9?t:t.ownerDocument}function sy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ly(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wh=null;function hT(){var t=window.event;return t&&t.type==="popstate"?t===wh?!1:(wh=t,!0):(wh=null,!1)}var oy=typeof setTimeout=="function"?setTimeout:void 0,dT=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,mT=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(t){return uy.resolve(null).then(t).catch(gT)}:oy;function gT(t){setTimeout(function(){throw t})}function Ta(t){return t==="head"}function cy(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),ps(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var h=a.firstChild;h;){var p=h.nextSibling,E=h.nodeName;h[ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=p}}else a==="body"&&Ll(t.ownerDocument.body);a=c}while(a);ps(n)}function fy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ch(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ch(a),Mr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pT(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ni])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function yT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function hy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mn(t.nextSibling),t===null))return null;return t}function Dh(t){return t.data==="$?"||t.data==="$~"}function Ih(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _T(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Vh=null;function dy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Mn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function my(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function gy(t,n,a){switch(n=Mu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Mr(t)}var On=new Map,py=new Set;function Ou(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=et.d;et.d={f:vT,r:ET,D:TT,C:AT,L:ST,m:bT,X:wT,S:RT,M:CT};function vT(){var t=Hi.f(),n=bu();return t||n}function ET(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?Og(n):Hi.r(t)}var ds=typeof document>"u"?null:document;function yy(t,n,a){var l=ds;if(l&&typeof n=="string"&&n){var c=en(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),py.has(c)||(py.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",t),ve(n),l.head.appendChild(n)))}}function TT(t){Hi.D(t),yy("dns-prefetch",t,null)}function AT(t,n){Hi.C(t,n),yy("preconnect",t,n)}function ST(t,n,a){Hi.L(t,n,a);var l=ds;if(l&&t&&n){var c='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+en(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+en(a.imageSizes)+'"]')):c+='[href="'+en(t)+'"]';var h=c;switch(n){case"style":h=ms(t);break;case"script":h=gs(t)}On.has(h)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),On.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ul(h))||n==="script"&&l.querySelector(zl(h))||(n=l.createElement("link"),qe(n,"link",t),ve(n),l.head.appendChild(n)))}}function bT(t,n){Hi.m(t,n);var a=ds;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+en(l)+'"][href="'+en(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=gs(t)}if(!On.has(h)&&(t=S({rel:"modulepreload",href:t},n),On.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(h)))return}l=a.createElement("link"),qe(l,"link",t),ve(l),a.head.appendChild(l)}}}function RT(t,n,a){Hi.S(t,n,a);var l=ds;if(l&&t){var c=ai(l).hoistableStyles,h=ms(t);n=n||"default";var p=c.get(h);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(Ul(h)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=On.get(h))&&Nh(t,a);var C=p=l.createElement("link");ve(C),qe(C,"link",t),C._p=new Promise(function(B,G){C.onload=B,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xu(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(h,p)}}}function wT(t,n){Hi.X(t,n);var a=ds;if(a&&t){var l=ai(a).hoistableScripts,c=gs(t),h=l.get(c);h||(h=a.querySelector(zl(c)),h||(t=S({src:t,async:!0},n),(n=On.get(c))&&Mh(t,n),h=a.createElement("script"),ve(h),qe(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function CT(t,n){Hi.M(t,n);var a=ds;if(a&&t){var l=ai(a).hoistableScripts,c=gs(t),h=l.get(c);h||(h=a.querySelector(zl(c)),h||(t=S({src:t,async:!0,type:"module"},n),(n=On.get(c))&&Mh(t,n),h=a.createElement("script"),ve(h),qe(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function _y(t,n,a,l){var c=(c=St.current)?Ou(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ms(a.href),a=ai(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ms(a.href);var h=ai(c).hoistableStyles,p=h.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,p),(h=c.querySelector(Ul(t)))&&!h._p&&(p.instance=h,p.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),h||DT(c,t,a,p.state))),n&&l===null)throw Error(s(528,""));return p}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=gs(a),a=ai(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ms(t){return'href="'+en(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function vy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function DT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",a),ve(n),t.head.appendChild(n))}function gs(t){return'[src="'+en(t)+'"]'}function zl(t){return"script[async]"+t}function Ey(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+en(a.href)+'"]');if(l)return n.instance=l,ve(l),l;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),qe(l,"style",c),xu(l,a.precedence,t),n.instance=l;case"stylesheet":c=ms(a.href);var h=t.querySelector(Ul(c));if(h)return n.state.loading|=4,n.instance=h,ve(h),h;l=vy(a),(c=On.get(c))&&Nh(l,c),h=(t.ownerDocument||t).createElement("link"),ve(h);var p=h;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),qe(h,"link",l),n.state.loading|=4,xu(h,a.precedence,t),n.instance=h;case"script":return h=gs(a.src),(c=t.querySelector(zl(h)))?(n.instance=c,ve(c),c):(l=a,(c=On.get(h))&&(l=S({},a),Mh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),qe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,xu(l,a.precedence,t));return n.instance}function xu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Nh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Mh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Lu=null;function Ty(t,n,a){if(Lu===null){var l=new Map,c=Lu=new Map;c.set(a,l)}else c=Lu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[ni]||h[_e]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(h):l.set(p,[h])}}return l}function Ay(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function IT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Sy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function VT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=ms(l.href),h=n.querySelector(Ul(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Uu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=h,ve(h);return}h=n.ownerDocument||n,l=vy(l),(c=On.get(c))&&Nh(l,c),h=h.createElement("link"),ve(h);var p=h;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),qe(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Oh=0;function NT(t,n){return t.stylesheets&&t.count===0&&Bu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Bu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&Oh===0&&(Oh=62500*fT());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Oh?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zu=null;function Bu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zu=new Map,n.forEach(MT,t),zu=null,Uu.call(t))}function MT(t,n){if(!(n.state.loading&4)){var a=zu.get(t);if(a)var l=a.get(null);else{a=new Map,zu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var p=c[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),h=a.get(p)||l,h===l&&a.set(null,c),a.set(p,c),this.count++,l=Uu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Bl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function OT(t,n,a,l,c,h,p,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function by(t,n,a,l,c,h,p,E,C,B,G,K){return t=new OT(t,n,a,p,C,B,G,K,E),n=1,h===!0&&(n|=24),h=mn(3,null,null,n),t.current=h,h.stateNode=t,n=hf(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},pf(h),t}function Ry(t){return t?(t=Qr,t):Qr}function wy(t,n,a,l,c,h){c=Ry(c),l.context===null?l.context=c:l.pendingContext=c,l=ca(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=fa(t,l,n),a!==null&&(on(a,t,n),pl(a,t,n))}function Cy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function xh(t,n){Cy(t,n),(t=t.alternate)&&Cy(t,n)}function Dy(t){if(t.tag===13||t.tag===31){var n=sr(t,67108864);n!==null&&on(n,t,67108864),xh(t,67108864)}}function Iy(t){if(t.tag===13||t.tag===31){var n=vn();n=Ka(n);var a=sr(t,n);a!==null&&on(a,t,n),xh(t,n)}}var Pu=!0;function xT(t,n,a,l){var c=F.T;F.T=null;var h=et.p;try{et.p=2,Lh(t,n,a,l)}finally{et.p=h,F.T=c}}function LT(t,n,a,l){var c=F.T;F.T=null;var h=et.p;try{et.p=8,Lh(t,n,a,l)}finally{et.p=h,F.T=c}}function Lh(t,n,a,l){if(Pu){var c=Uh(l);if(c===null)Th(t,n,l,ju,a),Ny(t,l);else if(zT(c,t,n,a,l))l.stopPropagation();else if(Ny(t,l),n&4&&-1<UT.indexOf(t)){for(;c!==null;){var h=An(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=$n(h.pendingLanes);if(p!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-fe(p);E.entanglements[1]|=C,p&=~C}yi(h),(qt&6)===0&&(Au=$e()+500,Ml(0))}}break;case 31:case 13:E=sr(h,2),E!==null&&on(E,h,2),bu(),xh(h,2)}if(h=Uh(l),h===null&&Th(t,n,l,ju,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else Th(t,n,l,null,a)}}function Uh(t){return t=Sn(t),zh(t)}var ju=null;function zh(t){if(ju=null,t=ii(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ju=t,null}function Vy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ga()){case ks:return 2;case qs:return 8;case Xi:case qc:return 32;case _o:return 268435456;default:return 32}default:return 32}}var Bh=!1,Aa=null,Sa=null,ba=null,Pl=new Map,jl=new Map,Ra=[],UT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ny(t,n){switch(t){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(n.pointerId)}}function kl(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=An(n),n!==null&&Dy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function zT(t,n,a,l,c){switch(n){case"focusin":return Aa=kl(Aa,t,n,a,l,c),!0;case"dragenter":return Sa=kl(Sa,t,n,a,l,c),!0;case"mouseover":return ba=kl(ba,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Pl.set(h,kl(Pl.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,jl.set(h,kl(jl.get(h)||null,t,n,a,l,c)),!0}return!1}function My(t){var n=ii(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){Iy(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,zn(t.priority,function(){Iy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Uh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return n=An(a),n!==null&&Dy(n),t.blockedOn=a,!1;n.shift()}return!0}function Oy(t,n,a){ku(t)&&a.delete(n)}function BT(){Bh=!1,Aa!==null&&ku(Aa)&&(Aa=null),Sa!==null&&ku(Sa)&&(Sa=null),ba!==null&&ku(ba)&&(ba=null),Pl.forEach(Oy),jl.forEach(Oy)}function qu(t,n){t.blockedOn===n&&(t.blockedOn=null,Bh||(Bh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,BT)))}var Hu=null;function xy(t){Hu!==t&&(Hu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hu===t&&(Hu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(zh(l||a)===null)continue;break}var h=An(a);h!==null&&(t.splice(n,3),n-=3,Uf(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function ps(t){function n(C){return qu(C,t)}Aa!==null&&qu(Aa,t),Sa!==null&&qu(Sa,t),ba!==null&&qu(ba,t),Pl.forEach(n),jl.forEach(n);for(var a=0;a<Ra.length;a++){var l=Ra[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ra.length&&(a=Ra[0],a.blockedOn===null);)My(a),a.blockedOn===null&&Ra.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],p=c[Oe]||null;if(typeof h=="function")p||xy(a);else if(p){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,p=h[Oe]||null)E=p.formAction;else if(zh(c)!==null)continue}else E=p.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),xy(a)}}}function Ly(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Ph(t){this._internalRoot=t}Gu.prototype.render=Ph.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=vn();wy(a,l,t,n,null,null)},Gu.prototype.unmount=Ph.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;wy(t.current,2,null,t,null,null),bu(),n[ei]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var n=bo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ra.length&&n!==0&&n<Ra[a].priority;a++);Ra.splice(a,0,t),a===0&&My(t)}};var Uy=e.version;if(Uy!=="19.2.0")throw Error(s(527,Uy,"19.2.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var PT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Ln=Fu.inject(PT),ze=Fu}catch{}}return Hl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Hg,h=Gg,p=Fg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=by(t,1,!1,null,null,a,l,null,c,h,p,Ly),t[ei]=n.current,Eh(t),new Ph(n)},Hl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",h=Hg,p=Gg,E=Fg,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=by(t,1,!0,n,a??null,l,c,C,h,p,E,Ly),n.context=Ry(null),a=n.current,l=vn(),l=Ka(l),c=ca(l),c.callback=null,fa(a,c,l),a=l,n.current.lanes=a,Qa(n,a),yi(n),t[ei]=n.current,Eh(t),new Gu(n)},Hl.version="19.2.0",Hl}var Qy;function KT(){if(Qy)return qh.exports;Qy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qh.exports=YT(),qh.exports}var XT=KT(),ZT=cv(),Qh,Yy;function JT(){return Yy||(Yy=1,Qh=function r(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var s,o,f;if(Array.isArray(e)){if(s=e.length,s!=i.length)return!1;for(o=s;o--!==0;)if(!r(e[o],i[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if(f=Object.keys(e),s=f.length,s!==Object.keys(i).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(i,f[o]))return!1;for(o=s;o--!==0;){var d=f[o];if(!r(e[d],i[d]))return!1}return!0}return e!==e&&i!==i}),Qh}var $T=JT();const WT=uv($T),t1="1.7.1";function bs(r,e){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(i[s[o]]=r[s[o]]);return i}function id(r,e,i,s){function o(f){return f instanceof i?f:new i(function(d){d(f)})}return new(i||(i=Promise))(function(f,d){function g(T){try{y(s.next(T))}catch(S){d(S)}}function _(T){try{y(s.throw(T))}catch(S){d(S)}}function y(T){T.done?f(T.value):o(T.value).then(g,_)}y((s=s.apply(r,[])).next())})}const Gi={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},e1="https://maps.googleapis.com/maps/api/js";class sc{static load(e,i){return id(this,void 0,void 0,function*(){var s,o;const f=e.libraries?e.libraries.split(","):[],d=this.serializeParams(e);this.listeners.push(i),!((o=(s=window.google)===null||s===void 0?void 0:s.maps)===null||o===void 0)&&o.importLibrary?(this.serializedApiParams||(this.loadingStatus=Gi.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=d,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==d&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const g=["maps",...f];yield Promise.all(g.map(_=>google.maps.importLibrary(_)))})}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let i=null;const s=()=>i||(i=new Promise((o,f)=>{var d;const g=document.createElement("script"),_=new URLSearchParams;for(const[y,T]of Object.entries(e)){const S=y.replace(/[A-Z]/g,V=>"_"+V[0].toLowerCase());_.set(S,String(T))}_.set("loading","async"),_.set("callback","__googleMapsCallback__"),g.async=!0,g.src=e1+"?"+_.toString(),g.nonce=((d=document.querySelector("script[nonce]"))===null||d===void 0?void 0:d.nonce)||"",g.onerror=()=>{this.loadingStatus=Gi.FAILED,this.notifyLoadingStatusListeners(),f(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=Gi.LOADED,this.notifyLoadingStatusListeners(),o()},window.gm_authFailure=()=>{this.loadingStatus=Gi.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=Gi.LOADING,this.notifyLoadingStatusListeners(),document.head.append(g)}),i);google.maps.importLibrary=o=>s().then(()=>google.maps.importLibrary(o))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}sc.loadingStatus=Gi.NOT_LOADED;sc.listeners=[];const n1="GMP_visgl_rgmlibrary_v1_default",i1=[`gmp_visgl_reactgooglemaps_v${t1}`],oo=Qe.createContext(null);function a1(){const[r,e]=tt.useState({});return{mapInstances:r,addMapInstance:(f,d="default")=>{e(g=>Object.assign(Object.assign({},g),{[d]:f}))},removeMapInstance:(f="default")=>{e(d=>{var g=f;d[g];var _=bs(d,[typeof g=="symbol"?g:g+""]);return _})},clearMapInstances:()=>{e({})}}}function r1(r){const{onLoad:e,onError:i,apiKey:s,version:o,libraries:f=[]}=r,d=bs(r,["onLoad","onError","apiKey","version","libraries"]),[g,_]=tt.useState(sc.loadingStatus),[y,T]=tt.useReducer((H,$)=>H[$.name]?H:Object.assign(Object.assign({},H),{[$.name]:$.value}),{}),S=tt.useMemo(()=>f?.join(","),[f]),V=tt.useMemo(()=>JSON.stringify(Object.assign({apiKey:s,version:o},d)),[s,o,d]),j=tt.useCallback(H=>id(this,void 0,void 0,function*(){var $;if(y[H])return y[H];if(!(!(($=google==null?void 0:google.maps)===null||$===void 0)&&$.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const J=yield window.google.maps.importLibrary(H);return T({name:H,value:J}),J}),[y]);return tt.useEffect(()=>{id(this,void 0,void 0,function*(){try{const H=Object.assign({key:s},d);o&&(H.v=o),S?.length>0&&(H.libraries=S),(H.channel===void 0||H.channel<0||H.channel>999)&&delete H.channel,H.solutionChannel===void 0?H.solutionChannel=n1:H.solutionChannel===""&&delete H.solutionChannel,yield sc.load(H,$=>_($));for(const $ of["core","maps",...f])yield j($);e&&e()}catch(H){i?i(H):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",H)}})},[s,S,V]),{status:g,loadedLibraries:y,importLibrary:j}}function s1(r){return tt.useMemo(()=>r.disableUsageAttribution?null:i1,[r.disableUsageAttribution])}const fv=r=>{const{children:e}=r,i=bs(r,["children"]),{mapInstances:s,addMapInstance:o,removeMapInstance:f,clearMapInstances:d}=a1(),{status:g,loadedLibraries:_,importLibrary:y}=r1(i),T=s1(i),S=tt.useMemo(()=>({mapInstances:s,addMapInstance:o,removeMapInstance:f,clearMapInstances:d,status:g,loadedLibraries:_,importLibrary:y,internalUsageAttributionIds:T}),[s,o,f,d,g,_,y,T]);return Qe.createElement(oo.Provider,{value:S},e)};function l1(r,e){for(const i of f1){const s=e[i],o=hv[i];tt.useEffect(()=>{if(!r||!s)return;const f=google.maps.event.addListener(r,o,d=>{s(o1(o,r,d))});return()=>f.remove()},[r,o,s])}}function o1(r,e,i){var s;const o={type:r,map:e,detail:{},stoppable:!1,stop:()=>{}};if(u1.includes(r)){const f=o,d=e.getCenter(),g=e.getZoom(),_=e.getHeading()||0,y=e.getTilt()||0,T=e.getBounds();return(!d||!T||!Number.isFinite(g))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),f.detail={center:d?.toJSON()||{lat:0,lng:0},zoom:g||0,heading:_,tilt:y,bounds:T?.toJSON()||{north:90,east:180,south:-90,west:-180}},f}else if(c1.includes(r)){if(!i)throw new Error("[createEvent] mouse events must provide a srcEvent");const f=o;return f.domEvent=i.domEvent,f.stoppable=!0,f.stop=()=>i.stop(),f.detail={latLng:((s=i.latLng)===null||s===void 0?void 0:s.toJSON())||null,placeId:i.placeId},f}return o}const hv={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},u1=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],c1=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],f1=Object.keys(hv);function h1(r){const e=tt.useRef(void 0);return tt.useEffect(()=>{e.current=r}),e.current}function d1(r,e){const i=h1(r);return tt.useMemo(()=>i&&e(i,r)?i:r,[r,i,e])}function m1(r,e,i){tt.useEffect(r,[d1(e,i)])}function g1(r,e){m1(r,e,WT)}const p1=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function y1(r,e){const i={},s=Object.keys(e);for(const o of s)p1.has(o)&&(i[o]=e[o]);g1(()=>{r&&r.setOptions(i)},[i])}function dv(){var r;return((r=tt.useContext(oo))===null||r===void 0?void 0:r.status)||Gi.NOT_LOADED}function _1(r,e){const{viewport:i,viewState:s}=e,o=!!i;return tt.useLayoutEffect(()=>{if(!r||!s)return;const{latitude:f,longitude:d,bearing:g,pitch:_,zoom:y}=s;r.moveCamera({center:{lat:f,lng:d},heading:g,tilt:_,zoom:y+1})},[r,s]),o}function v1(r){return!r||typeof r!="object"||!("lat"in r&&"lng"in r)?!1:Number.isFinite(r.lat)&&Number.isFinite(r.lng)}function mv(r){return v1(r)?r:r.toJSON()}function E1(r,e,i){const s=i.center?mv(i.center):null;let o=null,f=null;s&&Number.isFinite(s.lat)&&Number.isFinite(s.lng)&&(o=s.lat,f=s.lng);const d=Number.isFinite(i.zoom)?i.zoom:null,g=Number.isFinite(i.heading)?i.heading:null,_=Number.isFinite(i.tilt)?i.tilt:null;tt.useLayoutEffect(()=>{if(!r)return;const y={};let T=!1;o!==null&&f!==null&&(e.current.center.lat!==o||e.current.center.lng!==f)&&(y.center={lat:o,lng:f},T=!0),d!==null&&e.current.zoom!==d&&(y.zoom=d,T=!0),g!==null&&e.current.heading!==g&&(y.heading=g,T=!0),_!==null&&e.current.tilt!==_&&(y.tilt=_,T=!0),T&&r.moveCamera(y)})}const T1=()=>{const r={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return Qe.createElement("div",{style:r},Qe.createElement("h2",null,"Error: AuthFailure"),Qe.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",Qe.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function A1(){const[r,e]=tt.useState(null),i=tt.useCallback(s=>e(s),[e]);return[r,i]}function gv(){return dv()===Gi.LOADED}function S1(){const[,r]=tt.useReducer(e=>e+1,0);return r}function b1(r,e){const i=r.getCenter(),s=r.getZoom(),o=r.getHeading()||0,f=r.getTilt()||0,d=r.getBounds();(!i||!d||!Number.isFinite(s))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:i?.toJSON()||{lat:0,lng:0},zoom:s||0,heading:o,tilt:f})}function R1(r){const e=S1(),i=tt.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return tt.useEffect(()=>{if(!r)return;const s=google.maps.event.addListener(r,"bounds_changed",()=>{b1(r,i),e()});return()=>s.remove()},[r,e]),i}class Wu{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,i){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(i)}}Wu.entries={};function w1(r,e){const i=gv(),[s,o]=tt.useState(null),[f,d]=A1(),g=R1(s),{id:_,defaultBounds:y,defaultCenter:T,defaultZoom:S,defaultHeading:V,defaultTilt:j,reuseMaps:H,renderingType:$,colorScheme:J}=r,rt=bs(r,["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"]),ut=r.zoom!==void 0||r.defaultZoom!==void 0,ft=r.center!==void 0||r.defaultCenter!==void 0;!y&&(!ut||!ft)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!rt.center&&T&&(rt.center=T),!rt.zoom&&Number.isFinite(S)&&(rt.zoom=S),!rt.heading&&Number.isFinite(V)&&(rt.heading=V),!rt.tilt&&Number.isFinite(j)&&(rt.tilt=j);const wt=rt.internalUsageAttributionIds;wt==null?rt.internalUsageAttributionIds=e.internalUsageAttributionIds:rt.internalUsageAttributionIds=[...e.internalUsageAttributionIds||[],...wt];for(const Rt of Object.keys(rt))rt[Rt]===void 0&&delete rt[Rt];const jt=tt.useRef(void 0);return tt.useEffect(()=>{if(!f||!i)return;const{addMapInstance:Rt,removeMapInstance:D}=e,{mapId:b}=r,R=`${b||"default"}:${$||"default"}:${J||"LIGHT"}`;let M,I;if(H&&Wu.has(R)?(I=Wu.pop(R),M=I.getDiv(),f.appendChild(M),I.setOptions(rt),setTimeout(()=>I.setCenter(I.getCenter()),0)):(M=document.createElement("div"),M.style.height="100%",f.appendChild(M),I=new google.maps.Map(M,Object.assign(Object.assign(Object.assign({},rt),$?{renderingType:$}:{}),J?{colorScheme:J}:{}))),o(I),Rt(I,_),y){const{padding:L}=y,w=bs(y,["padding"]);I.fitBounds(w,L)}else(!ut||!ft)&&I.fitBounds({east:180,west:-180,south:-90,north:90});if(jt.current){const{mapId:L,cameraState:w}=jt.current;L!==b&&I.setOptions(w)}return()=>{jt.current={mapId:b,cameraState:g.current},M.remove(),H?Wu.push(R,I):google.maps.event.clearInstanceListeners(I),o(null),D(_)}},[f,i,_,r.mapId,r.renderingType,r.colorScheme]),[s,d,g]}const pv=Qe.createContext(null),Id=r=>{const{children:e,id:i,className:s,style:o}=r,f=tt.useContext(oo),d=dv();if(!f)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[g,_,y]=w1(r,f);E1(g,y,r),l1(g,r),y1(g,r);const T=_1(g,r),S=!!r.controlled;tt.useEffect(()=>{if(g)return T&&g.setOptions({disableDefaultUI:!0}),(T||S)&&g.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{g.setOptions({gestureHandling:r.gestureHandling,keyboardShortcuts:r.keyboardShortcuts})}},[g,T,S,r.gestureHandling,r.keyboardShortcuts]);const V=r.center?mv(r.center):null;let j=null,H=null;V&&Number.isFinite(V.lat)&&Number.isFinite(V.lng)&&(j=V.lat,H=V.lng);const $=tt.useMemo(()=>{var ut,ft,wt;return{center:{lat:j??0,lng:H??0},zoom:(ut=r.zoom)!==null&&ut!==void 0?ut:0,heading:(ft=r.heading)!==null&&ft!==void 0?ft:0,tilt:(wt=r.tilt)!==null&&wt!==void 0?wt:0}},[j,H,r.zoom,r.heading,r.tilt]);tt.useLayoutEffect(()=>{if(!g||!S)return;g.moveCamera($);const ut=g.addListener("bounds_changed",()=>{g.moveCamera($)});return()=>ut.remove()},[g,S,$]);const J=tt.useMemo(()=>Object.assign({width:"100%",height:"100%",position:"relative",zIndex:T?-1:0},o),[o,T]),rt=tt.useMemo(()=>({map:g}),[g]);return d===Gi.AUTH_FAILURE?Qe.createElement("div",{style:Object.assign({position:"relative"},s?{}:J),className:s},Qe.createElement(T1,null)):Qe.createElement("div",Object.assign({ref:_,"data-testid":"map",style:s?void 0:J,className:s},i?{id:i}:{}),g?Qe.createElement(pv.Provider,{value:rt},e):null)};Id.deckGLViewProps=!0;const Ky=new Set;function C1(...r){const e=JSON.stringify(r);Ky.has(e)||(Ky.add(e),console.error(...r))}const Sc=(r=null)=>{const e=tt.useContext(oo),{map:i}=tt.useContext(pv)||{};if(e===null)return C1("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:s}=e;return r!==null?s[r]||null:i||s.default||null};function D1(r){const e=gv(),i=tt.useContext(oo);return tt.useEffect(()=>{!e||!i||i.importLibrary(r)},[e,i,r]),i?.loadedLibraries[r]||null}function Qu(r,e,i){tt.useEffect(()=>{if(!r||!e||!i)return;const s=google.maps.event.addListener(r,e,i);return()=>s.remove()},[r,e,i])}function Yu(r,e,i){tt.useEffect(()=>{r&&(r[e]=i)},[r,e,i])}function Xy(r,e,i){tt.useEffect(()=>{if(!(!r||!e||!i))return r.addEventListener(e,i),()=>r.removeEventListener(e,i)},[r,e,i])}class I1{constructor(){this.renderedStyles=new Set,this.styleElement=null}getStyleElement(){return this.styleElement||(this.styleElement=document.createElement("style"),this.styleElement.setAttribute("data-rgm-anchor-styles",""),document.head.appendChild(this.styleElement)),this.styleElement}addAdvancedMarkerPointerEventsOverwrite(){if(this.renderedStyles.has("marker-pointer-events"))return;const e=this.getStyleElement();e.textContent+=`
      gmp-advanced-marker[data-origin='rgm'] {
        pointer-events: none !important;
      }
    `,this.renderedStyles.add("marker-pointer-events")}cleanup(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null,this.renderedStyles.clear())}}const V1=new I1;function N1(r,e){var i;if(!(!((i=google==null?void 0:google.maps)===null||i===void 0)&&i.version))return;const s=google.maps.version.split("."),o=parseInt(s[0],10),f=parseInt(s[1],10);return o>r||o===r&&f>=e}const M1=Qe.createContext(null),O1={BOTTOM:["50%","100%"]},x1=tt.forwardRef((r,e)=>{const{children:i,style:s,className:o,anchorPoint:f}=r,[d,g]=U1(r),_=tt.useMemo(()=>d?{marker:d}:null,[d]);return tt.useImperativeHandle(e,()=>d,[d]),g?Qe.createElement(M1.Provider,{value:_},ZT.createPortal(Qe.createElement(L1,{anchorPoint:f,styles:s,className:o},i),g)):null});x1.displayName="AdvancedMarker";function ad(r){return r.nodeType===Node.ELEMENT_NODE}const L1=({children:r,styles:e,className:i})=>Qe.createElement("div",{className:i,style:e},r);function U1(r){const[e,i]=tt.useState(null),[s,o]=tt.useState(null),f=Sc(),d=D1("marker"),{children:g,onClick:_,className:y,onMouseEnter:T,onMouseLeave:S,onDrag:V,onDragStart:j,onDragEnd:H,collisionBehavior:$,clickable:J,draggable:rt,position:ut,title:ft,zIndex:wt,anchorPoint:jt,anchorLeft:Rt,anchorTop:D}=r,b=tt.Children.count(g);return tt.useEffect(()=>{if(!f||!d)return;const R=new d.AdvancedMarkerElement;R.map=f,i(R);let M=null;return b>0&&(M=document.createElement("div"),R.content=M,o(M)),()=>{R.map=null,M?.remove(),i(null),o(null)}},[f,d,b]),tt.useEffect(()=>{!e?.content||!ad(e.content)||b>0||(e.content.className=y??"")},[e,y,b]),z1(e,jt,Rt,D,b>0),Yu(e,"position",ut),Yu(e,"title",ft??""),Yu(e,"zIndex",wt),Yu(e,"collisionBehavior",$),tt.useEffect(()=>{e&&(rt!==void 0?e.gmpDraggable=rt:V||j||H?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,rt,V,H,j]),tt.useEffect(()=>{if(!e)return;const R=J!==void 0||!!_||!!T||!!S;e.gmpClickable=R,R&&e?.content&&ad(e.content)&&(e.content.style.pointerEvents="all",_&&(e.content.style.cursor="pointer"))},[e,J,_,T,S]),Qu(e,"click",_),Qu(e,"drag",V),Qu(e,"dragstart",j),Qu(e,"dragend",H),Xy(e?.element,"mouseenter",T),Xy(e?.element,"mouseleave",S),[e,s]}function z1(r,e,i,s,o){tt.useEffect(()=>{if(!r||!o)return;const f=N1(3,62),d=r.content;if(!(!d||!ad(d))){if(i!==void 0||s!==void 0){f||console.warn(`AdvancedMarker: The anchorLeft and anchorTop props are only supported in Google Maps API version 3.62 and above. The current version is ${google.maps.version}.`),r.anchorLeft=i,r.anchorTop=s,e!==void 0&&console.warn("AdvancedMarker: the anchorPoint prop is ignored when anchorLeft and/or anchorTop are set.");return}if(e!==void 0){const[g,_]=e??O1.BOTTOM,y=`calc(-1 * ${g})`,T=`calc(-1 * ${_})`;f?(r.anchorLeft=y,r.anchorTop=T,d.style.transform=""):(d.style.transform=`translate(50%, 100%) translate(${y}, ${T})`,r.dataset.origin="rgm",V1.addAdvancedMarkerPointerEventsOverwrite())}}},[r,e,i,s,o])}function B1(r){const[e,i]=tt.useState(null),s=Sc(),{onClick:o,onDrag:f,onDragStart:d,onDragEnd:g,onMouseOver:_,onMouseOut:y}=r,T=bs(r,["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"]),{position:S,draggable:V}=T;return tt.useEffect(()=>{if(!s){s===void 0&&console.error("<Marker> has to be inside a Map component.");return}const j=new google.maps.Marker(T);return j.setMap(s),i(j),()=>{j.setMap(null),i(null)}},[s]),tt.useEffect(()=>{if(!e)return;const j=e,H=google.maps.event;return o&&H.addListener(j,"click",o),f&&H.addListener(j,"drag",f),d&&H.addListener(j,"dragstart",d),g&&H.addListener(j,"dragend",g),_&&H.addListener(j,"mouseover",_),y&&H.addListener(j,"mouseout",y),e.setDraggable(!!V),()=>{H.clearInstanceListeners(j)}},[e,V,o,f,d,g,_,y]),tt.useEffect(()=>{e&&T&&e.setOptions(T)},[e,T]),tt.useEffect(()=>{V||!S||!e||e.setPosition(S)},[V,S,e]),e}const Vd=tt.forwardRef((r,e)=>{const i=B1(r);return tt.useImperativeHandle(e,()=>i,[i]),Qe.createElement(Qe.Fragment,null)});Vd.displayName="Marker";const P1=()=>{};var Zy={};const yv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},j1=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const f=r[i++];e[s++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const f=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},_v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const f=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,y=_?r[o+2]:0,T=f>>2,S=(f&3)<<4|g>>4;let V=(g&15)<<2|y>>6,j=y&63;_||(j=64,d||(V=64)),s.push(i[T],i[S],i[V],i[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(yv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):j1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const f=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,f==null||g==null||y==null||S==null)throw new k1;const V=f<<2|g>>4;if(s.push(V),y!==64){const j=g<<4&240|y>>2;if(s.push(j),S!==64){const H=y<<6&192|S;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class k1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q1=function(r){const e=yv(r);return _v.encodeByteArray(e,!0)},lc=function(r){return q1(r).replace(/\./g,"")},H1=function(r){try{return _v.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const F1=()=>G1().__FIREBASE_DEFAULTS__,Q1=()=>{if(typeof process>"u"||typeof Zy>"u")return;const r=Zy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Y1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&H1(r[1]);return e&&JSON.parse(e)},Nd=()=>{try{return P1()||F1()||Q1()||Y1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},K1=r=>Nd()?.emulatorHosts?.[r],X1=r=>{const e=K1(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},vv=()=>Nd()?.config;class Z1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Md(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function J1(r){return(await fetch(r,{credentials:"include"})).ok}function $1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...r};return[lc(JSON.stringify(i)),lc(JSON.stringify(d)),""].join(".")}const Kl={};function W1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?r.emulator.push(e):r.prod.push(e);return r}function tA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Jy=!1;function eA(r,e){if(typeof window>"u"||typeof document>"u"||!Md(window.location.host)||Kl[r]===e||Kl[r]||Jy)return;Kl[r]=e;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",f=W1().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,j){V.setAttribute("width","24"),V.setAttribute("id",j),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Jy=!0,d()},V}function T(V,j){V.setAttribute("id",j),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=tA(s),j=i("text"),H=document.getElementById(j)||document.createElement("span"),$=i("learnmore"),J=document.getElementById($)||document.createElement("a"),rt=i("preprendIcon"),ut=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ft=V.element;g(ft),T(J,$);const wt=y();_(ut,rt),ft.append(ut,H,J,wt),document.body.appendChild(ft)}f?(H.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function nA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iA(){const r=Nd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aA(){return!iA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rA(){try{return typeof indexedDB=="object"}catch{return!1}}function sA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const lA="FirebaseError";class Ns extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=lA,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ev.prototype.create)}}class Ev{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?oA(f,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ns(o,g,s)}}function oA(r,e){return r.replace(uA,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const uA=/\{\$([^}]+)}/g;function oc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const f=r[o],d=e[o];if($y(f)&&$y(d)){if(!oc(f,d))return!1}else if(f!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function $y(r){return r!==null&&typeof r=="object"}function Si(r){return r&&r._delegate?r._delegate:r}class Wl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const vr="[DEFAULT]";class cA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new Z1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hA(e))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});s.resolve(f)}catch{}}}}clearInstance(e=vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vr){return this.instances.has(e)}getOptions(e=vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const f=this.instances.get(s);return f&&e(f,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=vr){return this.component?this.component.multipleInstances?e:vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fA(r){return r===vr?void 0:r}function hA(r){return r.instantiationMode==="EAGER"}class dA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new cA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const mA={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},gA=Ut.INFO,pA={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},yA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=pA[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tv{constructor(e){this.name=e,this._logLevel=gA,this._logHandler=yA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const _A=(r,e)=>e.some(i=>r instanceof i);let Wy,t_;function vA(){return Wy||(Wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EA(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Av=new WeakMap,rd=new WeakMap,Sv=new WeakMap,Yh=new WeakMap,Od=new WeakMap;function TA(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",f),r.removeEventListener("error",d)},f=()=>{i(Da(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",f),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Av.set(i,r)}).catch(()=>{}),Od.set(e,r),e}function AA(r){if(rd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",d),r.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",f),r.addEventListener("error",d),r.addEventListener("abort",d)});rd.set(r,e)}let sd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return rd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Sv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Da(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function SA(r){sd=r(sd)}function bA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Kh(this),e,...i);return Sv.set(s,e.sort?e.sort():[e]),Da(s)}:EA().includes(r)?function(...e){return r.apply(Kh(this),e),Da(Av.get(this))}:function(...e){return Da(r.apply(Kh(this),e))}}function RA(r){return typeof r=="function"?bA(r):(r instanceof IDBTransaction&&AA(r),_A(r,vA())?new Proxy(r,sd):r)}function Da(r){if(r instanceof IDBRequest)return TA(r);if(Yh.has(r))return Yh.get(r);const e=RA(r);return e!==r&&(Yh.set(r,e),Od.set(e,r)),e}const Kh=r=>Od.get(r);function wA(r,e,{blocked:i,upgrade:s,blocking:o,terminated:f}={}){const d=indexedDB.open(r,e),g=Da(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Da(d.result),_.oldVersion,_.newVersion,Da(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{f&&_.addEventListener("close",()=>f()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const CA=["get","getKey","getAll","getAllKeys","count"],DA=["put","add","delete","clear"],Xh=new Map;function e_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xh.get(e))return Xh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=DA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||CA.includes(i)))return;const f=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return Xh.set(e,f),f}SA(r=>({...r,get:(e,i,s)=>e_(e,i)||r.get(e,i,s),has:(e,i)=>!!e_(e,i)||r.has(e,i)}));class IA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(VA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function VA(r){return r.getComponent()?.type==="VERSION"}const ld="@firebase/app",n_="0.14.6";const Fi=new Tv("@firebase/app"),NA="@firebase/app-compat",MA="@firebase/analytics-compat",OA="@firebase/analytics",xA="@firebase/app-check-compat",LA="@firebase/app-check",UA="@firebase/auth",zA="@firebase/auth-compat",BA="@firebase/database",PA="@firebase/data-connect",jA="@firebase/database-compat",kA="@firebase/functions",qA="@firebase/functions-compat",HA="@firebase/installations",GA="@firebase/installations-compat",FA="@firebase/messaging",QA="@firebase/messaging-compat",YA="@firebase/performance",KA="@firebase/performance-compat",XA="@firebase/remote-config",ZA="@firebase/remote-config-compat",JA="@firebase/storage",$A="@firebase/storage-compat",WA="@firebase/firestore",tS="@firebase/ai",eS="@firebase/firestore-compat",nS="firebase",iS="12.6.0";const od="[DEFAULT]",aS={[ld]:"fire-core",[NA]:"fire-core-compat",[OA]:"fire-analytics",[MA]:"fire-analytics-compat",[LA]:"fire-app-check",[xA]:"fire-app-check-compat",[UA]:"fire-auth",[zA]:"fire-auth-compat",[BA]:"fire-rtdb",[PA]:"fire-data-connect",[jA]:"fire-rtdb-compat",[kA]:"fire-fn",[qA]:"fire-fn-compat",[HA]:"fire-iid",[GA]:"fire-iid-compat",[FA]:"fire-fcm",[QA]:"fire-fcm-compat",[YA]:"fire-perf",[KA]:"fire-perf-compat",[XA]:"fire-rc",[ZA]:"fire-rc-compat",[JA]:"fire-gcs",[$A]:"fire-gcs-compat",[WA]:"fire-fst",[eS]:"fire-fst-compat",[tS]:"fire-vertex","fire-js":"fire-js",[nS]:"fire-js-all"};const uc=new Map,rS=new Map,ud=new Map;function i_(r,e){try{r.container.addComponent(e)}catch(i){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function cc(r){const e=r.name;if(ud.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;ud.set(e,r);for(const i of uc.values())i_(i,r);for(const i of rS.values())i_(i,r);return!0}function sS(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function lS(r){return r==null?!1:r.settings!==void 0}const oS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ia=new Ev("app","Firebase",oS);class uS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ia.create("app-deleted",{appName:this._name})}}const cS=iS;function bv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:od,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ia.create("bad-app-name",{appName:String(o)});if(i||(i=vv()),!i)throw Ia.create("no-options");const f=uc.get(o);if(f){if(oc(i,f.options)&&oc(s,f.config))return f;throw Ia.create("duplicate-app",{appName:o})}const d=new dA(o);for(const _ of ud.values())d.addComponent(_);const g=new uS(i,s,d);return uc.set(o,g),g}function fS(r=od){const e=uc.get(r);if(!e&&r===od&&vv())return bv();if(!e)throw Ia.create("no-app",{appName:r});return e}function Ts(r,e,i){let s=aS[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),f=e.match(/\s|\//);if(o||f){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(d.join(" "));return}cc(new Wl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const hS="firebase-heartbeat-database",dS=1,to="firebase-heartbeat-store";let Zh=null;function Rv(){return Zh||(Zh=wA(hS,dS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(to)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ia.create("idb-open",{originalErrorMessage:r.message})})),Zh}async function mS(r){try{const i=(await Rv()).transaction(to),s=await i.objectStore(to).get(wv(r));return await i.done,s}catch(e){if(e instanceof Ns)Fi.warn(e.message);else{const i=Ia.create("idb-get",{originalErrorMessage:e?.message});Fi.warn(i.message)}}}async function a_(r,e){try{const s=(await Rv()).transaction(to,"readwrite");await s.objectStore(to).put(e,wv(r)),await s.done}catch(i){if(i instanceof Ns)Fi.warn(i.message);else{const s=Ia.create("idb-set",{originalErrorMessage:i?.message});Fi.warn(s.message)}}}function wv(r){return`${r.name}!${r.options.appId}`}const gS=1024,pS=30;class yS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new vS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=r_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>pS){const o=ES(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r_(),{heartbeatsToSend:i,unsentEntries:s}=_S(this._heartbeatsCache.heartbeats),o=lc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Fi.warn(e),""}}}function r_(){return new Date().toISOString().substring(0,10)}function _S(r,e=gS){const i=[];let s=r.slice();for(const o of r){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),s_(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),s_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class vS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rA()?sA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await mS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return a_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return a_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function s_(r){return lc(JSON.stringify({version:2,heartbeats:r})).length}function ES(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function TS(r){cc(new Wl("platform-logger",e=>new IA(e),"PRIVATE")),cc(new Wl("heartbeat",e=>new yS(e),"PRIVATE")),Ts(ld,n_,r),Ts(ld,n_,"esm2020"),Ts("fire-js","")}TS("");var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Va,Cv;(function(){var r;function e(D,b){function R(){}R.prototype=b.prototype,D.F=b.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(M,I,L){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return b.prototype[I].apply(M,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var I=0;I<16;++I)M[I]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(I=0;I<16;++I)M[I]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=D.g[0],R=D.g[1],I=D.g[2];let L=D.g[3],w;w=b+(L^R&(I^L))+M[0]+3614090360&4294967295,b=R+(w<<7&4294967295|w>>>25),w=L+(I^b&(R^I))+M[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=I+(R^L&(b^R))+M[2]+606105819&4294967295,I=L+(w<<17&4294967295|w>>>15),w=R+(b^I&(L^b))+M[3]+3250441966&4294967295,R=I+(w<<22&4294967295|w>>>10),w=b+(L^R&(I^L))+M[4]+4118548399&4294967295,b=R+(w<<7&4294967295|w>>>25),w=L+(I^b&(R^I))+M[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=I+(R^L&(b^R))+M[6]+2821735955&4294967295,I=L+(w<<17&4294967295|w>>>15),w=R+(b^I&(L^b))+M[7]+4249261313&4294967295,R=I+(w<<22&4294967295|w>>>10),w=b+(L^R&(I^L))+M[8]+1770035416&4294967295,b=R+(w<<7&4294967295|w>>>25),w=L+(I^b&(R^I))+M[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=I+(R^L&(b^R))+M[10]+4294925233&4294967295,I=L+(w<<17&4294967295|w>>>15),w=R+(b^I&(L^b))+M[11]+2304563134&4294967295,R=I+(w<<22&4294967295|w>>>10),w=b+(L^R&(I^L))+M[12]+1804603682&4294967295,b=R+(w<<7&4294967295|w>>>25),w=L+(I^b&(R^I))+M[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=I+(R^L&(b^R))+M[14]+2792965006&4294967295,I=L+(w<<17&4294967295|w>>>15),w=R+(b^I&(L^b))+M[15]+1236535329&4294967295,R=I+(w<<22&4294967295|w>>>10),w=b+(I^L&(R^I))+M[1]+4129170786&4294967295,b=R+(w<<5&4294967295|w>>>27),w=L+(R^I&(b^R))+M[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=I+(b^R&(L^b))+M[11]+643717713&4294967295,I=L+(w<<14&4294967295|w>>>18),w=R+(L^b&(I^L))+M[0]+3921069994&4294967295,R=I+(w<<20&4294967295|w>>>12),w=b+(I^L&(R^I))+M[5]+3593408605&4294967295,b=R+(w<<5&4294967295|w>>>27),w=L+(R^I&(b^R))+M[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=I+(b^R&(L^b))+M[15]+3634488961&4294967295,I=L+(w<<14&4294967295|w>>>18),w=R+(L^b&(I^L))+M[4]+3889429448&4294967295,R=I+(w<<20&4294967295|w>>>12),w=b+(I^L&(R^I))+M[9]+568446438&4294967295,b=R+(w<<5&4294967295|w>>>27),w=L+(R^I&(b^R))+M[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=I+(b^R&(L^b))+M[3]+4107603335&4294967295,I=L+(w<<14&4294967295|w>>>18),w=R+(L^b&(I^L))+M[8]+1163531501&4294967295,R=I+(w<<20&4294967295|w>>>12),w=b+(I^L&(R^I))+M[13]+2850285829&4294967295,b=R+(w<<5&4294967295|w>>>27),w=L+(R^I&(b^R))+M[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=I+(b^R&(L^b))+M[7]+1735328473&4294967295,I=L+(w<<14&4294967295|w>>>18),w=R+(L^b&(I^L))+M[12]+2368359562&4294967295,R=I+(w<<20&4294967295|w>>>12),w=b+(R^I^L)+M[5]+4294588738&4294967295,b=R+(w<<4&4294967295|w>>>28),w=L+(b^R^I)+M[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=I+(L^b^R)+M[11]+1839030562&4294967295,I=L+(w<<16&4294967295|w>>>16),w=R+(I^L^b)+M[14]+4259657740&4294967295,R=I+(w<<23&4294967295|w>>>9),w=b+(R^I^L)+M[1]+2763975236&4294967295,b=R+(w<<4&4294967295|w>>>28),w=L+(b^R^I)+M[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=I+(L^b^R)+M[7]+4139469664&4294967295,I=L+(w<<16&4294967295|w>>>16),w=R+(I^L^b)+M[10]+3200236656&4294967295,R=I+(w<<23&4294967295|w>>>9),w=b+(R^I^L)+M[13]+681279174&4294967295,b=R+(w<<4&4294967295|w>>>28),w=L+(b^R^I)+M[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=I+(L^b^R)+M[3]+3572445317&4294967295,I=L+(w<<16&4294967295|w>>>16),w=R+(I^L^b)+M[6]+76029189&4294967295,R=I+(w<<23&4294967295|w>>>9),w=b+(R^I^L)+M[9]+3654602809&4294967295,b=R+(w<<4&4294967295|w>>>28),w=L+(b^R^I)+M[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=I+(L^b^R)+M[15]+530742520&4294967295,I=L+(w<<16&4294967295|w>>>16),w=R+(I^L^b)+M[2]+3299628645&4294967295,R=I+(w<<23&4294967295|w>>>9),w=b+(I^(R|~L))+M[0]+4096336452&4294967295,b=R+(w<<6&4294967295|w>>>26),w=L+(R^(b|~I))+M[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=I+(b^(L|~R))+M[14]+2878612391&4294967295,I=L+(w<<15&4294967295|w>>>17),w=R+(L^(I|~b))+M[5]+4237533241&4294967295,R=I+(w<<21&4294967295|w>>>11),w=b+(I^(R|~L))+M[12]+1700485571&4294967295,b=R+(w<<6&4294967295|w>>>26),w=L+(R^(b|~I))+M[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=I+(b^(L|~R))+M[10]+4293915773&4294967295,I=L+(w<<15&4294967295|w>>>17),w=R+(L^(I|~b))+M[1]+2240044497&4294967295,R=I+(w<<21&4294967295|w>>>11),w=b+(I^(R|~L))+M[8]+1873313359&4294967295,b=R+(w<<6&4294967295|w>>>26),w=L+(R^(b|~I))+M[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=I+(b^(L|~R))+M[6]+2734768916&4294967295,I=L+(w<<15&4294967295|w>>>17),w=R+(L^(I|~b))+M[13]+1309151649&4294967295,R=I+(w<<21&4294967295|w>>>11),w=b+(I^(R|~L))+M[4]+4149444226&4294967295,b=R+(w<<6&4294967295|w>>>26),w=L+(R^(b|~I))+M[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=I+(b^(L|~R))+M[2]+718787259&4294967295,I=L+(w<<15&4294967295|w>>>17),w=R+(L^(I|~b))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const R=b-this.blockSize,M=this.C;let I=this.h,L=0;for(;L<b;){if(I==0)for(;L<=R;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<b;)if(M[I++]=D.charCodeAt(L++),I==this.blockSize){o(this,M),I=0;break}}else for(;L<b;)if(M[I++]=D[L++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)D[b++]=this.g[R]>>>M&255;return D};function f(D,b){var R=g;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=b(D)}function d(D,b){this.h=b;const R=[];let M=!0;for(let I=D.length-1;I>=0;I--){const L=D[I]|0;M&&L==b||(R[I]=L,M=!1)}this.g=R}var g={};function _(D){return-128<=D&&D<128?f(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return J(y(-D));const b=[];let R=1;for(let M=0;D>=R;M++)b[M]=D/R|0,R*=4294967296;return new d(b,0)}function T(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return J(T(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let M=S;for(let L=0;L<D.length;L+=8){var I=Math.min(8,D.length-L);const w=parseInt(D.substring(L,L+I),b);I<8?(I=y(Math.pow(b,I)),M=M.j(I).add(y(w))):(M=M.j(R),M=M.add(y(w)))}return M}var S=_(0),V=_(1),j=_(16777216);r=d.prototype,r.m=function(){if($(this))return-J(this).m();let D=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);D+=(M>=0?M:4294967296+M)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(H(this))return"0";if($(this))return"-"+J(this).toString(D);const b=y(Math.pow(D,6));var R=this;let M="";for(;;){const I=wt(R,b).g;R=rt(R,I.j(b));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=I,H(R))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function H(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function $(D){return D.h==-1}r.l=function(D){return D=rt(this,D),$(D)?-1:H(D)?0:1};function J(D){const b=D.g.length,R=[];for(let M=0;M<b;M++)R[M]=~D.g[M];return new d(R,~D.h).add(V)}r.abs=function(){return $(this)?J(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),R=[];let M=0;for(let I=0;I<=b;I++){let L=M+(this.i(I)&65535)+(D.i(I)&65535),w=(L>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);M=w>>>16,L&=65535,w&=65535,R[I]=w<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function rt(D,b){return D.add(J(b))}r.j=function(D){if(H(this)||H(D))return S;if($(this))return $(D)?J(this).j(J(D)):J(J(this).j(D));if($(D))return J(this.j(J(D)));if(this.l(j)<0&&D.l(j)<0)return y(this.m()*D.m());const b=this.g.length+D.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<D.g.length;I++){const L=this.i(M)>>>16,w=this.i(M)&65535,ie=D.i(I)>>>16,De=D.i(I)&65535;R[2*M+2*I]+=w*De,ut(R,2*M+2*I),R[2*M+2*I+1]+=L*De,ut(R,2*M+2*I+1),R[2*M+2*I+1]+=w*ie,ut(R,2*M+2*I+1),R[2*M+2*I+2]+=L*ie,ut(R,2*M+2*I+2)}for(D=0;D<b;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=b;D<2*b;D++)R[D]=0;return new d(R,0)};function ut(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function ft(D,b){this.g=D,this.h=b}function wt(D,b){if(H(b))throw Error("division by zero");if(H(D))return new ft(S,S);if($(D))return b=wt(J(D),b),new ft(J(b.g),J(b.h));if($(b))return b=wt(D,J(b)),new ft(J(b.g),b.h);if(D.g.length>30){if($(D)||$(b))throw Error("slowDivide_ only works with positive integers.");for(var R=V,M=b;M.l(D)<=0;)R=jt(R),M=jt(M);var I=Rt(R,1),L=Rt(M,1);for(M=Rt(M,2),R=Rt(R,2);!H(M);){var w=L.add(M);w.l(D)<=0&&(I=I.add(R),L=w),M=Rt(M,1),R=Rt(R,1)}return b=rt(D,I.j(b)),new ft(I,b)}for(I=S;D.l(b)>=0;){for(R=Math.max(1,Math.floor(D.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(R),w=L.j(b);$(w)||w.l(D)>0;)R-=M,L=y(R),w=L.j(b);H(L)&&(L=V),I=I.add(L),D=rt(D,w)}return new ft(I,D)}r.B=function(D){return wt(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&D.i(M);return new d(R,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|D.i(M);return new d(R,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^D.i(M);return new d(R,this.h^D.h)};function jt(D){const b=D.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new d(R,D.h)}function Rt(D,b){const R=b>>5;b%=32;const M=D.g.length-R,I=[];for(let L=0;L<M;L++)I[L]=b>0?D.i(L+R)>>>b|D.i(L+R+1)<<32-b:D.i(L+R);return new d(I,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Cv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Va=d}).apply(typeof l_<"u"?l_:typeof self<"u"?self:typeof window<"u"?window:{});var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Dv,Gl,Iv,tc,cd,Vv,Nv,Mv;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ku=="object"&&Ku];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in v))break t;v=v[U]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var f=f||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,U,k){for(var W=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)W[Tt-2]=arguments[Tt];return m.prototype[U].apply(A,W)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function H(u,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const k=U.length||0;u.length=v+k;for(let W=0;W<k;W++)u[v+W]=U[W]}else u.push(U)}}class ${constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function rt(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ut{constructor(){this.h=this.g=null}add(m,v){const A=ft.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ft=new $(()=>new wt,u=>u.reset());class wt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let jt,Rt=!1,D=new ut,b=()=>{const u=Promise.resolve(void 0);jt=()=>{u.then(R)}};function R(){for(var u;u=rt();){try{u.h.call(u.g)}catch(v){J(v)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Rt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,I),ie.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(u,m,v,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++F,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)u[v]=A[v];for(let k=0;k<X.length;k++)v=X[k],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,v,A,U){const k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);const W=St(u,m,A,U);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new et(m,this.src,k,!!A,U),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var A=u.g[v],U=Array.prototype.indexOf.call(A,m,void 0),k;(k=U>=0)&&Array.prototype.splice.call(A,U,1),k&&(mt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,A){for(let U=0;U<u.length;++U){const k=u[U];if(!k.da&&k.listener==m&&k.capture==!!v&&k.ha==A)return U}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Ie={};function ae(u,m,v,A,U){if(Array.isArray(m)){for(let k=0;k<m.length;k++)ae(u,m[k],v,A,U);return null}return v=js(v),u&&u[De]?u.J(m,v,g(A)?!!A.capture:!1,U):qa(u,m,v,!1,A,U)}function qa(u,m,v,A,U,k){if(!m)throw Error("Invalid event type");const W=g(U)?!!U.capture:!!U;let Tt=Ha(u);if(Tt||(u[xt]=Tt=new lt(u)),v=Tt.add(m,v,A,W,k),v.proxy)return v;if(A=Cr(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)L||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Cr(){function u(v){return m.call(u.src,u.listener,v)}const m=Bs;return u}function Dr(u,m,v,A,U){if(Array.isArray(m))for(var k=0;k<m.length;k++)Dr(u,m[k],v,A,U);else A=g(A)?!!A.capture:!!A,v=js(v),u&&u[De]?(u=u.i,k=String(m).toString(),k in u.g&&(m=u.g[k],v=St(m,v,A,U),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[k],u.h--)))):u&&(u=Ha(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,A,U)),(v=u>-1?m[u]:null)&&Ir(v))}function Ir(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])yt(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Zn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Ha(m))?(yt(v,u),v.h==0&&(v.src=null,m[xt]=null)):mt(u)}}}function Zn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function Bs(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Ir(u),u=v.call(A,m)}return u}function Ha(u){return u=u[xt],u instanceof lt?u:null}var Ps="__closure_events_fn_"+(Math.random()*1e9>>>0);function js(u){return typeof u=="function"?u:(u[Ps]||(u[Ps]=function(m){return u.handleEvent(m)}),u[Ps])}function pe(){M.call(this),this.i=new lt(this),this.M=this,this.G=null}S(pe,M),pe.prototype[De]=!0,pe.prototype.removeEventListener=function(u,m,v,A){Dr(this,u,m,v,A)};function Ve(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var U=m;m=new I(A,u),nt(m,U)}U=!0;let k,W;if(v)for(W=v.length-1;W>=0;W--)k=m.g=v[W],U=Ki(k,A,!0,m)&&U;if(k=m.g=u,U=Ki(k,A,!0,m)&&U,U=Ki(k,A,!1,m)&&U,v)for(W=0;W<v.length;W++)k=m.g=v[W],U=Ki(k,A,!1,m)&&U}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)mt(v[A]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},pe.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function Ki(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let k=0;k<m.length;++k){const W=m[k];if(W&&!W.da&&W.capture==v){const Tt=W.listener,he=W.ha||W.src;W.fa&&yt(u.i,W),U=Tt.call(he,A)!==!1&&U}}return U&&!A.defaultPrevented}function kc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function yo(u){u.g=kc(()=>{u.g=null,u.i&&(u.i=!1,yo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ga(u){M.call(this),this.h=u,this.g={}}S(Ga,M);var ks=[];function qs(u){zt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ir(m)},u),u.g={}}Ga.prototype.N=function(){Ga.Z.N.call(this),qs(this)},Ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=d.JSON.stringify,qc=d.JSON.parse,_o=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function vo(){}function Eo(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){I.call(this,"d")}S(ze,I);function Tn(){I.call(this,"c")}S(Tn,I);var fe={},To=null;function Vr(){return To=To||new pe}fe.Ia="serverreachability";function Ao(u){I.call(this,fe.Ia,u)}S(Ao,I);function Jn(u){const m=Vr();Ve(m,new Ao(m))}fe.STAT_EVENT="statevent";function Fa(u,m){I.call(this,fe.STAT_EVENT,u),this.stat=m}S(Fa,I);function ye(u){const m=Vr();Ve(m,new Fa(m,u))}fe.Ja="timingevent";function $n(u,m){I.call(this,fe.Ja,u),this.size=m}S($n,I);function Wn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function Hc(u,m,v,A,U,k){u.info(function(){if(u.g)if(k){var W="",Tt=k.split("&");for(let kt=0;kt<Tt.length;kt++){var he=Tt[kt].split("=");if(he.length>1){const re=he[0];he=he[1];const Rn=re.split("_");W=Rn.length>=2&&Rn[1]=="type"?W+(re+"="+he+"&"):W+(re+"=redacted&")}}}else W=null;else W=k;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+W})}function So(u,m,v,A,U,k,W){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+k+" "+W})}function ti(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gc(u,v)+(A?" "+A:"")})}function Qa(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Gc(u,m){if(!u.g)return m;if(!m)return null;try{const k=JSON.parse(m);if(k){for(u=0;u<k.length;u++)if(Array.isArray(k[u])){var v=k[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<A.length;W++)A[W]=""}}}}return Xi(k)}catch{return m}}var Ya={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gs;function Ka(){}S(Ka,vo),Ka.prototype.g=function(){return new XMLHttpRequest},Gs=new Ka;function Ri(u){return encodeURIComponent(String(u))}function bo(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function zn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new Ga(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var _e={},Oe={};function ei(u,m,v){u.M=1,u.A=Xa(Ee(m)),u.u=v,u.R=!0,Nr(u,null)}function Nr(u,m){u.F=Date.now(),ni(u),u.B=Ee(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Lr(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Bn,u.g=Po(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ks[0]=U.toString()),U=ks);for(let k=0;k<U.length;k++){const W=ae(v,U[k],A||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Jn(),Hc(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&kn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=kn(this.g),he=this.g.ya(),kt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Tt!=4||he==7||(he==8||kt<=0?Jn(3):Jn(2)),ii(this);var m=this.g.ca();this.X=m;var v=Fc(this);if(this.o=m==200,So(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var k=A;break e}}k=null}if(u=k)ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ye(12),fn(this),An(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=wo(this,v),re==Oe){Tt==4&&(this.m=4,ye(14),u=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ti(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ti(this.i,this.l,re,null),ai(this,re);if(Ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ti(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),rl(W),W.P=!0,ye(11))}}else ti(this.i,this.l,v,null),ai(this,v);Tt==4&&fn(this),this.o&&!this.K&&(Tt==4?Lo(this.j,this):(this.o=!1,ni(this)))}else Ci(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),An(this)}}}catch{}finally{}};function Fc(u){if(!Ro(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const A=m.length,U=kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),An(u),"";u.h.i=new d.TextDecoder}for(let k=0;k<A;k++)u.h.h=!0,v+=u.h.i.decode(m[k],{stream:!(U&&k==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Ro(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wo(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Oe:(v=Number(m.substring(v,A)),isNaN(v)?_e:(A+=1,A+v>m.length?Oe:(m=m.slice(A,A+v),u.C=A+v,m)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function ni(u){u.T=Date.now()+u.H,Mr(u,u.H)}function Mr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Wn(y(u.aa,u),m)}function ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Qa(this.i,this.B),this.M!=2&&(Jn(),ye(17)),fn(this),this.m=2,An(this)):Mr(this,this.T-u)};function An(u){u.j.I==0||u.K||Lo(u.j,u)}function fn(u){ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,qs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||si(v.h,u))){if(!u.L&&si(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)jr(v),ia(v);else break t;nr(v),ye(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Wn(y(v.Va,v),6e3));ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else hi(v,11)}else if((u.L||v.g==u)&&jr(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let kt=U[m];const re=kt[0];if(!(re<=v.K))if(v.K=re,kt=kt[1],v.I==2)if(kt[0]=="c"){v.M=kt[1],v.ba=kt[2];const Rn=kt[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const di=kt[4];di!=null&&(v.za=di,v.j.info("SVER="+v.za));const qn=kt[5];qn!=null&&typeof qn=="number"&&qn>0&&(A=1.5*qn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Hn=u.g;if(Hn){const ir=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ir){var k=A.h;k.g||ir.indexOf("spdy")==-1&&ir.indexOf("quic")==-1&&ir.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Ys(k,k.h),k.h=null))}if(A.G){const kr=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;kr&&(A.wa=kr,Ft(A.J,A.G,kr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var W=u;if(A.na=Bo(A,A.L?A.ba:null,A.W),W.L){Ks(A.h,W);var Tt=W,he=A.O;he&&(Tt.H=he),Tt.D&&(ii(Tt),ni(Tt)),A.g=W}else Oo(A);v.i.length>0&&fi(v)}else kt[0]!="stop"&&kt[0]!="close"||hi(v,7);else v.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?hi(v,7):il(v):kt[0]!="noop"&&v.l&&v.l.qa(kt),v.A=0)}}Jn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function Fs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ri(u){return u.h?1:u.g?u.g.size:0}function si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ys(u,m){u.g?u.g.add(m):u.h=m}function Ks(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Fs.prototype.cancel=function(){if(this.i=Xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xs(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return j(u.i)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Or(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let U,k=null;A>=0?(U=u[v].substring(0,A),k=u[v].substring(A+1)):U=u[v],m(U,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.u),this.h=u.h,Zs(this,No(u.i)),this.m=u.m):u&&(m=String(u).match(Co))?(this.l=!1,xe(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),Zi(this,m[4]),this.h=li(m[5]||"",!0),Zs(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Za(m,xr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Za(m,xr,!0),"@"),u.push(Ri(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Za(v,v.charAt(0)=="/"?Js:Do,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Za(v,Io)),u.join("")},hn.prototype.resolve=function(u){const m=Ee(this);let v=!!u.j;v?xe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)Zi(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const k=[];for(let W=0;W<U.length;){const Tt=U[W++];Tt=="."?A&&W==U.length&&k.push(""):Tt==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),A&&W==U.length&&k.push("")):(k.push(Tt),A=!0)}A=k.join("/")}else A=U}return v?m.h=A:v=u.i.toString()!=="",v?Zs(m,No(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ee(u){return new hn(u)}function xe(u,m,v){u.j=v?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Zs(u,m,v){m instanceof $i?(u.i=m,Ur(u.i,u.l)):(v||(m=Za(m,Ji)),u.i=new $i(m,u.l))}function Ft(u,m,v){u.i.set(m,v)}function Xa(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Za(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,en),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xr=/[#\/\?@]/g,Do=/[#\?:]/g,Js=/[#\?]/g,Ji=/[#\?@]/g,Io=/#/g;function $i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Or(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=$i.prototype,r.add=function(u,m){nn(this),this.i=null,u=Wi(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Vo(u,m){nn(u),m=Wi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function $s(u,m){return nn(u),m=Wi(u,m),u.g.has(m)}r.forEach=function(u,m){nn(this),this.g.forEach(function(v,A){v.forEach(function(U){u.call(m,U,A,this)},this)},this)};function Ws(u,m){nn(u);let v=[];if(typeof m=="string")$s(u,m)&&(v=v.concat(u.g.get(Wi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return nn(this),this.i=null,u=Wi(this,u),$s(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ws(this,u),u.length>0?String(u[0]):m):m};function Lr(u,m,v){Vo(u,m),v.length>0&&(u.i=null,u.g.set(Wi(u,m),j(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const U=Ri(v);v=Ws(this,v);for(let k=0;k<v.length;k++){let W=U;v[k]!==""&&(W+="="+Ri(v[k])),u.push(W)}}return this.i=u.join("&")};function No(u){const m=new $i;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Wi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ur(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(Vo(this,A),Lr(this,U,v))},u)),u.j=m}function Pn(u,m){const v=new Un;if(d.Image){const A=new Image;A.onload=T(Sn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Sn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Sn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Sn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function tl(u,m){const v=new Un,A=new AbortController,U=setTimeout(()=>{A.abort(),Sn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(k=>{clearTimeout(U),k.ok?Sn(v,"TestPingServer: ok",!0,m):Sn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Sn(v,"TestPingServer: error",!1,m)})}function Sn(u,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function ta(){this.g=new _o}function oi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(oi,vo),oi.prototype.g=function(){return new Ja(this.i,this.h)};function Ja(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ja,pe),r=Ja.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function zr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ea(this):jn(this),this.readyState==3&&zr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ea(this))},r.Na=function(u){this.g&&(this.response=u,ea(this))},r.ga=function(){this.g&&ea(this)};function ea(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return zt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function $a(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=bn(v),typeof u=="string"?v!=null&&Ri(v):Ft(u,m,v))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,pe);var ui=/^https?$/i,el=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gs.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(k){Wa(this,k);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const k of A.keys())v.set(k,A.get(k));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(k=>k.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(el,m,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of v)this.g.setRequestHeader(k,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(k){Wa(this,k)}};function Wa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,nl(u),wi(u)}function nl(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),wi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?tr(this):this.Xa())},r.Xa=function(){tr(this)};function tr(u){if(u.h&&typeof f<"u"){if(u.v&&kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),kn(u)==4){u.h=!1;try{const k=u.ca();t:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=k===0){let W=String(u.D).match(Co)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),A=!ui.test(W?W.toLowerCase():"")}v=A}if(v)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var U=kn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",nl(u)}}finally{wi(u)}}}}function wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ve(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function kn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qc(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ci(u){const m={};u=(u.g&&kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(w(u[A]))continue;var v=bo(u[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const k=m[U]||[];m[U]=k,k.push(v)}Gt(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function na(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ci("baseRetryDelayMs",5e3,u),this.Za=ci("retryDelaySeedMs",1e4,u),this.Ta=ci("forwardChannelMaxRetries",2,u),this.va=ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Fs(u&&u.concurrentRequestLimit),this.Ba=new ta,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=na.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,A){ye(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Bo(this,null,this.W),fi(this)};function il(u){if(Br(u),u.I==3){var m=u.V++,v=Ee(u.J);if(Ft(v,"SID",u.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),er(u,v),m=new zn(u,u.j,m),m.M=2,m.A=Xa(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Po(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ni(m)}zo(u)}function ia(u){u.g&&(rl(u),u.g.cancel(),u.g=null)}function Br(u){ia(u),u.v&&(d.clearTimeout(u.v),u.v=null),jr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!Qs(u.h)&&!u.m){u.m=!0;var m=u.Ea;jt||b(),Rt||(jt(),Rt=!0),D.add(m,u),u.D=0}}function Pr(u,m){return ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Wn(y(u.Ea,u,m),Uo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new zn(this,this.j,u);let k=this.o;if(this.U&&(k?(k=O(k),nt(k,this.U)):k=this.U),this.u!==null||this.R||(U.J=k,k=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Mo(this,U,m),v=Ee(this.J),Ft(v,"RID",u),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),er(this,v),k&&(this.R?m="headers="+Ri(bn(k))+"&"+m:this.u&&$a(v,this.u,k)),Ys(this.h,U),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),U.U=!0,ei(U,v,null)):ei(U,v,m),this.I=2}}else this.I==3&&(u?al(this,u):this.i.length==0||Qs(this.h)||al(this))};function al(u,m){var v;m?v=m.l:v=u.V++;const A=Ee(u.J);Ft(A,"SID",u.M),Ft(A,"RID",v),Ft(A,"AID",u.K),er(u,A),u.u&&u.o&&$a(A,u.u,u.o),v=new zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Mo(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ys(u.h,v),ei(v,A,m)}function er(u,m){u.H&&zt(u.H,function(v,A){Ft(m,A,v)}),u.l&&zt({},function(v,A){Ft(m,A,v)})}function Mo(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let Tt=-1;for(;;){const he=["count="+v];Tt==-1?v>0?(Tt=U[0].g,he.push("ofs="+Tt)):Tt=0:he.push("ofs="+Tt);let kt=!0;for(let re=0;re<v;re++){var k=U[re].g;const Rn=U[re].map;if(k-=Tt,k<0)Tt=Math.max(0,U[re].g-100),kt=!1;else try{k="req"+k+"_"||"";try{var W=Rn instanceof Map?Rn:Object.entries(Rn);for(const[di,qn]of W){let Hn=qn;g(qn)&&(Hn=Xi(qn)),he.push(k+di+"="+encodeURIComponent(Hn))}}catch(di){throw he.push(k+"type="+encodeURIComponent("_badmap")),di}}catch{A&&A(Rn)}}if(kt){W=he.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function Oo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;jt||b(),Rt||(jt(),Rt=!0),D.add(m,u),u.A=0}}function nr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Wn(y(u.Da,u),Uo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,xo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Wn(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ia(this),xo(this))};function rl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function xo(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),er(u,m),u.u&&u.o&&$a(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Xa(Ee(m)),v.u=null,v.R=!0,Nr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ia(this),nr(this),ye(19))};function jr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Lo(u,m){var v=null;if(u.g==m){jr(u),rl(u),u.g=null;var A=2}else if(si(u.h,m))v=m.G,Ks(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;A=Vr(),Ve(A,new $n(A,v)),fi(u)}else Oo(u);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&Pr(u,m)||A==2&&nr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function Uo(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function hi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const U=!A;A=new hn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(A,"https"),Xa(A),U?Pn(A.toString(),v):tl(A.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),zo(u),Br(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function zo(u){if(u.I=0,u.ja=[],u.l){const m=Xs(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ja,m),H(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function Bo(u,m,v){var A=v instanceof hn?Ee(v):new hn(v);if(A.g!="")m&&(A.g=m+"."+A.g),Zi(A,A.u);else{var U=d.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const k=new hn(null);A&&xe(k,A),m&&(k.g=m),U&&Zi(k,U),v&&(k.h=v),A=k}return v=u.G,m=u.wa,v&&m&&Ft(A,v,m),Ft(A,"VER",u.ka),er(u,A),A}function Po(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new oi({ab:v})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function jo(){}r=jo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function aa(){}aa.prototype.g=function(u,m){return new We(u,m)};function We(u,m){pe.call(this),this.g=new na(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Di(this)}S(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){il(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Xi(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&fi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,We.Z.N.call(this)};function ko(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(ko,ze);function qo(){Tn.call(this),this.status=1}S(qo,Tn);function Di(u){this.g=u}S(Di,jo),Di.prototype.ra=function(){Ve(this.g,"a")},Di.prototype.qa=function(u){Ve(this.g,new ko(u))},Di.prototype.pa=function(u){Ve(this.g,new qo)},Di.prototype.oa=function(){Ve(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,Mv=function(){return new aa},Nv=function(){return Vr()},Vv=fe,cd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ya.NO_ERROR=0,Ya.TIMEOUT=8,Ya.HTTP_ERROR=6,tc=Ya,Hs.COMPLETE="complete",Iv=Hs,Eo.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Gl=Eo,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,Dv=Kt}).apply(typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{});const o_="@firebase/firestore",u_="4.9.2";class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let Ms="12.3.0";const Ar=new Tv("@firebase/firestore");function ys(){return Ar.logLevel}function st(r,...e){if(Ar.logLevel<=Ut.DEBUG){const i=e.map(xd);Ar.debug(`Firestore (${Ms}): ${r}`,...i)}}function Qi(r,...e){if(Ar.logLevel<=Ut.ERROR){const i=e.map(xd);Ar.error(`Firestore (${Ms}): ${r}`,...i)}}function Rs(r,...e){if(Ar.logLevel<=Ut.WARN){const i=e.map(xd);Ar.warn(`Firestore (${Ms}): ${r}`,...i)}}function xd(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Ov(r,s,i)}function Ov(r,e,i){let s=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Qi(s),new Error(s)}function Ht(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||Ov(e,o,s)}function Et(r,e){return r}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Ns{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Na{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class xv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class SS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class bS{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let f=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Na,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=f;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Na)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new xv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}}class RS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new RS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class c_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const s=f=>{f.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>s(f)))};const o=f=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new c_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new c_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function DS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Ld{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=DS(40);for(let f=0;f<o.length;++f)s.length<20&&o[f]<i&&(s+=e.charAt(o[f]%62))}return s}}function Nt(r,e){return r<e?-1:r>e?1:0}function fd(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),f=e.charAt(s);if(o!==f)return Jh(o)===Jh(f)?Nt(o,f):Jh(o)?1:-1}return Nt(r.length,e.length)}const IS=55296,VS=57343;function Jh(r){const e=r.charCodeAt(0);return e>=IS&&e<=VS}function ws(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}const f_="__name__";class _i{constructor(e,i,s){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&pt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const f=_i.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return Nt(e.length,i.length)}static compareSegments(e,i){const s=_i.isNumericId(e),o=_i.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?_i.extractNumericId(e).compare(_i.extractNumericId(i)):fd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Va.fromString(e.substring(4,e.length-2))}}class Wt extends _i{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new at(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const NS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends _i{construct(e,i,s){return new Fe(e,i,s)}static isValidIdentifier(e){return NS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f_}static keyField(){return new Fe([f_])}static fromServerFormat(e){const i=[];let s="",o=0;const f=()=>{if(s.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new at(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(f(),o++)}if(f(),d)throw new at(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Wt.fromString(e))}static fromName(e){return new dt(Wt.fromString(e).popFirst(5))}static empty(){return new dt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Wt(e.slice()))}}function Lv(r,e,i){if(!i)throw new at(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function MS(r,e,i,s){if(e===!0&&s===!0)throw new at(Y.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function h_(r){if(!dt.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function d_(r){if(dt.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Uv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function bc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Yn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new at(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bc(r);throw new at(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function OS(r,e){if(e<=0)throw new at(Y.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function Ce(r,e){const i={typeString:r};return e&&(i.value=e),i}function uo(r,e){if(!Uv(r))throw new at(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,f="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${s}' field to equal '${f.value}'`;break}}if(i)throw new at(Y.INVALID_ARGUMENT,i);return!0}const m_=-62135596800,g_=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*g_);return new ne(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<m_)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g_}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uo(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ce("string",ne._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new ne(0,0))}static max(){return new _t(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eo=-1;function xS(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Oa(o,dt.empty(),e)}function LS(r){return new Oa(r.readTime,r.key,eo)}class Oa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Oa(_t.min(),dt.empty(),eo)}static max(){return new Oa(_t.max(),dt.empty(),eo)}}function US(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,e.documentKey),i!==0?i:Nt(r.largestBatchId,e.largestBatchId))}const zS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Os(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==zS)throw r;st("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let o=0,f=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++f,d&&f===o&&i()}),(_=>s(_)))})),d=!0,f===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((o=>o?Z.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,f)=>{s.push(i.call(this,o,f))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,o)=>{const f=e.length,d=new Array(f);let g=0;for(let _=0;_<f;_++){const y=_;i(e[y]).next((T=>{d[y]=T,++g,g===f&&s(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new Z(((s,o)=>{const f=()=>{e()===!0?i().next((()=>{f()}),o):s()};f()}))}}function PS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xs(r){return r.name==="IndexedDbTransactionError"}class Rc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rc.ce=-1;const Ud=-1;function wc(r){return r==null}function fc(r){return r===0&&1/r==-1/0}function jS(r){return typeof r=="number"&&Number.isInteger(r)&&!fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const zv="";function kS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=p_(e)),e=qS(r.get(i),e);return p_(e)}function qS(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const f=r.charAt(o);switch(f){case"\0":i+="";break;case zv:i+="";break;default:i+=f}}return i}function p_(r){return r+zv+""}function y_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Pa(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Bv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class le{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new le(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,s,o,f){this.key=e,this.value=i,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=f??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,f){return new Ge(e??this.key,i??this.value,s??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const f=s(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,s),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,s,o,f){return this}insert(e,i,s){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new __(this.data.getIterator())}getIteratorFrom(e){return new __(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Me(this.comparator);return i.data=e,i}}class __{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new En([])}unionWith(e){let i=new Me(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new En(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ws(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class Pv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Pv("Invalid base64 string: "+f):f}})(e);return new Ye(i)}static fromUint8Array(e){const i=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const HS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(r){if(Ht(!!r,39018),typeof r=="string"){let e=0;const i=HS.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function La(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const jv="server_timestamp",kv="__type__",qv="__previous_value__",Hv="__local_write_time__";function zd(r){return(r?.mapValue?.fields||{})[kv]?.stringValue===jv}function Cc(r){const e=r.mapValue.fields[qv];return zd(e)?Cc(e):e}function no(r){const e=xa(r.mapValue.fields[Hv].timestampValue);return new ne(e.seconds,e.nanos)}class GS{constructor(e,i,s,o,f,d,g,_,y,T){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const hc="(default)";class io{constructor(e,i){this.projectId=e,this.database=i||hc}static empty(){return new io("","")}get isDefaultDatabase(){return this.database===hc}isEqual(e){return e instanceof io&&e.projectId===this.projectId&&e.database===this.database}}const Gv="__type__",FS="__max__",Zu={mapValue:{}},Fv="__vector__",dc="value";function Ua(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zd(r)?4:YS(r)?9007199254740991:QS(r)?10:11:pt(28295,{value:r})}function bi(r,e){if(r===e)return!0;const i=Ua(r);if(i!==Ua(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return no(r).isEqual(no(e));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=xa(o.timestampValue),g=xa(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,f){return La(o.bytesValue).isEqual(La(f.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,f){return ge(o.geoPointValue.latitude)===ge(f.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(f.geoPointValue.longitude)})(r,e);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return ge(o.integerValue)===ge(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=ge(o.doubleValue),g=ge(f.doubleValue);return d===g?fc(d)===fc(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return ws(r.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},g=f.mapValue.fields||{};if(y_(d)!==y_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!bi(d[_],g[_])))return!1;return!0})(r,e);default:return pt(52216,{left:r})}}function ao(r,e){return(r.values||[]).find((i=>bi(i,e)))!==void 0}function Cs(r,e){if(r===e)return 0;const i=Ua(r),s=Ua(e);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,e.booleanValue);case 2:return(function(f,d){const g=ge(f.integerValue||f.doubleValue),_=ge(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,e);case 3:return v_(r.timestampValue,e.timestampValue);case 4:return v_(no(r),no(e));case 5:return fd(r.stringValue,e.stringValue);case 6:return(function(f,d){const g=La(f),_=La(d);return g.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(f,d){const g=f.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const T=Nt(g[y],_[y]);if(T!==0)return T}return Nt(g.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(f,d){const g=Nt(ge(f.latitude),ge(d.latitude));return g!==0?g:Nt(ge(f.longitude),ge(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return E_(r.arrayValue,e.arrayValue);case 10:return(function(f,d){const g=f.fields||{},_=d.fields||{},y=g[dc]?.arrayValue,T=_[dc]?.arrayValue,S=Nt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:E_(y,T)})(r.mapValue,e.mapValue);case 11:return(function(f,d){if(f===Zu.mapValue&&d===Zu.mapValue)return 0;if(f===Zu.mapValue)return 1;if(d===Zu.mapValue)return-1;const g=f.fields||{},_=Object.keys(g),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const V=fd(_[S],T[S]);if(V!==0)return V;const j=Cs(g[_[S]],y[T[S]]);if(j!==0)return j}return Nt(_.length,T.length)})(r.mapValue,e.mapValue);default:throw pt(23264,{he:i})}}function v_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Nt(r,e);const i=xa(r),s=xa(e),o=Nt(i.seconds,s.seconds);return o!==0?o:Nt(i.nanos,s.nanos)}function E_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const f=Cs(i[o],s[o]);if(f)return f}return Nt(i.length,s.length)}function Ds(r){return hd(r)}function hd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=xa(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return La(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const f of i.values||[])o?o=!1:s+=",",s+=hd(f);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of s)f?f=!1:o+=",",o+=`${d}:${hd(i.fields[d])}`;return o+"}"})(r.mapValue):pt(61005,{value:r})}function ec(r){switch(Ua(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cc(r);return e?16+ec(e):16;case 5:return 2*r.stringValue.length;case 6:return La(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,f)=>o+ec(f)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Pa(s.fields,((f,d)=>{o+=f.length+ec(d)})),o})(r.mapValue);default:throw pt(13486,{value:r})}}function T_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function dd(r){return!!r&&"integerValue"in r}function Bd(r){return!!r&&"arrayValue"in r}function A_(r){return!!r&&"nullValue"in r}function S_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nc(r){return!!r&&"mapValue"in r}function QS(r){return(r?.mapValue?.fields||{})[Gv]?.stringValue===Fv}function Xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Pa(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Xl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Xl(r.arrayValue.values[i]);return e}return{...r}}function YS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===FS}class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!nc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(i)}setAll(e){let i=Fe.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Xl(d):o.push(g.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,s,o)}delete(e){const i=this.field(e.popLast());nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];nc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Pa(i,((o,f)=>e[o]=f));for(const o of s)delete e[o]}clone(){return new cn(Xl(this.value))}}function Qv(r){const e=[];return Pa(r.fields,((i,s)=>{const o=new Fe([i]);if(nc(s)){const f=Qv(s.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)})),new En(e)}class Je{constructor(e,i,s,o,f,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Je(e,0,_t.min(),_t.min(),_t.min(),cn.empty(),0)}static newFoundDocument(e,i,s,o){return new Je(e,1,i,_t.min(),s,o,0)}static newNoDocument(e,i){return new Je(e,2,i,_t.min(),_t.min(),cn.empty(),0)}static newUnknownDocument(e,i){return new Je(e,3,i,_t.min(),_t.min(),cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mc{constructor(e,i){this.position=e,this.inclusive=i}}function b_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const f=e[o],d=r.position[o];if(f.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=Cs(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function R_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!bi(r.position[i],e.position[i]))return!1;return!0}class ro{constructor(e,i="asc"){this.field=e,this.dir=i}}function KS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Yv{}class we extends Yv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new ZS(e,i,s):i==="array-contains"?new WS(e,s):i==="in"?new tb(e,s):i==="not-in"?new eb(e,s):i==="array-contains-any"?new nb(e,s):new we(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new JS(e,s):new $S(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Cs(i,this.value)):i!==null&&Ua(this.value)===Ua(i)&&this.matchesComparison(Cs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends Yv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Xn(e,i)}matches(e){return Kv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kv(r){return r.op==="and"}function Xv(r){return XS(r)&&Kv(r)}function XS(r){for(const e of r.filters)if(e instanceof Xn)return!1;return!0}function md(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+Ds(r.value);if(Xv(r))return r.filters.map((e=>md(e))).join(",");{const e=r.filters.map((i=>md(i))).join(",");return`${r.op}(${e})`}}function Zv(r,e){return r instanceof we?(function(s,o){return o instanceof we&&s.op===o.op&&s.field.isEqual(o.field)&&bi(s.value,o.value)})(r,e):r instanceof Xn?(function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((f,d,g)=>f&&Zv(d,o.filters[g])),!0):!1})(r,e):void pt(19439)}function Jv(r){return r instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ds(i.value)}`})(r):r instanceof Xn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Jv).join(" ,")+"}"})(r):"Filter"}class ZS extends we{constructor(e,i,s){super(e,i,s),this.key=dt.fromName(s.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class JS extends we{constructor(e,i){super(e,"in",i),this.keys=$v("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class $S extends we{constructor(e,i){super(e,"not-in",i),this.keys=$v("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function $v(r,e){return(e.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class WS extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Bd(i)&&ao(i.arrayValue,this.value)}}class tb extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ao(this.value.arrayValue,i)}}class eb extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ao(this.value.arrayValue,i)}}class nb extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Bd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>ao(this.value.arrayValue,s)))}}class ib{constructor(e,i=null,s=[],o=[],f=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=f,this.startAt=d,this.endAt=g,this.Te=null}}function w_(r,e=null,i=[],s=[],o=null,f=null,d=null){return new ib(r,e,i,s,o,f,d)}function Pd(r){const e=Et(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>md(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(f){return f.field.canonicalString()+f.dir})(s))).join(","),wc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Ds(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Ds(s))).join(",")),e.Te=i}return e.Te}function jd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!KS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Zv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!R_(r.startAt,e.startAt)&&R_(r.endAt,e.endAt)}function gd(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ls{constructor(e,i=null,s=[],o=[],f=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ab(r,e,i,s,o,f,d,g){return new Ls(r,e,i,s,o,f,d,g)}function Dc(r){return new Ls(r)}function C_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Wv(r){return r.collectionGroup!==null}function Zl(r){const e=Et(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Fe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new ro(f,s))})),i.has(Fe.keyField().canonicalString())||e.Ie.push(new ro(Fe.keyField(),s))}return e.Ie}function vi(r){const e=Et(r);return e.Ee||(e.Ee=rb(e,Zl(r))),e.Ee}function rb(r,e){if(r.limitType==="F")return w_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new ro(o.field,f)}));const i=r.endAt?new mc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new mc(r.startAt.position,r.startAt.inclusive):null;return w_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function pd(r,e){const i=r.filters.concat([e]);return new Ls(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function gc(r,e,i){return new Ls(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Ic(r,e){return jd(vi(r),vi(e))&&r.limitType===e.limitType}function t0(r){return`${Pd(vi(r))}|lt:${r.limitType}`}function _s(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Jv(o))).join(", ")}]`),wc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Ds(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Ds(o))).join(",")),`Target(${s})`})(vi(r))}; limitType=${r.limitType})`}function Vc(r,e){return e.isFoundDocument()&&(function(s,o){const f=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):dt.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)})(r,e)&&(function(s,o){for(const f of Zl(s))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const f of s.filters)if(!f.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,_){const y=b_(d,g,_);return d.inclusive?y<=0:y<0})(s.startAt,Zl(s),o)||s.endAt&&!(function(d,g,_){const y=b_(d,g,_);return d.inclusive?y>=0:y>0})(s.endAt,Zl(s),o))})(r,e)}function sb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function e0(r){return(e,i)=>{let s=!1;for(const o of Zl(r)){const f=lb(o,e,i);if(f!==0)return f;s=s||o.field.isKeyField()}return 0}}function lb(r,e,i){const s=r.field.isKeyField()?dt.comparator(e.key,i.key):(function(f,d,g){const _=d.data.field(f),y=g.data.field(f);return _!==null&&y!==null?Cs(_,y):pt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}class Rr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,f]of s)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,((i,s)=>{for(const[o,f]of s)e(o,f)}))}isEmpty(){return Bv(this.inner)}size(){return this.innerSize}}const ob=new le(dt.comparator);function Yi(){return ob}const n0=new le(dt.comparator);function Fl(...r){let e=n0;for(const i of r)e=e.insert(i.key,i);return e}function i0(r){let e=n0;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Er(){return Jl()}function a0(){return Jl()}function Jl(){return new Rr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const ub=new le(dt.comparator),cb=new Me(dt.comparator);function Mt(...r){let e=cb;for(const i of r)e=e.add(i);return e}const fb=new Me(Nt);function hb(){return fb}function kd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function r0(r){return{integerValue:""+r}}function db(r,e){return jS(e)?r0(e):kd(r,e)}class Nc{constructor(){this._=void 0}}function mb(r,e,i){return r instanceof pc?(function(o,f){const d={fields:{[kv]:{stringValue:jv},[Hv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&zd(f)&&(f=Cc(f)),f&&(d.fields[qv]=f),{mapValue:d}})(i,e):r instanceof so?l0(r,e):r instanceof lo?o0(r,e):(function(o,f){const d=s0(o,f),g=D_(d)+D_(o.Ae);return dd(d)&&dd(o.Ae)?r0(g):kd(o.serializer,g)})(r,e)}function gb(r,e,i){return r instanceof so?l0(r,e):r instanceof lo?o0(r,e):i}function s0(r,e){return r instanceof yc?(function(s){return dd(s)||(function(f){return!!f&&"doubleValue"in f})(s)})(e)?e:{integerValue:0}:null}class pc extends Nc{}class so extends Nc{constructor(e){super(),this.elements=e}}function l0(r,e){const i=u0(e);for(const s of r.elements)i.some((o=>bi(o,s)))||i.push(s);return{arrayValue:{values:i}}}class lo extends Nc{constructor(e){super(),this.elements=e}}function o0(r,e){let i=u0(e);for(const s of r.elements)i=i.filter((o=>!bi(o,s)));return{arrayValue:{values:i}}}class yc extends Nc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function D_(r){return ge(r.integerValue||r.doubleValue)}function u0(r){return Bd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function pb(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof so&&o instanceof so||s instanceof lo&&o instanceof lo?ws(s.elements,o.elements,bi):s instanceof yc&&o instanceof yc?bi(s.Ae,o.Ae):s instanceof pc&&o instanceof pc})(r.transform,e.transform)}class yb{constructor(e,i){this.version=e,this.transformResults=i}}class Kn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Mc{}function c0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new h0(r.key,Kn.none()):new co(r.key,r.data,Kn.none());{const i=r.data,s=cn.empty();let o=new Me(Fe.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),o=o.add(f)}return new ja(r.key,s,new En(o.toArray()),Kn.none())}}function _b(r,e,i){r instanceof co?(function(o,f,d){const g=o.value.clone(),_=V_(o.fieldTransforms,f,d.transformResults);g.setAll(_),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof ja?(function(o,f,d){if(!ic(o.precondition,f))return void f.convertToUnknownDocument(d.version);const g=V_(o.fieldTransforms,f,d.transformResults),_=f.data;_.setAll(f0(o)),_.setAll(g),f.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function $l(r,e,i,s){return r instanceof co?(function(f,d,g,_){if(!ic(f.precondition,d))return g;const y=f.value.clone(),T=N_(f.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof ja?(function(f,d,g,_){if(!ic(f.precondition,d))return g;const y=N_(f.fieldTransforms,_,d),T=d.data;return T.setAll(f0(f)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((S=>S.field)))})(r,e,i,s):(function(f,d,g){return ic(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function vb(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),f=s0(s.transform,o||null);f!=null&&(i===null&&(i=cn.empty()),i.set(s.field,f))}return i||null}function I_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ws(s,o,((f,d)=>pb(f,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class co extends Mc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ja extends Mc{constructor(e,i,s,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function f0(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function V_(r,e,i){const s=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const f=r[o],d=f.transform,g=e.data.field(f.field);s.set(f.field,gb(d,g,i[o]))}return s}function N_(r,e,i){const s=new Map;for(const o of r){const f=o.transform,d=i.data.field(o.field);s.set(o.field,mb(f,d,e))}return s}class h0 extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Eb extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tb{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&_b(f,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=$l(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=$l(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=a0();return this.mutations.forEach((o=>{const f=e.get(o.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=i.has(o.key)?null:g;const _=c0(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&ws(this.mutations,e.mutations,((i,s)=>I_(i,s)))&&ws(this.baseMutations,e.baseMutations,((i,s)=>I_(i,s)))}}class qd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ht(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return ub})();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,s[d].version);return new qd(e,i,s,o)}}class Ab{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Sb{constructor(e,i){this.count=e,this.unchangedNames=i}}var Re,Lt;function bb(r){switch(r){case Y.OK:return pt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function d0(r){if(r===void 0)return Qi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Re.OK:return Y.OK;case Re.CANCELLED:return Y.CANCELLED;case Re.UNKNOWN:return Y.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Y.INTERNAL;case Re.UNAVAILABLE:return Y.UNAVAILABLE;case Re.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Re.NOT_FOUND:return Y.NOT_FOUND;case Re.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Re.ABORTED:return Y.ABORTED;case Re.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Re.DATA_LOSS:return Y.DATA_LOSS;default:return pt(39323,{code:r})}}(Lt=Re||(Re={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function Rb(){return new TextEncoder}const wb=new Va([4294967295,4294967295],0);function M_(r){const e=Rb().encode(r),i=new Cv;return i.update(e),new Uint8Array(i.digest())}function O_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Va([i,s],0),new Va([o,f],0)]}class Hd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Va.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Va.fromNumber(s)));return o.compare(wb)===1&&(o=new Va([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=M_(e),[s,o]=O_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,o,f);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new Hd(f,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=M_(e),[s,o]=O_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,o,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oc{constructor(e,i,s,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,fo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Oc(_t.min(),o,new le(Nt),Yi(),Mt())}}class fo{constructor(e,i,s,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fo(s,i,Mt(),Mt(),Mt())}}class ac{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class m0{constructor(e,i){this.targetId=e,this.Ce=i}}class g0{constructor(e,i,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class x_{constructor(){this.ve=0,this.Fe=L_(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),s=Mt();return this.Fe.forEach(((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:pt(38017,{changeType:f})}})),new fo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=L_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Cb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yi(),this.Je=Ju(),this.He=Ju(),this.Ye=new le(Nt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const f=o.target;if(gd(f))if(s===0){const d=new dt(f.path);this.et(i,d,Je.newNoDocument(d,_t.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:f=0}=i;let d,g;try{d=La(s).toUint8Array()}catch(_){if(_ instanceof Pv)return Rs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Hd(d,o,f)}catch(_){return Rs(_ instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((f=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(g)||(this.et(i,f,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((f,d)=>{const g=this.ot(d);if(g){if(f.current&&gd(g.target)){const _=new dt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,e))}f.Be&&(i.set(d,f.ke()),f.qe())}}));let s=Mt();this.He.forEach(((f,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(e)));const o=new Oc(e,i,this.Ye,this.je,s);return this.je=Yi(),this.Je=Ju(),this.He=Ju(),this.Ye=new le(Nt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new x_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Me(Nt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Me(Nt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ju(){return new le(dt.comparator)}function L_(){return new le(dt.comparator)}const Db={asc:"ASCENDING",desc:"DESCENDING"},Ib={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vb={and:"AND",or:"OR"};class Nb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function yd(r,e){return r.useProto3Json||wc(e)?e:{value:e}}function _c(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Mb(r,e){return _c(r,e.toTimestamp())}function Ei(r){return Ht(!!r,49232),_t.fromTimestamp((function(i){const s=xa(i);return new ne(s.seconds,s.nanos)})(r))}function Gd(r,e){return _d(r,e).canonicalString()}function _d(r,e){const i=(function(o){return new Wt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function y0(r){const e=Wt.fromString(r);return Ht(A0(e),10190,{key:e.toString()}),e}function vd(r,e){return Gd(r.databaseId,e.path)}function $h(r,e){const i=y0(e);if(i.get(1)!==r.databaseId.projectId)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(v0(i))}function _0(r,e){return Gd(r.databaseId,e)}function Ob(r){const e=y0(r);return e.length===4?Wt.emptyPath():v0(e)}function Ed(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function v0(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function U_(r,e,i){return{name:vd(r,e),fields:i.value.mapValue.fields}}function xb(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=(function(y,T){return y.useProto3Json?(Ht(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?Y.UNKNOWN:d0(y.code);return new at(T,y.message||"")})(d);i=new g0(s,o,f,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=$h(r,s.document.name),f=Ei(s.document.updateTime),d=s.document.createTime?Ei(s.document.createTime):_t.min(),g=new cn({mapValue:{fields:s.document.fields}}),_=Je.newFoundDocument(o,f,d,g),y=s.targetIds||[],T=s.removedTargetIds||[];i=new ac(y,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=$h(r,s.document),f=s.readTime?Ei(s.readTime):_t.min(),d=Je.newNoDocument(o,f),g=s.removedTargetIds||[];i=new ac([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=$h(r,s.document),f=s.removedTargetIds||[];i=new ac([],f,o,null)}else{if(!("filter"in e))return pt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:f}=s,d=new Sb(o,f),g=s.targetId;i=new m0(g,d)}}return i}function Lb(r,e){let i;if(e instanceof co)i={update:U_(r,e.key,e.value)};else if(e instanceof h0)i={delete:vd(r,e.key)};else if(e instanceof ja)i={update:U_(r,e.key,e.data),updateMask:Gb(e.fieldMask)};else{if(!(e instanceof Eb))return pt(16599,{Vt:e.type});i={verify:vd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(f,d){const g=d.transform;if(g instanceof pc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof so)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof yc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,f){return f.updateTime!==void 0?{updateTime:Mb(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:pt(27497)})(r,e.precondition)),i}function Ub(r,e){return r&&r.length>0?(Ht(e!==void 0,14353),r.map((i=>(function(o,f){let d=o.updateTime?Ei(o.updateTime):Ei(f);return d.isEqual(_t.min())&&(d=Ei(f)),new yb(d,o.transformResults||[])})(i,e)))):[]}function zb(r,e){return{documents:[_0(r,e.path)]}}function Bb(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=_0(r,o);const f=(function(y){if(y.length!==0)return T0(Xn.create(y,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(y){if(y.length!==0)return y.map((T=>(function(V){return{field:vs(V.field),direction:kb(V.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=yd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function Pb(r){let e=Ob(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let f=[];i.where&&(f=(function(S){const V=E0(S);return V instanceof Xn&&Xv(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(H){return new ro(Es(H.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let V;return V=typeof S=="object"?S.value:S,wc(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(S){const V=!!S.before,j=S.values||[];return new mc(j,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const V=!S.before,j=S.values||[];return new mc(j,V)})(i.endAt)),ab(e,o,d,f,g,"F",_,y)}function jb(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function E0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Es(i.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Es(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Es(i.unaryFilter.field);return we.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Es(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return we.create(Es(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Xn.create(i.compositeFilter.filters.map((s=>E0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function kb(r){return Db[r]}function qb(r){return Ib[r]}function Hb(r){return Vb[r]}function vs(r){return{fieldPath:r.canonicalString()}}function Es(r){return Fe.fromServerFormat(r.fieldPath)}function T0(r){return r instanceof we?(function(i){if(i.op==="=="){if(S_(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NAN"}};if(A_(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(S_(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NOT_NAN"}};if(A_(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(i.field),op:qb(i.op),value:i.value}}})(r):r instanceof Xn?(function(i){const s=i.getFilters().map((o=>T0(o)));return s.length===1?s[0]:{compositeFilter:{op:Hb(i.op),filters:s}}})(r):pt(54877,{filter:r})}function Gb(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function A0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ca{constructor(e,i,s,o,f=_t.min(),d=_t.min(),g=Ye.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fb{constructor(e){this.yt=e}}function Qb(r){const e=Pb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gc(e,e.limit,"L"):e}class Yb{constructor(){this.Cn=new Kb}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Oa.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Oa.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class Kb{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Me(Wt.comparator),f=!o.has(s);return this.index[i]=o.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Me(Wt.comparator)).toArray()}}const z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},S0=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(S0,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Is{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Is(0)}static cr(){return new Is(-1)}}const B_="LruGarbageCollector",Xb=1048576;function P_([r,e],[i,s]){const o=Nt(r,i);return o===0?Nt(e,s):o}class Zb{constructor(e){this.Ir=e,this.buffer=new Me(P_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();P_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Jb{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){st(B_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xs(i)?st(B_,"Ignoring IndexedDB error during garbage collection: ",i):await Os(i)}await this.Vr(3e5)}))}}class $b{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Rc.ce);const s=new Zb(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(z_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,f,d,g,_,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,g=Date.now(),this.removeTargets(e,s,i)))).next((S=>(f=S,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),ys()<=Ut.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${f} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:S}))))}}function Wb(r,e){return new $b(r,e)}class t2{constructor(){this.changes=new Rr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class e2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class n2{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&$l(s.mutation,o,En.empty(),ne.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Mt()){const o=Er();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((f=>{let d=Fl();return f.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Er();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Mt())))}populateOverlays(e,i,s){const o=[];return s.forEach((f=>{i.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(e,o).next((f=>{f.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let f=Yi();const d=Jl(),g=(function(){return Jl()})();return i.forEach(((_,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof ja)?f=f.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),$l(T.mutation,y,T.mutation.getFieldMask(),ne.now())):d.set(y.key,En.empty())})),this.recalculateAndSaveOverlays(e,f).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>g.set(y,new e2(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=Jl();let o=new le(((d,g)=>d-g)),f=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=s.get(_)||En.empty();T=g.applyToLocalView(y,T),s.set(_,T);const S=(o.get(g.batchId)||Mt()).add(_);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,T=_.value,S=a0();T.forEach((V=>{if(!f.has(V)){const j=c0(i.get(V),s.get(V));j!==null&&S.set(V,j),f=f.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Wv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-f.size):Z.resolve(Er());let g=eo,_=f;return d.next((y=>Z.forEach(y,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),f.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((V=>{_=_.insert(T,V)}))))).next((()=>this.populateOverlays(e,y,f))).next((()=>this.computeViews(e,_,y,Mt()))).next((T=>({batchId:g,changes:i0(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next((s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const f=i.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,f).next((g=>Z.forEach(g,(_=>{const y=(function(S,V){return new Ls(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(f));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((T=>{T.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,o)))).next((d=>{f.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Je.newInvalidDocument(T)))}));let g=Fl();return d.forEach(((_,y)=>{const T=f.get(_);T!==void 0&&$l(T.mutation,y,En.empty(),ne.now()),Vc(i,y)&&(g=g.insert(_,y))})),g}))}}class i2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Qb(o.bundledQuery),readTime:Ei(o.readTime)}})(i)),Z.resolve()}}class a2{constructor(){this.overlays=new le(dt.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Er();return Z.forEach(i,(o=>this.getOverlay(e,o).next((f=>{f!==null&&s.set(o,f)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,f)=>{this.St(e,i,f)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=Er(),f=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===f&&_.largestBatchId>s&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let f=new le(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=f.get(y.largestBatchId);T===null&&(T=Er(),f=f.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Er(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Ab(i,s));let f=this.qr.get(i);f===void 0&&(f=Mt(),this.qr.set(i,f)),this.qr.set(i,f.add(s.key))}}class r2{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Fd{constructor(){this.Qr=new Me(Ue.$r),this.Ur=new Me(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Ue(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new dt(new Wt([])),s=new Ue(i,e),o=new Ue(i,e+1),f=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),f.push(d.key)})),f}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new dt(new Wt([])),s=new Ue(i,e),o=new Ue(i,e+1);let f=Mt();return this.Ur.forEachInRange([s,o],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new Ue(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return dt.comparator(e.key,i.key)||Nt(e.Yr,i.Yr)}static Kr(e,i){return Nt(e.Yr,i.Yr)||dt.comparator(e.key,i.key)}}class s2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Ue.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Tb(f,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Ue(g.key,f)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),f=o<0?0:o;return Z.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Ud:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([s,o],(d=>{const g=this.Xr(d.Yr);f.push(g)})),Z.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Me(Nt);return i.forEach((o=>{const f=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],(g=>{s=s.add(g.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let f=s;dt.isDocumentKey(f)||(f=f.child(""));const d=new Ue(new dt(f),0);let g=new Me(Nt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(o=>{const f=new Ue(o.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Ue(i,0),o=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class l2{constructor(e){this.ri=e,this.docs=(function(){return new le(dt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),f=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(e,i){let s=Yi();return i.forEach((o=>{const f=this.docs.get(o);s=s.insert(o,f?f.document.mutableCopy():Je.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let f=Yi();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||US(LS(T),s)<=0||(o.has(T.key)||Vc(i,T))&&(f=f.insert(T.key,T.mutableCopy()))}return Z.resolve(f)}getAllFromCollectionGroup(e,i,s,o){pt(9500)}ii(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new o2(this)}getSize(e){return Z.resolve(this.size)}}class o2 extends t2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class u2{constructor(e){this.persistence=e,this.si=new Rr((i=>Pd(i)),jd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Fd,this.targetCount=0,this.ai=Is.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Is(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const f=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(f).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach((d=>{f.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class b0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Rc(0),this.li=!1,this.li=!0,this.hi=new r2,this.referenceDelegate=e(this),this.Pi=new u2(this),this.indexManager=new Yb,this.remoteDocumentCache=(function(o){return new l2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Fb(i),this.Ii=new i2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new a2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new s2(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const o=new c2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((f=>this.referenceDelegate.di(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Ai(e,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class c2 extends BS{constructor(e){super(),this.currentSequenceNumber=e}}class Qd{constructor(e){this.persistence=e,this.Ri=new Fd,this.Vi=null}static mi(e){return new Qd(e)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((f=>this.fi.add(f.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const o=dt.fromPath(s);return this.gi(e,o).next((f=>{f||i.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class vc{constructor(e,i){this.persistence=e,this.pi=new Rr((s=>kS(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Wb(this,i)}static mi(e,i){return new vc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((s,o)=>this.br(e,s,o).next((f=>f?Z.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,f.removeEntry(d,_t.min()))})))).next((()=>f.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ec(e.data.value)),i}br(e,i,s){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Mt(),o=Mt();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new Yd(e,i.fromCache,s,o)}}class f2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class h2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aA()?8:PS(nA())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const f={result:null};return this.ys(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ws(e,i,o,s).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new f2;return this.Ss(e,i,d).next((g=>{if(f.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>f.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(ys()<=Ut.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",_s(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(ys()<=Ut.DEBUG&&st("QueryEngine","Query:",_s(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ys()<=Ut.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",_s(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(i))):Z.resolve())}ys(e,i){if(C_(i))return Z.resolve(null);let s=vi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=gc(i,null,"F"),s=vi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((f=>{const d=Mt(...f);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(e,gc(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,s,o){return C_(i)||o.isEqual(_t.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((f=>{const d=this.Ds(i,f);return this.Cs(i,d,s,o)?Z.resolve(null):(ys()<=Ut.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_s(i)),this.vs(e,d,i,xS(o,eo)).next((g=>g)))}))}Ds(e,i){let s=new Me(e0(e));return i.forEach(((o,f)=>{Vc(e,f)&&(s=s.add(f))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Ss(e,i,s){return ys()<=Ut.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",_s(i)),this.ps.getDocumentsMatchingQuery(e,i,Oa.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}const Kd="LocalStore",d2=3e8;class m2{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new le(Nt),this.xs=new Rr((f=>Pd(f)),jd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function g2(r,e,i,s){return new m2(r,e,i,s)}async function R0(r,e){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((f=>(o=f,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((f=>{const d=[],g=[];let _=Mt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of f){g.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(s,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function p2(r,e){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),f=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,T){const S=y.batch,V=S.keys();let j=Z.resolve();return V.forEach((H=>{j=j.next((()=>T.getEntry(_,H))).next(($=>{const J=y.docVersions.get(H);Ht(J!==null,48541),$.version.compareTo(J)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),T.addEntry($)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,s,e,f).next((()=>f.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Mt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function w0(r){const e=Et(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function y2(r,e){const i=Et(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((T,S)=>{const V=o.get(S);if(!V)return;g.push(i.Pi.removeMatchingKeys(f,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(f,T.addedDocuments,S))));let j=V.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(S)!==null?j=j.withResumeToken(Ye.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,s)),o=o.insert(S,j),(function($,J,rt){return $.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=d2?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(V,j,T)&&g.push(i.Pi.updateTargetData(f,j))}));let _=Yi(),y=Mt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(f,T))})),g.push(_2(f,d,e.documentUpdates).next((T=>{_=T.ks,y=T.qs}))),!s.isEqual(_t.min())){const T=i.Pi.getLastRemoteSnapshotVersion(f).next((S=>i.Pi.setTargetsMetadata(f,f.currentSequenceNumber,s)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,_,y))).next((()=>_))})).then((f=>(i.Ms=o,f)))}function _2(r,e,i){let s=Mt(),o=Mt();return i.forEach((f=>s=s.add(f))),e.getEntries(r,s).next((f=>{let d=Yi();return i.forEach(((g,_)=>{const y=f.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):st(Kd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function v2(r,e){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ud),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function E2(r,e){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((f=>f?(o=f,Z.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Ca(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Td(r,e,i){const s=Et(r),o=s.Ms.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xs(d))throw d;st(Kd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function j_(r,e,i){const s=Et(r);let o=_t.min(),f=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const S=Et(_),V=S.xs.get(T);return V!==void 0?Z.resolve(S.Ms.get(V)):S.Pi.getTargetData(y,T)})(s,d,vi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{f=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:_t.min(),i?f:Mt()))).next((g=>(T2(s,sb(e),g),{documents:g,Qs:f})))))}function T2(r,e,i){let s=r.Os.get(e)||_t.min();i.forEach(((o,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)})),r.Os.set(e,s)}class k_{constructor(){this.activeTargetIds=hb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A2{constructor(){this.Mo=new k_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new k_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class S2{Oo(e){}shutdown(){}}const q_="ConnectivityMonitor";class H_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(q_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){st(q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $u=null;function Ad(){return $u===null?$u=(function(){return 268435456+Math.round(2147483648*Math.random())})():$u++,"0x"+$u.toString(16)}const Wh="RestConnection",b2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class R2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===hc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,f){const d=Ad(),g=this.zo(e,i.toUriEncodedString());st(Wh,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,f);const{host:y}=new URL(g),T=Md(y);return this.Jo(e,g,_,s,T).then((S=>(st(Wh,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Rs(Wh,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(e,i,s,o,f,d){return this.Go(e,i,s,o,f)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ms})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,f)=>e[f]=o)),s&&s.headers.forEach(((o,f)=>e[f]=o))}zo(e,i){const s=b2[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class w2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xe="WebChannelConnection";class C2 extends R2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,f){const d=Ad();return new Promise(((g,_)=>{const y=new Dv;y.setWithCredentials(!0),y.listenOnce(Iv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case tc.NO_ERROR:const S=y.getResponseJson();st(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case tc.TIMEOUT:st(Xe,`RPC '${e}' ${d} timed out`),_(new at(Y.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const V=y.getStatus();if(st(Xe,`RPC '${e}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const H=j?.error;if(H&&H.status&&H.message){const $=(function(rt){const ut=rt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ut)>=0?ut:Y.UNKNOWN})(H.status);_(new at($,H.message))}else _(new at(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new at(Y.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Xe,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);st(Xe,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",T,s,15)}))}T_(e,i,s){const o=Ad(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Mv(),g=Nv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const T=f.join("");st(Xe,`Creating RPC '${e}' stream ${o}: ${T}`,_);const S=d.createWebChannel(T,_);this.I_(S);let V=!1,j=!1;const H=new w2({Yo:J=>{j?st(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(V||(st(Xe,`Opening RPC '${e}' stream ${o} transport.`),S.open(),V=!0),st(Xe,`RPC '${e}' stream ${o} sending:`,J),S.send(J))},Zo:()=>S.close()}),$=(J,rt,ut)=>{J.listen(rt,(ft=>{try{ut(ft)}catch(wt){setTimeout((()=>{throw wt}),0)}}))};return $(S,Gl.EventType.OPEN,(()=>{j||(st(Xe,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),$(S,Gl.EventType.CLOSE,(()=>{j||(j=!0,st(Xe,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(S))})),$(S,Gl.EventType.ERROR,(J=>{j||(j=!0,Rs(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),H.a_(new at(Y.UNAVAILABLE,"The operation could not be completed")))})),$(S,Gl.EventType.MESSAGE,(J=>{if(!j){const rt=J.data[0];Ht(!!rt,16349);const ut=rt,ft=ut?.error||ut[0]?.error;if(ft){st(Xe,`RPC '${e}' stream ${o} received error:`,ft);const wt=ft.status;let jt=(function(b){const R=Re[b];if(R!==void 0)return d0(R)})(wt),Rt=ft.message;jt===void 0&&(jt=Y.INTERNAL,Rt="Unknown error status: "+wt+" with message "+ft.message),j=!0,H.a_(new at(jt,Rt)),S.close()}else st(Xe,`RPC '${e}' stream ${o} received:`,rt),H.u_(rt)}})),$(g,Vv.STAT_EVENT,(J=>{J.stat===cd.PROXY?st(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===cd.NOPROXY&&st(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function td(){return typeof document<"u"?document:null}function xc(r){return new Nb(r,!0)}class C0{constructor(e,i,s=1e3,o=1.5,f=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const G_="PersistentStream";class D0{constructor(e,i,s,o,f,d,g,_){this.Mi=e,this.S_=s,this.b_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new C0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new at(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return st(G_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(st(G_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class D2 extends D0{constructor(e,i,s,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=xb(this.serializer,e),s=(function(f){if(!("targetChange"in f))return _t.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ei(d.readTime):_t.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Ed(this.serializer),i.addTarget=(function(f,d){let g;const _=d.target;if(g=gd(_)?{documents:zb(f,_)}:{query:Bb(f,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=p0(f,d.resumeToken);const y=yd(f,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=_c(f,d.snapshotVersion.toTimestamp());const y=yd(f,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=jb(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Ed(this.serializer),i.removeTarget=e,this.q_(i)}}class I2 extends D0{constructor(e,i,s,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Ub(e.writeResults,e.commitTime),s=Ei(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Ed(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>Lb(this.serializer,s)))};this.q_(i)}}class V2{}class N2 extends V2{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Go(e,_d(i,s),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new at(Y.UNKNOWN,f.toString())}))}Ho(e,i,s,o,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,_d(i,s),o,d,g,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class M2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Sr="RemoteStore";class O2{constructor(e,i,s,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{wr(this)&&(st(Sr,"Restarting streams for network reachability change."),await(async function(_){const y=Et(_);y.Ea.add(4),await ho(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Lc(y)})(this))}))})),this.Ra=new M2(s,o)}}async function Lc(r){if(wr(r))for(const e of r.da)await e(!0)}async function ho(r){for(const e of r.da)await e(!1)}function I0(r,e){const i=Et(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),$d(i)?Jd(i):Us(i).O_()&&Zd(i,e))}function Xd(r,e){const i=Et(r),s=Us(i);i.Ia.delete(e),s.O_()&&V0(i,e),i.Ia.size===0&&(s.O_()?s.L_():wr(i)&&i.Ra.set("Unknown"))}function Zd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Us(r).Y_(e)}function V0(r,e){r.Va.Ue(e),Us(r).Z_(e)}function Jd(r){r.Va=new Cb({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Us(r).start(),r.Ra.ua()}function $d(r){return wr(r)&&!Us(r).x_()&&r.Ia.size>0}function wr(r){return Et(r).Ea.size===0}function N0(r){r.Va=void 0}async function x2(r){r.Ra.set("Online")}async function L2(r){r.Ia.forEach(((e,i)=>{Zd(r,e)}))}async function U2(r,e){N0(r),$d(r)?(r.Ra.ha(e),Jd(r)):r.Ra.set("Unknown")}async function z2(r,e,i){if(r.Ra.set("Online"),e instanceof g0&&e.state===2&&e.cause)try{await(async function(o,f){const d=f.cause;for(const g of f.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(s){st(Sr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ec(r,s)}else if(e instanceof ac?r.Va.Ze(e):e instanceof m0?r.Va.st(e):r.Va.tt(e),!i.isEqual(_t.min()))try{const s=await w0(r.localStore);i.compareTo(s)>=0&&await(function(f,d){const g=f.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=f.Ia.get(y);T&&f.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const T=f.Ia.get(_);if(!T)return;f.Ia.set(_,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),V0(f,_);const S=new Ca(T.target,_,y,T.sequenceNumber);Zd(f,S)})),f.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){st(Sr,"Failed to raise snapshot:",s),await Ec(r,s)}}async function Ec(r,e,i){if(!xs(e))throw e;r.Ea.add(1),await ho(r),r.Ra.set("Offline"),i||(i=()=>w0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Sr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Lc(r)}))}function M0(r,e){return e().catch((i=>Ec(r,i,e)))}async function Uc(r){const e=Et(r),i=za(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ud;for(;B2(e);)try{const o=await v2(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,P2(e,o)}catch(o){await Ec(e,o)}O0(e)&&x0(e)}function B2(r){return wr(r)&&r.Ta.length<10}function P2(r,e){r.Ta.push(e);const i=za(r);i.O_()&&i.X_&&i.ea(e.mutations)}function O0(r){return wr(r)&&!za(r).x_()&&r.Ta.length>0}function x0(r){za(r).start()}async function j2(r){za(r).ra()}async function k2(r){const e=za(r);for(const i of r.Ta)e.ea(i.mutations)}async function q2(r,e,i){const s=r.Ta.shift(),o=qd.from(s,e,i);await M0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Uc(r)}async function H2(r,e){e&&za(r).X_&&await(async function(s,o){if((function(d){return bb(d)&&d!==Y.ABORTED})(o.code)){const f=s.Ta.shift();za(s).B_(),await M0(s,(()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o))),await Uc(s)}})(r,e),O0(r)&&x0(r)}async function F_(r,e){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),st(Sr,"RemoteStore received new credentials");const s=wr(i);i.Ea.add(3),await ho(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Lc(i)}async function G2(r,e){const i=Et(r);e?(i.Ea.delete(2),await Lc(i)):e||(i.Ea.add(2),await ho(i),i.Ra.set("Unknown"))}function Us(r){return r.ma||(r.ma=(function(i,s,o){const f=Et(i);return f.sa(),new D2(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Xo:x2.bind(null,r),t_:L2.bind(null,r),r_:U2.bind(null,r),H_:z2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),$d(r)?Jd(r):r.Ra.set("Unknown")):(await r.ma.stop(),N0(r))}))),r.ma}function za(r){return r.fa||(r.fa=(function(i,s,o){const f=Et(i);return f.sa(),new I2(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:j2.bind(null,r),r_:H2.bind(null,r),ta:k2.bind(null,r),na:q2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Uc(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Sr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Wd{constructor(e,i,s,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=f,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,f){const d=Date.now()+s,g=new Wd(e,i,d,o,f);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tm(r,e){if(Qi("AsyncQueue",`${e}: ${r}`),xs(r))return new at(Y.UNAVAILABLE,`${e}: ${r}`);throw r}class As{static emptySet(e){return new As(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=Fl(),this.sortedSet=new le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new As;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class Q_{constructor(){this.ga=new le(dt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):pt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Vs{constructor(e,i,s,o,f,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,f){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Vs(e,i,As.emptySet(i),d,s,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class F2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Q2{constructor(){this.queries=Y_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Et(i),f=o.queries;o.queries=Y_(),f.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(s)}))})(this,new at(Y.ABORTED,"Firestore shutting down"))}}function Y_(){return new Rr((r=>t0(r)),Ic)}async function L0(r,e){const i=Et(r);let s=3;const o=e.query;let f=i.queries.get(o);f?!f.ba()&&e.Da()&&(s=2):(f=new F2,s=e.Da()?0:1);try{switch(s){case 0:f.wa=await i.onListen(o,!0);break;case 1:f.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=tm(d,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,f),f.Sa.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&em(i)}async function U0(r,e){const i=Et(r),s=e.query;let o=3;const f=i.queries.get(s);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?o=e.Da()?0:1:!f.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Y2(r,e){const i=Et(r);let s=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&em(i)}function K2(r,e,i){const s=Et(r),o=s.queries.get(e);if(o)for(const f of o.Sa)f.onError(i);s.queries.delete(e)}function em(r){r.Ca.forEach((e=>{e.next()}))}var Sd,K_;(K_=Sd||(Sd={})).Ma="default",K_.Cache="cache";class z0{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Vs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sd.Cache}}class B0{constructor(e){this.key=e}}class P0{constructor(e){this.key=e}}class X2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=e0(e),this.tu=new As(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new Q_,o=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const V=o.get(T),j=Vc(this.query,S)?S:null,H=!!V&&this.mutatedKeys.has(V.key),$=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let J=!1;V&&j?V.data.isEqual(j.data)?H!==$&&(s.track({type:3,doc:j}),J=!0):this.su(V,j)||(s.track({type:2,doc:j}),J=!0,(_&&this.eu(j,_)>0||y&&this.eu(j,y)<0)&&(g=!0)):!V&&j?(s.track({type:0,doc:j}),J=!0):V&&!j&&(s.track({type:1,doc:V}),J=!0,(_||y)&&(g=!0)),J&&(j?(d=d.add(j),f=$?f.add(T):f.delete(T)):(d=d.delete(T),f=f.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),f=f.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:g,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(j,H){const $=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:J})}};return $(j)-$(H)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Vs(this.query,e.tu,f,d,e.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Q_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new P0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new B0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Vs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const nm="SyncEngine";class Z2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class J2{constructor(e){this.key=e,this.hu=!1}}class $2{constructor(e,i,s,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Rr((g=>t0(g)),Ic),this.Iu=new Map,this.Eu=new Set,this.du=new le(dt.comparator),this.Au=new Map,this.Ru=new Fd,this.Vu={},this.mu=new Map,this.fu=Is.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function W2(r,e,i=!0){const s=F0(r);let o;const f=s.Tu.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.lu()):o=await j0(s,e,i,!0),o}async function tR(r,e){const i=F0(r);await j0(i,e,!0,!1)}async function j0(r,e,i,s){const o=await E2(r.localStore,vi(e)),f=o.targetId,d=r.sharedClientState.addLocalQueryTarget(f,i);let g;return s&&(g=await eR(r,e,f,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&I0(r.remoteStore,o),g}async function eR(r,e,i,s,o){r.pu=(S,V,j)=>(async function($,J,rt,ut){let ft=J.view.ru(rt);ft.Cs&&(ft=await j_($.localStore,J.query,!1).then((({documents:D})=>J.view.ru(D,ft))));const wt=ut&&ut.targetChanges.get(J.targetId),jt=ut&&ut.targetMismatches.get(J.targetId)!=null,Rt=J.view.applyChanges(ft,$.isPrimaryClient,wt,jt);return Z_($,J.targetId,Rt.au),Rt.snapshot})(r,S,V,j);const f=await j_(r.localStore,e,!0),d=new X2(e,f.Qs),g=d.ru(f.documents),_=fo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,_);Z_(r,i,y.au);const T=new Z2(e,i,d);return r.Tu.set(e,T),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function nR(r,e,i){const s=Et(r),o=s.Tu.get(e),f=s.Iu.get(o.targetId);if(f.length>1)return s.Iu.set(o.targetId,f.filter((d=>!Ic(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Td(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Xd(s.remoteStore,o.targetId),bd(s,o.targetId)})).catch(Os)):(bd(s,o.targetId),await Td(s.localStore,o.targetId,!0))}async function iR(r,e){const i=Et(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Xd(i.remoteStore,s.targetId))}async function aR(r,e,i){const s=fR(r);try{const o=await(function(d,g){const _=Et(d),y=ne.now(),T=g.reduce(((j,H)=>j.add(H.key)),Mt());let S,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let H=Yi(),$=Mt();return _.Ns.getEntries(j,T).next((J=>{H=J,H.forEach(((rt,ut)=>{ut.isValidDocument()||($=$.add(rt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(j,H))).next((J=>{S=J;const rt=[];for(const ut of g){const ft=vb(ut,S.get(ut.key).overlayedDocument);ft!=null&&rt.push(new ja(ut.key,ft,Qv(ft.value.mapValue),Kn.exists(!0)))}return _.mutationQueue.addMutationBatch(j,y,rt,g)})).next((J=>{V=J;const rt=J.applyToLocalDocumentSet(S,$);return _.documentOverlayCache.saveOverlays(j,J.batchId,rt)}))})).then((()=>({batchId:V.batchId,changes:i0(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new le(Nt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,i),await mo(s,o.changes),await Uc(s.remoteStore)}catch(o){const f=tm(o,"Failed to persist write");i.reject(f)}}async function k0(r,e){const i=Et(r);try{const s=await y2(i.localStore,e);e.targetChanges.forEach(((o,f)=>{const d=i.Au.get(f);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await mo(i,s,e)}catch(s){await Os(s)}}function X_(r,e,i){const s=Et(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((f,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=Et(d);_.onlineState=g;let y=!1;_.queries.forEach(((T,S)=>{for(const V of S.Sa)V.va(g)&&(y=!0)})),y&&em(_)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function rR(r,e,i){const s=Et(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),f=o&&o.key;if(f){let d=new le(dt.comparator);d=d.insert(f,Je.newNoDocument(f,_t.min()));const g=Mt().add(f),_=new Oc(_t.min(),new Map,new le(Nt),d,g);await k0(s,_),s.du=s.du.remove(f),s.Au.delete(e),im(s)}else await Td(s.localStore,e,!1).then((()=>bd(s,e,i))).catch(Os)}async function sR(r,e){const i=Et(r),s=e.batch.batchId;try{const o=await p2(i.localStore,e);H0(i,s,null),q0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await mo(i,o)}catch(o){await Os(o)}}async function lR(r,e,i){const s=Et(r);try{const o=await(function(d,g){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(Ht(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(s.localStore,e);H0(s,e,i),q0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await mo(s,o)}catch(o){await Os(o)}}function q0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function H0(r,e,i){const s=Et(r);let o=s.Vu[s.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function bd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||G0(r,s)}))}function G0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Xd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),im(r))}function Z_(r,e,i){for(const s of i)s instanceof B0?(r.Ru.addReference(s.key,e),oR(r,s)):s instanceof P0?(st(nm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||G0(r,s.key)):pt(19791,{wu:s})}function oR(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(st(nm,"New document in limbo: "+i),r.Eu.add(s),im(r))}function im(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new dt(Wt.fromString(e)),s=r.fu.next();r.Au.set(s,new J2(i)),r.du=r.du.insert(i,s),I0(r.remoteStore,new Ca(vi(Dc(i.path)),s,"TargetPurposeLimboResolution",Rc.ce))}}async function mo(r,e,i){const s=Et(r),o=[],f=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,_)=>{d.push(s.pu(_,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Yd.As(_.targetId,y);f.push(T)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(_,y){const T=Et(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(V=>Z.forEach(V.Es,(j=>T.persistence.referenceDelegate.addReference(S,V.targetId,j))).next((()=>Z.forEach(V.ds,(j=>T.persistence.referenceDelegate.removeReference(S,V.targetId,j)))))))))}catch(S){if(!xs(S))throw S;st(Kd,"Failed to update sequence numbers: "+S)}for(const S of y){const V=S.targetId;if(!S.fromCache){const j=T.Ms.get(V),H=j.snapshotVersion,$=j.withLastLimboFreeSnapshotVersion(H);T.Ms=T.Ms.insert(V,$)}}})(s.localStore,f))}async function uR(r,e){const i=Et(r);if(!i.currentUser.isEqual(e)){st(nm,"User change. New user:",e.toKey());const s=await R0(i.localStore,e);i.currentUser=e,(function(f,d){f.mu.forEach((g=>{g.forEach((_=>{_.reject(new at(Y.CANCELLED,d))}))})),f.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mo(i,s.Ls)}}function cR(r,e){const i=Et(r),s=i.Au.get(e);if(s&&s.hu)return Mt().add(s.key);{let o=Mt();const f=i.Iu.get(e);if(!f)return o;for(const d of f){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function F0(r){const e=Et(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=k0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rR.bind(null,e),e.Pu.H_=Y2.bind(null,e.eventManager),e.Pu.yu=K2.bind(null,e.eventManager),e}function fR(r){const e=Et(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lR.bind(null,e),e}class Tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return g2(this.persistence,new h2,e.initialUser,this.serializer)}Cu(e){return new b0(Qd.mi,this.serializer)}Du(e){return new A2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tc.provider={build:()=>new Tc};class hR extends Tc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof vc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Jb(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new b0((s=>vc.mi(s,i)),this.serializer)}}class Rd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>X_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uR.bind(null,this.syncEngine),await G2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Q2})()}createDatastore(e){const i=xc(e.databaseInfo.databaseId),s=(function(f){return new C2(f)})(e.databaseInfo);return(function(f,d,g,_){return new N2(f,d,g,_)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,f,d,g){return new O2(s,o,f,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>X_(this.syncEngine,i,0)),(function(){return H_.v()?new H_:new S2})())}createSyncEngine(e,i){return(function(o,f,d,g,_,y,T){const S=new $2(o,f,d,g,_,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Et(i);st(Sr,"RemoteStore shutting down."),s.Ea.add(5),await ho(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rd.provider={build:()=>new Rd};class Q0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ba="FirestoreClient";class dR{constructor(e,i,s,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=Ld.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,(async d=>{st(Ba,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st(Ba,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=tm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ed(r,e){r.asyncQueue.verifyOperationInProgress(),st(Ba,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await R0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function J_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await mR(r);st(Ba,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>F_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>F_(e.remoteStore,o))),r._onlineComponents=e}async function mR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Ba,"Using user provided OfflineComponentProvider");try{await ed(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Rs("Error using user provided cache. Falling back to memory cache: "+i),await ed(r,new Tc)}}else st(Ba,"Using default OfflineComponentProvider"),await ed(r,new hR(void 0));return r._offlineComponents}async function Y0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Ba,"Using user provided OnlineComponentProvider"),await J_(r,r._uninitializedComponentsProvider._online)):(st(Ba,"Using default OnlineComponentProvider"),await J_(r,new Rd))),r._onlineComponents}function gR(r){return Y0(r).then((e=>e.syncEngine))}async function wd(r){const e=await Y0(r),i=e.eventManager;return i.onListen=W2.bind(null,e.syncEngine),i.onUnlisten=nR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=tR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=iR.bind(null,e.syncEngine),i}function pR(r,e,i={}){const s=new Na;return r.asyncQueue.enqueueAndForget((async()=>(function(f,d,g,_,y){const T=new Q0({next:V=>{T.Nu(),d.enqueueAndForget((()=>U0(f,S)));const j=V.docs.has(g);!j&&V.fromCache?y.reject(new at(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&V.fromCache&&_&&_.source==="server"?y.reject(new at(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(V)},error:V=>y.reject(V)}),S=new z0(Dc(g.path),T,{includeMetadataChanges:!0,qa:!0});return L0(f,S)})(await wd(r),r.asyncQueue,e,i,s))),s.promise}function K0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const $_=new Map;const X0="firestore.googleapis.com",W_=!0;class tv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=X0,this.ssl=W_}else this.host=e.host,this.ssl=e.ssl??W_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=S0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xb)throw new at(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new AS;switch(s.type){case"firstParty":return new wS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=$_.get(i);s&&(st("ComponentProvider","Removing Datastore"),$_.delete(i),s.terminate())})(this),Promise.resolve()}}function yR(r,e,i,s={}){r=Yn(r,zc);const o=Md(e),f=r._getSettings(),d={...f,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(J1(`https://${g}`),eA("Firestore",!0)),f.host!==X0&&f.host!==g&&Rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...f,host:g,ssl:o,emulatorOptions:s};if(!oc(_,d)&&(r._setSettings(_),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Ze.MOCK_USER;else{y=$1(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new at(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ze(S)}r._authCredentials=new SS(new xv(y,T))}}class ka{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ka(this.firestore,e,this._query)}}class ce{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ce(this.firestore,e,this._key)}toJSON(){return{type:ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(uo(i,ce._jsonSchema))return new ce(e,s||null,new dt(Wt.fromString(i.referencePath)))}}ce._jsonSchemaVersion="firestore/documentReference/1.0",ce._jsonSchema={type:Ce("string",ce._jsonSchemaVersion),referencePath:Ce("string")};class Ma extends ka{constructor(e,i,s){super(e,i,Dc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ce(this.firestore,null,new dt(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function Z0(r,e,...i){if(r=Si(r),Lv("collection","path",e),r instanceof zc){const s=Wt.fromString(e,...i);return d_(s),new Ma(r,null,s)}{if(!(r instanceof ce||r instanceof Ma))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(e,...i));return d_(s),new Ma(r.firestore,null,s)}}function go(r,e,...i){if(r=Si(r),arguments.length===1&&(e=Ld.newId()),Lv("doc","path",e),r instanceof zc){const s=Wt.fromString(e,...i);return h_(s),new ce(r,null,new dt(s))}{if(!(r instanceof ce||r instanceof Ma))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(e,...i));return h_(s),new ce(r.firestore,r instanceof Ma?r.converter:null,new dt(s))}}const ev="AsyncQueue";class nv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new C0(this,"async_queue_retry"),this._c=()=>{const s=td();s&&st(ev,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=td();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=td();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xs(e))throw e;st(ev,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Qi("INTERNAL UNHANDLED ERROR: ",iv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Wd.createAndSchedule(this,e,i,s,(f=>this.hc(f)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:iv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function iv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function av(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const f of s)if(f in o&&typeof o[f]=="function")return!0;return!1})(r,["next","error","complete"])}class br extends zc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new nv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nv(e),this._firestoreClient=void 0,await e}}}function _R(r,e){const i=typeof r=="object"?r:fS(),s=typeof r=="string"?r:hc,o=sS(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const f=X1("firestore");f&&yR(o,...f)}return o}function am(r){if(r._terminated)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vR(r),r._firestoreClient}function vR(r){const e=r._freezeSettings(),i=(function(o,f,d,g){return new GS(o,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,K0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new dR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const f=o?._online.build();return{_offline:o?._offline.build(f),_online:f}})(r._componentsProvider))}class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(Ye.fromBase64String(e))}catch(i){throw new at(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new xn(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uo(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Ce("string",xn._jsonSchemaVersion),bytes:Ce("string")};class Bc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rm{constructor(e){this._methodName=e}}class Ti{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ti._jsonSchemaVersion}}static fromJSON(e){if(uo(e,Ti._jsonSchema))return new Ti(e.latitude,e.longitude)}}Ti._jsonSchemaVersion="firestore/geoPoint/1.0",Ti._jsonSchema={type:Ce("string",Ti._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Ai{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==o[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uo(e,Ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ai(e.vectorValues);throw new at(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:Ce("string",Ai._jsonSchemaVersion),vectorValues:Ce("object")};const ER=/^__.*__$/;class TR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ja(e,this.data,this.fieldMask,i,this.fieldTransforms):new co(e,this.data,i,this.fieldTransforms)}}class J0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new ja(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function $0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class sm{constructor(e,i,s,o,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ac(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($0(this.Ac)&&ER.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||xc(e)}Cc(e,i,s,o=!1){return new sm({Ac:e,methodName:i,Dc:s,path:Fe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pc(r){const e=r._freezeSettings(),i=xc(r._databaseId);return new AR(r._databaseId,!!e.ignoreUndefinedProperties,i)}function W0(r,e,i,s,o,f={}){const d=r.Cc(f.merge||f.mergeFields?2:0,e,i,o);lm("Data must be an object, but it was:",d,s);const g=tE(s,d);let _,y;if(f.merge)_=new En(d.fieldMask),y=d.fieldTransforms;else if(f.mergeFields){const T=[];for(const S of f.mergeFields){const V=Cd(e,S,i);if(!d.contains(V))throw new at(Y.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);nE(T,V)||T.push(V)}_=new En(T),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new TR(new cn(g),_,y)}class jc extends rm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jc}}function SR(r,e,i,s){const o=r.Cc(1,e,i);lm("Data must be an object, but it was:",o,s);const f=[],d=cn.empty();Pa(s,((_,y)=>{const T=om(e,_,i);y=Si(y);const S=o.yc(T);if(y instanceof jc)f.push(T);else{const V=po(y,S);V!=null&&(f.push(T),d.set(T,V))}}));const g=new En(f);return new J0(d,g,o.fieldTransforms)}function bR(r,e,i,s,o,f){const d=r.Cc(1,e,i),g=[Cd(e,s,i)],_=[o];if(f.length%2!=0)throw new at(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<f.length;V+=2)g.push(Cd(e,f[V])),_.push(f[V+1]);const y=[],T=cn.empty();for(let V=g.length-1;V>=0;--V)if(!nE(y,g[V])){const j=g[V];let H=_[V];H=Si(H);const $=d.yc(j);if(H instanceof jc)y.push(j);else{const J=po(H,$);J!=null&&(y.push(j),T.set(j,J))}}const S=new En(y);return new J0(T,S,d.fieldTransforms)}function RR(r,e,i,s=!1){return po(i,r.Cc(s?4:3,e))}function po(r,e){if(eE(r=Si(r)))return lm("Unsupported field value:",e,r),tE(r,e);if(r instanceof rm)return(function(s,o){if(!$0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(o);f&&o.fieldTransforms.push(f)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const f=[];let d=0;for(const g of s){let _=po(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),f.push(_),d++}return{arrayValue:{values:f}}})(r,e)}return(function(s,o){if((s=Si(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return db(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=ne.fromDate(s);return{timestampValue:_c(o.serializer,f)}}if(s instanceof ne){const f=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_c(o.serializer,f)}}if(s instanceof Ti)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:p0(o.serializer,s._byteString)};if(s instanceof ce){const f=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Gd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ai)return(function(d,g){return{mapValue:{fields:{[Gv]:{stringValue:Fv},[dc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return kd(g.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${bc(s)}`)})(r,e)}function tE(r,e){const i={};return Bv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(r,((s,o)=>{const f=po(o,e.mc(s));f!=null&&(i[s]=f)})),{mapValue:{fields:i}}}function eE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof Ti||r instanceof xn||r instanceof ce||r instanceof rm||r instanceof Ai)}function lm(r,e,i){if(!eE(i)||!Uv(i)){const s=bc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Cd(r,e,i){if((e=Si(e))instanceof Bc)return e._internalPath;if(typeof e=="string")return om(r,e);throw Ac("Field path arguments must be of type string or ",r,!1,void 0,i)}const wR=new RegExp("[~\\*/\\[\\]]");function om(r,e,i){if(e.search(wR)>=0)throw Ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Bc(...e.split("."))._internalPath}catch{throw Ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Ac(r,e,i,s,o){const f=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(f||d)&&(_+=" (found",f&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new at(Y.INVALID_ARGUMENT,g+r+_)}function nE(r,e){return r.some((i=>i.isEqual(e)))}class iE{constructor(e,i,s,o,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(um("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CR extends iE{data(){return super.data()}}function um(r,e){return typeof e=="string"?om(r,e):e instanceof Bc?e._internalPath:e._delegate._internalPath}function DR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cm{}class fm extends cm{}function IR(r,e,...i){let s=[];e instanceof cm&&s.push(e),s=s.concat(i),(function(f){const d=f.filter((_=>_ instanceof dm)).length,g=f.filter((_=>_ instanceof hm)).length;if(d>1||d>0&&g>0)throw new at(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class hm extends fm{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new hm(e,i,s)}_apply(e){const i=this._parse(e);return aE(e._query,i),new ka(e.firestore,e.converter,pd(e._query,i))}_parse(e){const i=Pc(e.firestore);return(function(f,d,g,_,y,T,S){let V;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new at(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){sv(S,T);const H=[];for(const $ of S)H.push(rv(_,f,$));V={arrayValue:{values:H}}}else V=rv(_,f,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||sv(S,T),V=RR(g,d,S,T==="in"||T==="not-in");return we.create(y,T,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class dm extends cm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new dm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Xn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,f){let d=o;const g=f.getFlattenedFilters();for(const _ of g)aE(d,_),d=pd(d,_)})(e._query,i),new ka(e.firestore,e.converter,pd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mm extends fm{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new mm(e,i)}_apply(e){const i=(function(o,f,d){if(o.startAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ro(f,d)})(e._query,this._field,this._direction);return new ka(e.firestore,e.converter,(function(o,f){const d=o.explicitOrderBy.concat([f]);return new Ls(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function VR(r,e="asc"){const i=e,s=um("orderBy",r);return mm._create(s,i)}class gm extends fm{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new gm(e,i,s)}_apply(e){return new ka(e.firestore,e.converter,gc(e._query,this._limit,this._limitType))}}function NR(r){return OS("limit",r),gm._create("limit",r,"F")}function rv(r,e,i){if(typeof(i=Si(i))=="string"){if(i==="")throw new at(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wv(e)&&i.indexOf("/")!==-1)throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Wt.fromString(i));if(!dt.isDocumentKey(s))throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return T_(r,new dt(s))}if(i instanceof ce)return T_(r,i._key);throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bc(i)}.`)}function sv(r,e){if(!Array.isArray(r)||r.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aE(r,e){const i=(function(o,f){for(const d of o)for(const g of d.getFlattenedFilters())if(f.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class MR{convertValue(e,i="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(La(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Pa(e,((o,f)=>{s[o]=this.convertValue(f,i)})),s}convertVectorValue(e){const i=e.fields?.[dc].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Ai(i)}convertGeoPoint(e){return new Ti(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Cc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(no(e));default:return null}}convertTimestamp(e){const i=xa(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);Ht(A0(s),9688,{name:e});const o=new io(s.get(1),s.get(3)),f=new dt(s.popFirst(5));return o.isEqual(i)||Qi(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function rE(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Yl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tr extends iE{constructor(e,i,s,o,f,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(um("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Tr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Tr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Tr._jsonSchema={type:Ce("string",Tr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class rc extends Tr{data(e={}){return super.data(e)}}class Ss{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new rc(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new rc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>f||g.type!==3)).map((g=>{const _=new rc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:OR(g.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ss._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ld.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((f=>{f._document!==null&&(i.push(f._document),s.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),o.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}function xR(r){r=Yn(r,ce);const e=Yn(r.firestore,br);return pR(am(e),r._key).then((i=>oE(e,r,i)))}Ss._jsonSchemaVersion="firestore/querySnapshot/1.0",Ss._jsonSchema={type:Ce("string",Ss._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class sE extends MR{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ce(this.firestore,null,i)}}function LR(r,e,i){r=Yn(r,ce);const s=Yn(r.firestore,br),o=rE(r.converter,e);return pm(s,[W0(Pc(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Kn.none())])}function UR(r,e,i,...s){r=Yn(r,ce);const o=Yn(r.firestore,br),f=Pc(o);let d;return d=typeof(e=Si(e))=="string"||e instanceof Bc?bR(f,"updateDoc",r._key,e,i,s):SR(f,"updateDoc",r._key,e),pm(o,[d.toMutation(r._key,Kn.exists(!0))])}function zR(r,e){const i=Yn(r.firestore,br),s=go(r),o=rE(r.converter,e);return pm(i,[W0(Pc(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Kn.exists(!1))]).then((()=>s))}function lE(r,...e){r=Si(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||av(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(av(e[s])){const _=e[s];e[s]=_.next?.bind(_),e[s+1]=_.error?.bind(_),e[s+2]=_.complete?.bind(_)}let f,d,g;if(r instanceof ce)d=Yn(r.firestore,br),g=Dc(r._key.path),f={next:_=>{e[s]&&e[s](oE(d,r,_))},error:e[s+1],complete:e[s+2]};else{const _=Yn(r,ka);d=Yn(_.firestore,br),g=_._query;const y=new sE(d);f={next:T=>{e[s]&&e[s](new Ss(d,y,_,T))},error:e[s+1],complete:e[s+2]},DR(r._query)}return(function(y,T,S,V){const j=new Q0(V),H=new z0(T,j,S);return y.asyncQueue.enqueueAndForget((async()=>L0(await wd(y),H))),()=>{j.Nu(),y.asyncQueue.enqueueAndForget((async()=>U0(await wd(y),H)))}})(am(d),g,o,f)}function pm(r,e){return(function(s,o){const f=new Na;return s.asyncQueue.enqueueAndForget((async()=>aR(await gR(s),o,f))),f.promise})(am(r),e)}function oE(r,e,i){const s=i.docs.get(e._key),o=new sE(r);return new Tr(r,o,e._key,s,new Yl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ms=o})(cS),cc(new Wl("firestore",((s,{instanceIdentifier:o,options:f})=>{const d=s.getProvider("app").getImmediate(),g=new br(new bS(s.getProvider("auth-internal")),new CS(d,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new at(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(y.options.projectId,T)})(d,o),d);return f={useFetchStreams:i,...f},g._setSettings(f),g}),"PUBLIC").setMultipleInstances(!0)),Ts(o_,u_,e),Ts(o_,u_,"esm2020")})();const He=[];for(let r=0;r<256;++r)He.push((r+256).toString(16).slice(1));function BR(r,e=0){return(He[r[e+0]]+He[r[e+1]]+He[r[e+2]]+He[r[e+3]]+"-"+He[r[e+4]]+He[r[e+5]]+"-"+He[r[e+6]]+He[r[e+7]]+"-"+He[r[e+8]]+He[r[e+9]]+"-"+He[r[e+10]]+He[r[e+11]]+He[r[e+12]]+He[r[e+13]]+He[r[e+14]]+He[r[e+15]]).toLowerCase()}let nd;const PR=new Uint8Array(16);function jR(){if(!nd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");nd=crypto.getRandomValues.bind(crypto)}return nd(PR)}const kR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lv={randomUUID:kR};function qR(r,e,i){r=r||{};const s=r.random??r.rng?.()??jR();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,BR(s)}function HR(r,e,i){return lv.randomUUID&&!r?lv.randomUUID():qR(r)}var GR="firebase",FR="12.6.0";Ts(GR,FR,"app");const QR={apiKey:"AIzaSyCTEY2U6oFIlgcKtNxcfAb9CiY2VcthUgE",authDomain:"kumakoko-kai-proto.firebaseapp.com",projectId:"kumakoko-kai-proto",storageBucket:"kumakoko-kai-proto.firebasestorage.app",messagingSenderId:"1036463501842",appId:"1:1036463501842:web:c8cd33418ee8d514119ecb"},YR=bv(QR),zs=_R(YR),KR=async()=>{const r=HR(),e=go(zs,"sessions",r),i={id:r,createdAt:Date.now(),lastUpdatedAt:Date.now(),isActive:!0,isPaused:!1};return await LR(e,i),r},XR=async r=>{const e=go(zs,"sessions",r),i=await xR(e);return i.exists()?i.data():null},ov=async(r,e)=>{const i=go(zs,"sessions",r);await UR(i,{...e,lastUpdatedAt:Date.now()})},ZR=async(r,e)=>{const i=Z0(zs,"sessions",r,"locations"),s={...e,timestamp:Date.now()};await zR(i,s)},JR=(r,e)=>{const i=go(zs,"sessions",r);return lE(i,s=>{s.exists()?e(s.data()):e(null)})},$R=(r,e,i=100)=>{const s=Z0(zs,"sessions",r,"locations"),o=IR(s,VR("timestamp","desc"),NR(i));return lE(o,f=>{const d=f.docs.map(g=>({id:g.id,...g.data()}));e(d.reverse())})},uE=r=>{const[e,i]=tt.useState(null),[s,o]=tt.useState(!0),[f,d]=tt.useState(null);tt.useEffect(()=>{if(!r){o(!1);return}o(!0);const T=JR(r,S=>{i(S),o(!1),S||d("Session not found")});return()=>{T()}},[r]);const g=tt.useCallback(async()=>{try{o(!0);const T=await KR(),S=await XR(T);return i(S),d(null),o(!1),T}catch(T){throw d("Failed to create session"),o(!1),T}},[]),_=tt.useCallback(async()=>{if(r)try{await ov(r,{isActive:!1})}catch(T){throw d("Failed to stop sharing"),T}},[r]),y=tt.useCallback(async()=>{if(!(!r||!e))try{await ov(r,{isPaused:!e.isPaused})}catch(T){throw d("Failed to toggle pause"),T}},[r,e]);return{session:e,loading:s,error:f,createSession:g,stopSharing:_,togglePause:y}},WR=(r={})=>{const{enableHighAccuracy:e=!0,timeout:i=1e4,maximumAge:s=0,watch:o=!1}=r,[f,d]=tt.useState({latitude:null,longitude:null,accuracy:null,error:null,loading:!0}),g=tt.useCallback(T=>{d({latitude:T.coords.latitude,longitude:T.coords.longitude,accuracy:T.coords.accuracy,error:null,loading:!1})},[]),_=tt.useCallback(T=>{let S="Unknown error occurred";switch(T.code){case T.PERMISSION_DENIED:S="Location permission denied";break;case T.POSITION_UNAVAILABLE:S="Location information unavailable";break;case T.TIMEOUT:S="Location request timeout";break}d({latitude:null,longitude:null,accuracy:null,error:S,loading:!1})},[]);tt.useEffect(()=>{if(!navigator.geolocation){d({latitude:null,longitude:null,accuracy:null,error:"Geolocation is not supported by this browser",loading:!1});return}const T={enableHighAccuracy:e,timeout:i,maximumAge:s};let S;return o?S=navigator.geolocation.watchPosition(g,_,T):navigator.geolocation.getCurrentPosition(g,_,T),()=>{S!==void 0&&navigator.geolocation.clearWatch(S)}},[o,e,i,s,g,_]);const y=tt.useCallback(()=>{navigator.geolocation&&(d(T=>({...T,loading:!0})),navigator.geolocation.getCurrentPosition(g,_,{enableHighAccuracy:e,timeout:i,maximumAge:s}))},[e,i,s,g,_]);return{...f,getCurrentPosition:y}},tw=({sessionId:r,isActive:e,isPaused:i,updateInterval:s=1e4})=>{const{latitude:o,longitude:f,accuracy:d,error:g}=WR({watch:!0,enableHighAccuracy:!0}),_=tt.useRef(0);return tt.useEffect(()=>{if(!r||!e||i||o===null||f===null||d===null)return;const y=Date.now();if(y-_.current<s)return;(async()=>{try{await ZR(r,{latitude:o,longitude:f,accuracy:d}),_.current=y}catch(V){console.error("Failed to save location:",V)}})()},[r,e,i,o,f,d,s]),{currentLocation:o&&f?{latitude:o,longitude:f,accuracy:d}:null,error:g}},cE=(r,e=100)=>{const[i,s]=tt.useState([]),[o,f]=tt.useState(!0);return tt.useEffect(()=>{if(!r){f(!1);return}f(!0);const d=$R(r,g=>{s(g),f(!1)},e);return()=>{d()}},[r,e]),{locations:i,loading:o}},ew="AIzaSyAGCR1KxMW1jq3oQIT7NKovdpyN9mMMfaQ",nw=({locations:r})=>{const e=Sc();return tt.useEffect(()=>{if(!e||r.length<2)return;const i=r.map(o=>({lat:o.latitude,lng:o.longitude})),s=new google.maps.Polyline({path:i,geodesic:!0,strokeColor:"#4285F4",strokeOpacity:.8,strokeWeight:4});return s.setMap(e),()=>{s.setMap(null)}},[e,r]),null},iw=()=>{const[r,e]=tt.useState(void 0),[i,s]=tt.useState(!1),[o,f]=tt.useState(""),{session:d,createSession:g,stopSharing:_,togglePause:y}=uE(r),{currentLocation:T,error:S}=tw({sessionId:r,isActive:d?.isActive??!1,isPaused:d?.isPaused??!1,updateInterval:1e4}),{locations:V}=cE(r),j=tt.useMemo(()=>T?{lat:T.latitude,lng:T.longitude}:{lat:35.6812,lng:139.7671},[T]),H=async()=>{try{const ut=await g();e(ut);const wt=`${window.location.origin+window.location.pathname}?session=${ut}`;f(wt),s(!0)}catch(ut){console.error("Failed to start sharing:",ut),alert("")}},$=async()=>{if(window.confirm(""))try{await _(),e(void 0),s(!1)}catch(ut){console.error("Failed to stop sharing:",ut),alert("")}},J=async()=>{try{await y()}catch(ut){console.error("Failed to toggle pause:",ut),alert("")}},rt=async()=>{try{await navigator.clipboard.writeText(o),alert("URL")}catch(ut){console.error("Failed to copy:",ut),alert("")}};return it.jsxs("div",{className:"relative w-full h-screen",children:[it.jsx(fv,{apiKey:ew,children:it.jsxs(Id,{defaultCenter:j,defaultZoom:15,mapId:"location-sharing-map",disableDefaultUI:!1,className:"w-full h-full",children:[T&&it.jsx(Vd,{position:{lat:T.latitude,lng:T.longitude}}),it.jsx(nw,{locations:V})]})}),it.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-lg p-4 flex items-center gap-3",children:d?.isActive?it.jsxs(it.Fragment,{children:[it.jsxs("button",{onClick:$,className:"px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 font-semibold flex items-center gap-2",children:[it.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:it.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),""]}),it.jsx("button",{onClick:J,className:`px-6 py-3 rounded-lg font-semibold flex items-center gap-2 ${d.isPaused?"bg-green-500 hover:bg-green-600 text-white":"bg-yellow-500 hover:bg-yellow-600 text-white"}`,children:d.isPaused?it.jsxs(it.Fragment,{children:[it.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[it.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),it.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),""]}):it.jsxs(it.Fragment,{children:[it.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:it.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),""]})})]}):it.jsxs("button",{onClick:H,className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 font-semibold flex items-center gap-2",children:[it.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:it.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),""]})}),i&&it.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:it.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full",children:[it.jsx("h2",{className:"text-xl font-bold mb-4",children:"URL"}),it.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"URL"}),it.jsx("div",{className:"bg-gray-100 p-3 rounded border border-gray-300 mb-4 break-all text-sm",children:o}),it.jsxs("div",{className:"flex gap-3",children:[it.jsx("button",{onClick:rt,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"URL"}),it.jsx("button",{onClick:()=>s(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:""})]})]})}),S&&it.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg",children:S}),d?.isActive&&it.jsx("div",{className:"absolute bottom-4 right-4 bg-white rounded-lg shadow-lg p-3",children:it.jsxs("div",{className:"flex items-center gap-2",children:[it.jsx("div",{className:`w-3 h-3 rounded-full ${d.isPaused?"bg-yellow-500":"bg-green-500"}`}),it.jsx("span",{className:"text-sm font-medium",children:d.isPaused?"":""})]})})]})},aw="AIzaSyAGCR1KxMW1jq3oQIT7NKovdpyN9mMMfaQ",rw=({locations:r})=>{const e=Sc();return tt.useEffect(()=>{if(!e||r.length<2)return;const i=r.map(o=>({lat:o.latitude,lng:o.longitude})),s=new google.maps.Polyline({path:i,geodesic:!0,strokeColor:"#4285F4",strokeOpacity:.8,strokeWeight:4});return s.setMap(e),()=>{s.setMap(null)}},[e,r]),null},sw=({sessionId:r})=>{const{session:e,loading:i,error:s}=uE(r),{locations:o,loading:f}=cE(r),d=tt.useMemo(()=>{if(o.length>0){const _=o[o.length-1];return{lat:_.latitude,lng:_.longitude}}return{lat:35.6812,lng:139.7671}},[o]),g=tt.useMemo(()=>o.length>0?o[o.length-1]:null,[o]);return i?it.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-gray-100",children:it.jsxs("div",{className:"text-center",children:[it.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),it.jsx("p",{className:"text-gray-600",children:"..."})]})}):s||!e?it.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-gray-100",children:it.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg",children:[it.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:it.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),it.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),it.jsx("p",{className:"text-gray-600",children:"URL"})]})}):e.isActive?it.jsxs("div",{className:"relative w-full h-screen",children:[it.jsx(fv,{apiKey:aw,children:it.jsxs(Id,{defaultCenter:d,defaultZoom:15,mapId:"location-sharing-map",disableDefaultUI:!1,className:"w-full h-full",children:[g&&!e.isPaused&&it.jsx(Vd,{position:{lat:g.latitude,lng:g.longitude}}),it.jsx(rw,{locations:o})]})}),it.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-lg p-4",children:it.jsxs("div",{className:"flex items-center gap-2",children:[it.jsx("div",{className:`w-3 h-3 rounded-full ${e.isPaused?"bg-yellow-500 animate-pulse":"bg-green-500"}`}),it.jsx("span",{className:"text-sm font-medium",children:e.isPaused?"":""})]})}),e.isPaused&&it.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-yellow-100 border border-yellow-400 text-yellow-800 px-6 py-3 rounded-lg shadow-lg",children:""}),f&&o.length===0&&it.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-blue-100 border border-blue-400 text-blue-800 px-6 py-3 rounded-lg shadow-lg",children:"..."}),g&&!e.isPaused&&it.jsxs("div",{className:"absolute bottom-4 right-4 bg-white rounded-lg shadow-lg p-4 text-sm",children:[it.jsx("div",{className:"font-semibold mb-2",children:""}),it.jsxs("div",{className:"text-gray-600 space-y-1",children:[it.jsxs("div",{children:[": ",g.latitude.toFixed(6)]}),it.jsxs("div",{children:[": ",g.longitude.toFixed(6)]}),it.jsxs("div",{children:[": ",Math.round(g.accuracy),"m"]}),it.jsx("div",{className:"text-xs text-gray-500 mt-2",children:new Date(g.timestamp).toLocaleString("ja-JP")})]})]})]}):it.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-gray-100",children:it.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg",children:[it.jsx("svg",{className:"w-16 h-16 text-yellow-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:it.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),it.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),it.jsx("p",{className:"text-gray-600",children:""})]})})};function lw(){const e=new URLSearchParams(window.location.search).get("session");return e?it.jsx(sw,{sessionId:e}):it.jsx(iw,{})}XT.createRoot(document.getElementById("root")).render(it.jsx(tt.StrictMode,{children:it.jsx(lw,{})}));
